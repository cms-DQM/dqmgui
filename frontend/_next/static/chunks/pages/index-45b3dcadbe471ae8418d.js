(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{83044:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return xn}});var n=a(30266),r=a(809),o=a.n(r),s=a(67294),i=a(9008),l=a(11163),u=a(15746),c=a(31097),d=a(13722),m=a(41094),h=a(80318),y=a(74004),p=a(7653),f=a(41156),L=a(30454),g=a(11382),b=a(92809),C=a(9669),x=a.n(C),S=a(4299);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,b.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=(0,s.useState)(null),l=i[0],u=i[1],c=(0,s.useState)(!1),d=c[0],m=c[1],h=(0,s.useRef)(null),y=(0,s.useState)([]),p=y[0],f=y[1];return(0,s.useEffect)((function(){var e;h&&(null===(e=h.current)||void 0===e||e.cancel())}),[]),(0,s.useEffect)((function(){var a=x().CancelToken;return h.current=a.source(),r&&function(){var a=(0,n.Z)(o().mark((function a(){var n,r,s,i,l;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m(!0);case 2:return a.prev=2,setTimeout(null===(n=h.current)||void 0===n?void 0:n.cancel,18e4),a.next=6,x().request(j({url:"".concat(S.Jg).concat(e),method:t.method||"get",cancelToken:null===(r=h.current)||void 0===r?void 0:r.token},t));case 6:s=a.sent,i=s.data,u(i),m(!1),a.next=18;break;case 12:a.prev=12,a.t0=a.catch(2),m(!1),f([a.t0.toString()]),x().isCancel(a.t0)&&(m(!1),f(["Request Timeout"])),null===(l=h.current)||void 0===l||l.cancel();case 18:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(){return a.apply(this,arguments)}}()(),function(){return f([])}}),a),{data:l,isLoading:d,errors:p,cancelSource:h}},v=a(69046),T=a(85893),E=function(e){var t=e.query,a=e.info,n=e.not_older_than,r={run_number:t.run_number,dataset_name:t.dataset_name,lumi:t.lumi,folders_path:"HLT/EventInfo",plot_name:a.value,notOlderThan:n},o=P((0,v.XB)(r),{},[t.dataset_name,t.run_number]),s=o.data,i=o.isLoading;return(0,T.jsxs)(f.Y0,{display:"flex",justifycontent:"space-between",children:[(0,T.jsx)(f.cj,{space:"1",children:a.label}),(0,T.jsx)(f.cj,{space:"1",bold:"true",children:i?(0,T.jsx)(g.Z,{size:"small"}):function(e){var t=s?s.fString:null;return"time"===e.type&&t?new Date(1e3*parseInt(t)).toUTCString():t||"No information"}(a)})]})},k=a(253),M=a(7826),O=a.n(M),w=a(50681),R=a(96486),G=a.n(R);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,b.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H=function(e){var t=e?e.split("/"):["","",""],a=O()(t);return a.reduce((function(e,t){var n=a.indexOf(t),r="part_".concat(n);return Z(Z({},e),{},(0,b.Z)({},r,t))}),{})},I=function(e){if(e){var t=null===e||void 0===e?void 0:e.split("&");return null===t||void 0===t?void 0:t.map((function(e){var t=(0,w.Z)(),a=e?O()(e.split("/")):void 0,n=a?a.pop():"";return{id:t,checked:!0,run_number:a?a.shift():"",dataset_name:a?"/"+(null===a||void 0===a?void 0:a.join("/")):"",label:n}}))}return[]},q=function(e,t){var a=e.map((function(e){return H(e)}));return G().chain(a).groupBy(t).value()},F=function(e,t,a,n,r){var o=n.filter((function(e){return e.id===a}))[0],s=n.indexOf(o);return o[t]=e,n[s]=o,r(n)},Q=a(18554),B=function(e,t){var a=(e?e.split("&"):[]).map((function(e){var a=encodeURI(t.name);if([t.run_number+t.dataset_name,t.path,a].join("/")!==e)return e}));return O()(a).join("&")},N=function(e,t){var a,n=t.run_number,r=null===(a=t.dataset_name)||void 0===a?void 0:a.substring(1),o=t.path,s=t.name,i=[n,r,o,encodeURI(s)].join("/");return"".concat(e?e+"&":"").concat(i)},A=function(e){var t=e&&e.map((function(e){return"".concat(e.run_number).concat(e.dataset_name,"/").concat(e.label?e.label:e.run_number)}));return null===t||void 0===t?void 0:t.join("&")},z=function(e,t,a,n,r){return O()({run_number:t.run_number?t.run_number:"",dataset_name:t.dataset_name?t.dataset_name:"",folders_path:n,plot_name:a,height:r?e.rightSideSize.h:e.size.h,width:r?e.rightSideSize.w:e.size.w,customise:e.customise,overlay:e.overlayPosition,notOlderThan:e.updated_by_not_older_than?e.updated_by_not_older_than:"",overlay_plot:t.overlay_data?I(t.overlay_data):[],normalize:e.normalize,stats:e.stats,error:e.error,lumi:e.lumisection})},U=function(e,t){return(0,Q.Cg)((0,Q.Eg)({selected_plots:"".concat(N(e.selected_plots,t))},e))},V=function(e,t){(0,Q.Cg)((0,Q.Eg)({selected_plots:"".concat(B(e.selected_plots,t))},e))},J=function(e){e&&e.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},W=function(e){e&&e.current&&(e.current.scrollTop=e.current.scrollHeight)},X=function(e){var t=!1;return S.f9.new_back_end.new_back_end?!(!e.qteststatuses||!e.qteststatuses.find((function(e){return 300===e}))):(e.qteststatuses&&e.qteststatuses.forEach((function(e){if(e.hasOwnProperty("status")&&300===e.status)return t=!0,!0})),t||t)},Y=a(56523),$=a(26964),K=a(67034),ee=function(e){var t=e.query,a=e.toggleModal,n=e.open,r=s.useContext(Y.h),o=s.useContext($.h).not_older_than,i=z(r,t,"iRun","HLT/EventInfo");i.notOlderThan=o;var l=P((0,v.XB)(i),{},[t.dataset_name,t.run_number]).data,u=(0,K.uw)({value:"iRun",label:"Run"},l);return(0,T.jsx)(p.oA,{title:"Run ".concat(u," information"),visible:n,onCancel:function(){return a(!1)},footer:[(0,T.jsx)(f.Sn,{color:L.r.colors.secondary.main,background:"white",onClick:function(){return a(!1)},children:"Close"},"Close")],children:n&&(0,T.jsx)("div",{children:k.RX.map((function(e){return(0,T.jsx)(E,{info:e,query:t,not_older_than:o})}))})})},te=function(e){var t=e.query,a=s.useState(!1),n=(0,h.Z)(a,2),r=n[0],o=n[1];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(ee,{toggleModal:o,open:r,query:t}),(0,T.jsx)(u.Z,{onClick:function(){return o(!r)},style:{width:"min-content"},children:(0,T.jsx)(y.k,{content:"Run info",children:(0,T.jsx)(f.gS,{})})})]})},ae=a(7742),ne=ae.Z.Title,re=function(e){var t=e.query,a=s.useContext($.h),n=a.not_older_than,r=a.addLoader;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(f.yV,{display:"flex",style:{alignItems:"center"},children:k.ih.map((function(e){var a={run_number:t.run_number,dataset_name:t.dataset_name,folders_path:"HLT/EventInfo",lumi:-1,notOlderThan:n,plot_name:e.value},o=P((0,v.XB)(a),{},[t.dataset_name,t.run_number,n]),i=o.data,l=o.isLoading,u=s.useState(),c=(0,h.Z)(u,2),d=c[0],m=c[1];return s.useEffect((function(){var e=(0,K.YO)();m(e)}),[]),s.useEffect((function(){r({value:l,id:d})}),[l]),(0,T.jsx)(f.Br,{space:"8",width:"fit-content",color:L.r.colors.common.white,name:e.label,label:e.label,children:(0,T.jsx)(ne,{level:4,style:{color:"white",display:"content"},children:l?(0,T.jsx)(g.Z,{size:"small"}):(0,K.uw)(e,i)})})}))})})},oe=a(80129),se=a.n(oe),ie=a(67637),le=a(48086),ue=a(72),ce=a(32869),de=a(10925),me=a(71230),he=function(e){var t=e.index,a=e.dataset,n=e.runs,r=e.handler,o=e.alreadySeletected,i=(0,s.useState)(!1),l=i[0],u=i[1],c=!!o&&o.length>=8;return(0,T.jsxs)(de.AF,{expanded:l,index:t,children:[(0,T.jsx)(de.aN,{children:(0,T.jsxs)("div",{children:[a,l&&(0,T.jsx)(de.EN,{children:n.map((function(e){var t=e,n=a,s=o&&o.length>0?o.findIndex((function(e){return e.dataset_name===n&&e.run_number===t})):-1,i=!!c||s>=0;return(0,T.jsx)(de.N6,{children:(0,T.jsx)(de.ux,{onClick:function(t){return!i&&r(e,a,t)},hover:"true",disabled:i.toString(),children:(0,T.jsx)(de.nB,{"aria-disabled":i,children:e})})},e)}))})]})}),(0,T.jsx)(de.LK,{children:(0,T.jsx)(f.H7,{onClick:function(){return u(!l)},children:(0,T.jsxs)(me.Z,{children:[(0,T.jsx)(f.cj,{space:"1",children:n.length}),(0,T.jsx)(f.cj,{space:"1",children:l?(0,T.jsx)(ue.Z,{}):(0,T.jsx)(ce.Z,{})})]})})})]})},ye=a(4838),pe=function(e){var t=e.handler,a=e.results_grouped,n=e.isLoading,r=e.errors,o=e.alreadySeletected,i=!!o&&o.length>=8;(0,s.useEffect)((function(){i&&le.ZP.warning("Maximum can be overlaid 8 plots in total")}),[i]);var l=r&&r.length>0?r:[],u=o?o.map((function(e){return{run_number:e.run_number,dataset_name:e.dataset_name}})):[];return(0,T.jsx)(de.SD,{overflowx:"hidden",children:n?(0,T.jsx)(de.Zh,{children:(0,T.jsx)(de.$j,{})}):(0,T.jsx)(T.Fragment,{children:0!==a.length||n||0!==l.length?n||0!==l.length?!n&&l.length>0&&l.map((function(e){return(0,T.jsx)(de.RY,{message:e,type:"error",showIcon:!0},e)})):(0,T.jsxs)(de.k6,{children:[(0,T.jsx)(de.UT,{children:(0,T.jsxs)(de.AF,{noHover:!0,children:[(0,T.jsx)(de.aN,{children:"Dataset"}),(0,T.jsx)(de.LK,{children:"Runs"})]})}),(0,T.jsx)(de.RM,{children:a.map((function(e,a){var n=e.dataset,r=e.runs;return(0,T.jsx)(he,{alreadySeletected:u,index:a,handler:t,dataset:n,runs:r},n)}))})]}):(0,T.jsx)(ye.Q,{})})})},fe=a(83789),Le=function(e,t){var a=!(!e&&!t),n=e||"",r=t||"",o=(0,Q.Ux)({dataset_name:r,run_number:n,lumi:""}),s=P(o,{},[e,t],a),i=s.data,l=s.isLoading,u=s.errors,c=function(e){if(S.f9.new_back_end.new_back_end)return e&&e.data;if(e){var t=e.samples;return t?t.reduce((function(e,t){var a=t.items;return[].concat((0,fe.Z)(e),(0,fe.Z)(a))}),[]):[]}}(i);return a&&null!==i&&0!==c.lenght?{results_grouped:G().chain(c).sortBy("dataset").groupBy("dataset").map((function(e,t){var a=e.map((function(e){return e.run}));return a.sort((function(e,t){return e-t})),{dataset:t,runs:a}})).value(),searching:a,isLoading:l,errors:u}:{results_grouped:[],searching:a,isLoading:l,errors:u}},ge=a(40120),be=a(71577),Ce=a(13995),xe=a(68002),Se=a(46245),_e=ge.Z.Option,je=function(e){var t=e.color,a=e.currentLumisection,n=e.handler,r=e.currentRunNumber,o=e.currentDataset,i=s.useState([{label:"All",value:0}]),l=(0,h.Z)(i,2),c=l[0],d=l[1],m=P((0,Se.H6)({run_number:r,dataset_name:o,lumi:-1}),{},[r,o]),y=m.data,L=m.isLoading,b=(m.errors,y?y.data:[]);s.useEffect((function(){var e=b.length>0?b.map((function(e){return{label:e.lumi.toString(),value:e.lumi}})):[],t=(0,fe.Z)(c).concat(e);d(t)}),[b]);var C=c.map((function(e){return e.value})),x=-1===C.indexOf(a)?0:C.indexOf(a);return(0,T.jsx)(u.Z,{children:(0,T.jsx)(f.jp,{labelcolor:t,name:"lumi",label:"Lumi",children:(0,T.jsxs)(me.Z,{justify:"center",align:"middle",children:[(0,T.jsx)(u.Z,{children:(0,T.jsx)(be.Z,{disabled:!c[x-1],icon:(0,T.jsx)(Ce.Z,{}),type:"link",onClick:function(){n(C[x-1])}})}),(0,T.jsx)(u.Z,{children:(0,T.jsx)(p.Qr,{dropdownMatchSelectWidth:!1,value:C[x],onChange:function(e){n(parseInt(e))},showSearch:!0,children:c&&c.map((function(e){return(0,T.jsx)(_e,{value:e.value,children:L?(0,T.jsx)(p.hb,{children:(0,T.jsx)(g.Z,{})}):(0,T.jsx)("p",{children:e.label})},e.value.toString())}))})}),(0,T.jsx)(u.Z,{children:(0,T.jsx)(be.Z,{icon:(0,T.jsx)(xe.Z,{}),disabled:!c[x+1],type:"link",onClick:function(){n(C[x+1])}})})]})})})},Pe=a(50963),ve=a(47933),Te=function(e){var t=e.options,a=e.action,n=e.current_value,r=e.getOptionValue,o=e.getOptionLabel,i=e.radioColor,l=e.disabled,u=s.useState(n),c=(0,h.Z)(u,2),d=c[0],m=c[1];return(0,T.jsx)(ve.ZP.Group,{onChange:function(e){a(e.target.value),m(e.target.value)},value:d,disabled:l,children:t.map((function(e){return(0,T.jsx)(f.Ks,{color:i,value:r(e),children:o(e)},e.label)}))})},Ee=[{value:!0,label:"Yes"},{value:!1,label:"No"}],ke=function(e){var t=e.dataset_name,a=e.run_number,n=e.form,r=e.toggleRunInNewTab,o=e.openRunInNewTab,i=s.useContext(Y.h),c=i.lumisection,d=i.setLumisection,m=(0,l.useRouter)().query;return(0,T.jsxs)(Pe.ZP,{form:n,onFinish:function(e){(0,Q.Cg)((0,Q.Eg)(e,m))},fields:[{name:"dataset_name",value:t},{name:"run_number",value:a},{name:"lumi",value:c}],children:[(0,T.jsx)("hr",{}),(0,T.jsx)(me.Z,{children:(0,T.jsx)(f.jp,{name:"dataset_name",label:"Dataset name",children:(0,T.jsx)(f.Vl,{children:t})})}),(0,T.jsx)(me.Z,{children:(0,T.jsx)(f.jp,{name:"run_number",label:"Run number",children:(0,T.jsx)(f.Vl,{children:a})})}),"OFFLINE"===S.f9.mode&&S.f9.new_back_end&&(0,T.jsx)(me.Z,{children:(0,T.jsx)(u.Z,{children:(0,T.jsx)(je,{color:"black",handler:function(e){d(e)},currentLumisection:c,currentDataset:t,currentRunNumber:a})})}),(0,T.jsx)("hr",{}),(0,T.jsx)(me.Z,{children:(0,T.jsx)(f.jp,{name:"open_in_a_new_a_tab",label:"Open in a new tab?",children:(0,T.jsx)(Te,{options:Ee,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},current_value:o,action:function(e){r(e)}})})}),(0,T.jsx)("hr",{})]})},Me=a(76570),Oe=function(e){var t=e.onClick;return(0,T.jsx)(f.Sn,{htmlType:"submit",onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return t()})),shape:"circle",icon:(0,T.jsx)(Me.Z,{})})},we=function(){return(0,T.jsx)(c.Z,{title:"Search can be done by run number or by dataset name, or by both",children:(0,T.jsx)(f.Db,{children:(0,T.jsx)(f.JO,{})})})};function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(a),!0).forEach((function(t){(0,b.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var De=function(e){var t=e.initial_search_run_number,a=e.initial_search_dataset_name,n=e.setRunNumber,r=e.setDatasetName,o=e.handler,i=e.type,l=e.defaultRunNumber,u=e.defaultDatasetName,c=ie.Z.useForm(),d=(0,h.Z)(c,1)[0],m=(0,s.useState)(t||""),y=m[0],p=m[1],L=(0,s.useState)(a||""),g=L[0],b=L[1];(0,s.useEffect)((function(){d.resetFields(),p(t||""),b(a||"")}),[t,a,d]);return(0,T.jsx)("div",{style:{justifyContent:"center",width:"max-content"},children:(0,T.jsxs)(f.yV,Ge(Ge({form:d,layout:"inline",justifycontent:"center"},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"search_form".concat(i),className:"fieldLabel",initialValues:{run_number:t,dataset_name:a},onFinish:function(){y&&n(y),g&&r(g)},children:[(0,T.jsx)(ie.Z.Item,{children:(0,T.jsx)(we,{})}),(0,T.jsx)(f.jp,{name:"run_number",children:(0,T.jsx)(f.Fy,{id:"run_number",onChange:function(e){return p(e.target.value)},placeholder:"Enter run number",type:"text",name:"run_number",value:l})}),"ONLINE"!==S.f9.mode&&(0,T.jsx)(f.jp,{name:"dataset_name",children:(0,T.jsx)(f.Fy,{id:"dataset_name",placeholder:"Enter dataset name",onChange:function(e){return b(e.target.value)},type:"text",value:u})}),(0,T.jsx)(ie.Z.Item,{children:(0,T.jsx)(Oe,{onClick:function(){return o(y,g)}})})]}))})},Ze=function(e){window.open(e,"_blank")},He=function(e){var t=e.setModalState,a=e.modalState,r=e.search_run_number,i=e.search_dataset_name,u=e.setSearchDatasetName,c=e.setSearchRunNumber,d=(0,l.useRouter)().query,m=d.dataset_name?d.dataset_name:"",y=(0,s.useState)(m),g=y[0],b=y[1],C=(0,s.useState)(!1),x=C[0],S=C[1],_=d.run_number?d.run_number:"",j=(0,s.useState)(_),P=j[0],v=j[1];(0,s.useEffect)((function(){var e=d.run_number?d.run_number:"",t=d.dataset_name?d.dataset_name:"";b(t),v(e)}),[d.dataset_name,d.run_number]);var E=function(){t(!1)},k=Le(r,i),M=k.results_grouped,O=k.searching,w=k.isLoading,R=k.errors,G=function(){var e=(0,n.Z)(o().mark((function e(){var t,a,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=7;break}t=Z.getFieldsValue(),a=se().stringify((0,Q.Eg)(t,d)),n=window.location.href.split("/?")[0],Ze("".concat(n,"/?").concat(a)),e.next=9;break;case 7:return e.next=9,Z.submit();case 9:E();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=ie.Z.useForm(),Z=(0,h.Z)(D,1)[0];return(0,T.jsx)(p.oA,{title:"Search data",visible:a,onCancel:function(){return E()},footer:[(0,T.jsx)(f.Sn,{color:L.r.colors.secondary.main,background:"white",onClick:function(){return E()},children:"Close"},"Close"),(0,T.jsx)(f.Sn,{onClick:G,children:"OK"},"OK")],children:a&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(De,{initial_search_run_number:r,initial_search_dataset_name:i,defaultDatasetName:g,defaultRunNumber:P,handler:function(e,t){c(e),u(t)},type:"top"}),(0,T.jsx)(ke,{form:Z,dataset_name:g,run_number:P,toggleRunInNewTab:S,openRunInNewTab:x}),O?(0,T.jsx)(p.Xc,{children:(0,T.jsx)(pe,{handler:function(e,t){b(t),v(e)},isLoading:w,results_grouped:M,errors:R})}):(0,T.jsx)(p.Xc,{})]})})},Ie=a(50298),qe=ge.Z.Option,Fe=function(e){var t=e.withoutArrows,a=e.setCurrentDataset,n=e.selectorWidth,r=e.query,o=e.current_dataset_name,i=e.current_run_number,l=(0,s.useState)(!1),c=l[0],d=l[1],m=(0,s.useState)(0),h=m[0],y=m[1],L=i||r.run_number,b=Le(L,""),C=b.results_grouped,x=b.isLoading,S=C.map((function(e){return e.dataset}));return(0,s.useEffect)((function(){var e=o||r.dataset_name;y(S.indexOf(e))}),[x,S]),(0,T.jsxs)(me.Z,{justify:"center",align:"middle",children:[!t&&(0,T.jsx)(u.Z,{children:(0,T.jsx)(be.Z,{disabled:!S[h-1],type:"link",icon:(0,T.jsx)(Ce.Z,{}),onClick:function(){a(S[h-1])}})}),(0,T.jsx)(f.cj,{width:n,children:(0,T.jsx)("div",{children:(0,T.jsx)(p.Qr,{onChange:function(e){a(e)},value:S[h],dropdownMatchSelectWidth:!1,onClick:function(){return d(!c)},open:c,showSearch:!0,children:C.map((function(e){return(0,T.jsx)(qe,{onClick:function(){d(!1)},value:e.dataset,children:x?(0,T.jsx)(p.hb,{children:(0,T.jsx)(g.Z,{})}):(0,T.jsx)("p",{children:e.dataset})},e.dataset)}))})})}),!t&&(0,T.jsx)(u.Z,{children:(0,T.jsx)(be.Z,{type:"link",disabled:!S[h+1],icon:(0,T.jsx)(xe.Z,{}),onClick:function(){a(S[h+1])}})})]})},Qe=ge.Z.Option,Be=function(e){var t=e.setName,a=e.setGroupBy,n=e.resultsNames,r=e.restParts,o=e.part,i=e.name,l=e.setSelectedParts,u=e.selectedParts,c=e.selectedName,d=(0,s.useState)(i),m=d[0],h=d[1],y=(0,s.useState)(!1),L=y[0],g=y[1];return(0,T.jsxs)(p.Qr,{dropdownMatchSelectWidth:!1,defaultValue:i,selected:c===m?"selected":"",onChange:function(e){u[o]=e,l(u),a(o),h(e),t(e)},onClick:function(){return g(!L)},open:L,children:[n.map((function(e){return(0,T.jsx)(Qe,{value:e,onClick:function(){return g(!1)},children:(0,T.jsx)(f.du,{availability:"available",children:e})},e)})),r.map((function(e){return(0,T.jsx)(Qe,{value:e,children:(0,T.jsx)(f.du,{children:e})},e)}))]})},Ne=function(e,t){var a=H(t),n=Object.keys(a).sort(),r=Le(e,"").results_grouped.map((function(e){return e.dataset})),o=n[0],i=(0,s.useState)(o),l=i[0],u=i[1],c=(0,s.useState)(a[o]),d=c[0],m=c[1],h=(0,s.useState)(H(t)),y=h[0],p=h[1],f=q(r,l),L=Object.values(y);L.unshift("");var g=L.join("/"),C=r.includes(g);return{availableAndNotAvailableDatasetParts:n.map((function(e){var t=function(e,t,a){var n=e[t]?G().uniq(e[t].map((function(e){return e[a]}))):[];return 1===n.length&&n[0]===t?Object.keys(e):n}(f,d,e),a=function(e,t,a){return Object.keys(q(t,a)).filter((function(t){return!e.includes(t)}))}(t,r,e);return(0,b.Z)({},e,{availableChoices:t,notAvailableChoices:a})})),setSelectedParts:p,selectedParts:y,setLastSelectedDatasetPartValue:m,lastSelectedDatasetPartValue:d,setLastSelectedDatasetPartPosition:u,doesCombinationOfSelectedDatasetPartsExists:C,fullDatasetName:g}},Ae=function(e){var t=e.currentDataset,a=e.query,n=e.currentRunNumber,r=Ne(n,t),o=r.availableAndNotAvailableDatasetParts,i=r.setSelectedParts,l=r.selectedParts,c=r.setLastSelectedDatasetPartValue,d=r.lastSelectedDatasetPartValue,m=r.setLastSelectedDatasetPartPosition,h=r.doesCombinationOfSelectedDatasetPartsExists,y=r.fullDatasetName;return(0,s.useEffect)((function(){h&&(0,Q.Cg)((0,Q.Eg)({dataset_name:y},a))}),[y]),(0,T.jsxs)(me.Z,{children:[o.map((function(e){var t=Object.keys(e)[0];return(0,T.jsx)(u.Z,{children:(0,T.jsx)(Be,{restParts:e[t].notAvailableChoices,part:t,resultsNames:e[t].availableChoices,setGroupBy:m,setName:c,selectedName:d,name:l[t],setSelectedParts:i,selectedParts:l})})})),(0,T.jsx)(u.Z,{children:h?(0,T.jsx)(f.vQ,{}):(0,T.jsx)(f.To,{})})]})},ze=ge.Z.Option,Ue=function(e){var t=e.query,a=e.setCurrentRunNumber,n=e.withoutArrows,r=e.withoutLabel,o=e.current_run_number,i=e.current_dataset_name,l=(0,s.useState)(!1),c=l[0],d=l[1],m=(0,s.useState)(0),h=m[0],y=m[1],L=i||t.dataset_name,b=Le("",L),C=b.results_grouped,x=b.isLoading,S=C[0]?C[0].runs.map((function(e){return e.toString()})):[];return(0,s.useEffect)((function(){var e=o?o.toString():t.run_number;y(S.indexOf(e))}),[S,x]),(0,T.jsx)(u.Z,{children:(0,T.jsx)(f.jp,{labelcolor:"white",name:"dataset_name",label:"".concat(r?"":"Run"),children:(0,T.jsxs)(me.Z,{justify:"center",align:"middle",children:[!n&&(0,T.jsx)(u.Z,{children:(0,T.jsx)(be.Z,{disabled:!S[h-1],icon:(0,T.jsx)(Ce.Z,{}),type:"link",onClick:function(){a(S[h-1])}})}),(0,T.jsx)(u.Z,{children:(0,T.jsx)("div",{children:(0,T.jsx)(p.Qr,{width:"100px",onClick:function(){return d(!c)},value:S[h],onChange:function(e){a(e),d(!c)},showSearch:!0,open:c,children:S&&S.map((function(e){return(0,T.jsx)(ze,{onClick:function(){d(!1)},value:e,children:x?(0,T.jsx)(p.hb,{children:(0,T.jsx)(g.Z,{})}):(0,T.jsx)("div",{children:e})},e.toString())}))})})}),!n&&(0,T.jsx)(u.Z,{children:(0,T.jsx)(be.Z,{icon:(0,T.jsx)(xe.Z,{}),disabled:!S[h+1],type:"link",onClick:function(){a(S[h+1])}})})]})})})},Ve=a(14289),Je=a(13013),We=a(57254),Xe=function(e){var t=e.options,a=e.defaultValue,n=e.action,r=(0,s.useState)(a),o=r[0],i=r[1];return(0,T.jsx)(me.Z,{children:(0,T.jsx)(u.Z,{children:(0,T.jsx)(Je.Z,{overlay:function(e,t){return(0,T.jsx)(Ve.Z,{children:e.map((function(e){return(0,T.jsx)(Ve.Z.Item,{onClick:function(){n&&n(e.value),i(e)},children:(0,T.jsx)("div",{children:e.label})},e.value)}))})}(t),trigger:["hover"],children:(0,T.jsxs)("a",{style:{color:"white"},children:[o.label," ",(0,T.jsx)(We.Z,{})," "]})})})})},Ye=function(){var e=(0,s.useState)(k.r_[0].value),t=e[0],a=e[1],n=(0,l.useRouter)().query,r=n.run_number?n.run_number:"",o=n.dataset_name?n.dataset_name:"",i=n.lumi?parseInt(n.lumi):NaN,u=s.useContext(Y.h).setLumisection,c=(0,s.useState)(r),d=c[0],m=c[1],h=(0,s.useState)(o),y=h[0],p=h[1];return(0,s.useEffect)((function(){(0,Q.Cg)((0,Q.Eg)({run_number:d,dataset_name:y},n))}),[d,y]),(0,T.jsx)(Pe.ZP,{children:(0,T.jsxs)(Ie.Kv,{children:[(0,T.jsx)(Ie.Kv,{children:(0,T.jsx)(Ue,{query:n,setCurrentRunNumber:m})}),(0,T.jsx)(Ie.Kv,{children:"OFFLINE"===S.f9.mode&&S.f9.new_back_end&&(0,T.jsx)(je,{currentLumisection:i,currentRunNumber:d,currentDataset:y,handler:function(e){(0,Q.Cg)((0,Q.Eg)({lumi:e},n)),u(e)},color:"white"})}),"ONLINE"!==S.f9.mode&&(0,T.jsx)(f.jp,{labelcolor:"white",label:(0,T.jsx)(Xe,{options:k.r_,action:a,defaultValue:k.r_[0]}),children:t===k.r_[0].value?(0,T.jsx)(Ie.Kv,{children:(0,T.jsx)(Fe,{setCurrentDataset:p,query:n})}):(0,T.jsx)(Ie.Kv,{children:(0,T.jsx)(Ae,{currentRunNumber:d,currentDataset:y,query:n})})})]})})},$e=function(){var e=(0,l.useRouter)().query,t=e.run_number?e.run_number:"",a=s.useState(t),n=(0,h.Z)(a,2),r=n[0],o=n[1],i=s.useState(e.dataset_name),u=(0,h.Z)(i,2),c=u[0],d=u[1],m=s.useState(!1),y=(0,h.Z)(m,2),p=y[0],L=y[1];return s.useEffect((function(){if(p){var t=e.run_number?e.run_number:"";d(e.dataset_name),o(t)}}),[p]),(0,T.jsxs)(f.cj,{display:"flex",alignitems:"center",children:[(0,T.jsx)(He,{modalState:p,setModalState:L,setSearchRunNumber:o,setSearchDatasetName:d,search_run_number:r,search_dataset_name:c}),(0,T.jsxs)(f.Y0,{width:"fit-content",children:[(0,T.jsx)(Ye,{}),(0,T.jsx)(Oe,{onClick:function(){return L(!0)}})]})]})},Ke=function(){var e=(0,l.useRouter)().query,t="0"===e.run_number&&"/Global/Online/ALL"===e.dataset_name;return(0,T.jsx)(f.Y0,{alignitems:"center",children:t?(0,T.jsx)(re,{query:e}):(0,T.jsx)($e,{})})},et=function(e){var t=e.isDatasetAndRunNumberSelected,a=e.query;return(0,T.jsx)(u.Z,{style:{width:"100%"},children:t?(0,T.jsx)(u.Z,{style:{display:"flex",alignItems:"center",width:"100%"},children:(0,T.jsxs)(u.Z,{style:{display:"flex",alignItems:"center",float:"left",padding:8},children:[(0,T.jsx)(te,{query:a}),(0,T.jsx)(Ke,{})]})}):(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(De,{initial_search_run_number:a.search_run_number,initial_search_dataset_name:a.search_dataset_name,handler:m.lu,type:"top"})})})},tt=a(24616),at=a(87562),nt=a(10219),rt=a(41664),ot=["options"],st=function(e){var t=e.options;(0,nt.Z)(e,ot);return(0,T.jsx)(me.Z,{children:(0,T.jsx)(u.Z,{children:(0,T.jsx)(Je.Z,{overlay:function(e){return(0,T.jsx)(Ve.Z,{children:e.map((function(e){return"overlay"===e.value?(0,T.jsx)(Ve.Z.Item,{icon:e.icon,children:(0,T.jsx)(rt.default,{href:S.A+e.url,children:(0,T.jsx)("a",{target:"_bank",children:e.label})})}):(0,T.jsx)(Ve.Z.Item,{icon:e.icon,onClick:function(){e.action&&e.action(e.value)},children:e.label},e.value)}))})}(t),trigger:["hover"],children:(0,T.jsxs)(be.Z,{type:"link",children:["More ",(0,T.jsx)(We.Z,{})]})})})})},it=a(49549),lt=a(159),ut=function(e){var t=s.useState(!1),a=(0,h.Z)(t,2),n=a[0],r=a[1];return s.useEffect((function(){setTimeout((function(){r(!0)}),0),setTimeout((function(){r(!1)}),2e3)}),[e]),{blink:n}},ct=ae.Z.Text,dt=function(){return(0,T.jsx)(f.Jf,{width:"100%",height:"100%",display:"flex",justifycontent:"center",children:(0,T.jsx)(ct,{type:"danger",strong:!0,children:"Failed to load"})})},mt=a(19457),ht=["src","retryTimes","setImageError"];function yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(a),!0).forEach((function(t){(0,b.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ft=function(e){var t=e.src,a=e.retryTimes,n=e.setImageError,r=(0,nt.Z)(e,ht);delete r.onError;var o=(0,s.useState)(t),i=o[0],l=o[1],u=(0,s.useState)(0),c=u[0],d=u[1],m=(0,s.useState)((new Date).getTime()),h=m[0],y=m[1],p=(0,s.useState)(!0),f=p[0],L=p[1];return(0,s.useEffect)((function(){y((new Date).getTime()),l("".concat(t))}),[t]),(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(mt.mQ,{uploaded:f.toString(),children:(0,T.jsx)("div",{children:(0,s.createElement)("img",pt(pt({src:i},r),{},{key:h,onError:function(){if(!(c+1<a))throw L(!1),n(!0),"Image loading failed after ".concat(a," times");d(c+1),l("".concat(t)),y((new Date).getTime())},onLoad:function(){r.onLoad(),L(!1)}}))})})})},Lt=function(e){var t=e.imageRef,a=e.query,r=e.isPlotSelected,i=e.params_for_api,l=e.plotURL,u=e.plot,c=s.useContext($.h),d=c.not_older_than,m=c.addLoader,y=ut(d).blink,p=s.useState(!0),f=(0,h.Z)(p,2),L=f[0],g=f[1],b=s.useState(),C=(0,h.Z)(b,2),x=C[0],_=C[1],j=s.useState("".concat(S.Jg).concat(l,";notOlderThan=").concat(d)),P=(0,h.Z)(j,2),v=P[0],E=P[1],k=s.useState("".concat(S.Jg).concat(l,";notOlderThan=").concat(d)),M=(0,h.Z)(k,2),O=M[0],w=M[1],R=s.useState(!1),G=(0,h.Z)(R,2),D=G[0],Z=G[1];s.useEffect((function(){E("".concat(S.Jg).concat(l,";notOlderThan=").concat(d))}),[d,i.customise,i.height,i.width,i.run_number,i.dataset_name,i.lumi,i.normalize,i.overlay_plot,i.plot_name,i.folders_path,i.overlay_plot,i.joined_overlaied_plots_urls,l]),s.useEffect((function(){var e=(0,K.YO)();_(e)}),[]),s.useEffect((function(){m({value:L,id:x})}),[L]);var H=L?"none":"",I=L?"":"none";return(0,T.jsx)(T.Fragment,{children:D?(0,T.jsx)(dt,{}):(0,T.jsx)("div",{onClick:(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}if(!r){e.next=6;break}return e.next=4,V(a,u);case 4:e.next=8;break;case 6:return e.next=8,U(a,u);case 8:scroll(t);case 9:case"end":return e.stop()}}),e)}))),children:!D&&(0,T.jsxs)(mt.PN,{update:y.toString()||L.toString(),children:[(0,T.jsx)(ft,{retryTimes:3,style:{display:I},onLoad:(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),e.next=3,w(v);case 3:case"end":return e.stop()}}),e)}))),alt:u.name,src:v,setImageError:Z,width:i.width,height:i.height}),(0,T.jsx)(ft,{retryTimes:3,style:{display:H},alt:u.name,onLoad:function(){},src:O,setImageError:Z,width:"auto",height:"auto"})]})})})},gt=a(48330),bt=function(e){var t=e.imageRef,a=e.query,r=e.isPlotSelected,i=e.params_for_api,l=e.plotURL,u=e.plot,c=s.useState("".concat(S.Jg).concat(l)),d=(0,h.Z)(c,2),m=d[0],y=d[1],p=s.useState(!1),f=(0,h.Z)(p,2),L=f[0],g=f[1],b=s.useState(!0),C=(0,h.Z)(b,2),x=C[0],_=C[1];return s.useEffect((function(){y("".concat(S.Jg).concat(l))}),[l]),(0,T.jsx)(T.Fragment,{children:L?(0,T.jsx)(dt,{}):(0,T.jsx)("div",{onClick:(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}if(!r){e.next=6;break}return e.next=4,V(a,u);case 4:e.next=8;break;case 6:return e.next=8,U(a,u);case 8:scroll(t);case 9:case"end":return e.stop()}}),e)}))),children:!L&&(0,T.jsx)(mt.PN,{update:x.toString(),children:(0,T.jsx)(gt.o,{style:{display:""},onLoad:function(){_(!1)},retryTimes:3,alt:u.name,src:m,setImageError:g,width:i.width,height:i.height})})})})};function Ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(a),!0).forEach((function(t){(0,b.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ct(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var St=function(e){var t=(0,lt.Z)({},e);return"/Global/Online/ALL"===t.query.dataset_name&&"0"===t.query.run_number?(0,T.jsx)(Lt,xt({},t)):(0,T.jsx)(bt,xt({},t))},_t=function(e){var t,a=e.selected_plot,n=e.params_for_api,r=(0,s.useState)(),o=r[0],i=r[1];(0,s.useEffect)((function(){a.draw&&i(a.draw)}),[]);var u=(0,s.useState)(!1),c=u[0],d=u[1];n.customise=o;var m=s.useState(!1),y=(0,h.Z)(m,2),p=(y[0],y[1],(0,l.useRouter)().query),f=((0,K.k4)(p,a),[{label:"Customize",value:"Customize",action:function(){return d(!0)},icon:(0,T.jsx)(tt.Z,{})}]),L=(0,v.WG)(n),g=(n.overlaidWithLayoutsConfig?[n.overlaidWithLayoutsConfig].concat(L):L).join("");n.joined_overlaied_plots_urls=g;var b=function(e){return"onSide"===e.overlay?(0,at.Rc)(e):(0,at.SJ)(e)}(n);return(0,T.jsxs)(Ie.N6,{space:2,children:[(0,T.jsx)(it.F,{plot_name:a.name,open:c,onCancel:function(){return d(!1)},setCustomisationParams:i}),(0,T.jsxs)(Ie.sS,{minheight:n.height,width:null===(t=n.width)||void 0===t?void 0:t.toString(),is_plot_selected:(!0).toString(),nopointer:(!0).toString(),justifycontent:"center",children:[(0,T.jsx)(Ie.$M,{error:X(a).toString(),children:a.name}),(0,T.jsxs)(Ie.sg,{display:"flex",children:[(0,T.jsx)(st,{options:f}),(0,T.jsx)(Ie.V_,{onClick:function(){return V(p,a)}})]}),(0,T.jsx)(Ie.Ne,{id:a.name,width:n.width,height:n.height,children:(0,T.jsx)(St,{params_for_api:n,plot:a,plotURL:b,query:p})})]})]})};function jt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Pt=function(){var e=(0,n.Z)(o().mark((function e(t,a,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSROOT.cleanup("".concat(t).concat(a));case 2:JSROOT.draw("".concat(t).concat(a),JSROOT.parse(JSON.stringify(n)),"".concat(t));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),vt=function(e){var t,a=e.selected_plot,n=e.params_for_api,r=e.id,o=(0,l.useRouter)().query,i=P((0,v.XB)(n),{},[a.name]).data,u=null!==n&&void 0!==n&&n.overlay_plot?n.overlay_plot.map((function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(a),!0).forEach((function(t){(0,b.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n);return e.dataset_name&&(t.dataset_name=e.dataset_name),t.run_number=e.run_number,P((0,v.XB)(t),{},[a.name,o.lumi]).data})):[];u.push(i);var c={};if(0===u.length)return null;if(1===u.length){var d=u[0];c=JSROOT.CreateTHStack(d)}else if(2===u.length){var m=u[0],h=u[1];c=JSROOT.CreateTHStack(m,h)}else if(3===u.length){var y=u[0],p=u[1],f=u[2];c=JSROOT.CreateTHStack(y,p,f)}else if(4===u.length){var L=u[0],g=u[1],C=u[2],x=u[3];c=JSROOT.CreateTHStack(L,g,C,x)}var _=s.useContext($.h).not_older_than,j=ut(_).blink,E=n.normalize?"hist":"nostack";return(0,s.useEffect)((function(){O()(c.fHists.arr).length===c.fHists.arr.length&&Pt(E,r,c)}),[_,i,n.lumi,n.overlay_plot,n.dataset_name,n.run_number,n.normalize,c.fHists.arr]),(0,T.jsx)(Ie.N6,{space:2,children:(0,T.jsxs)(Ie.sS,{isLoading:j.toString(),animation:("ONLINE"===S.f9.mode).toString(),minheight:n.height,width:null===(t=n.width)||void 0===t?void 0:t.toString(),is_plot_selected:(!0).toString(),nopointer:(!0).toString(),justifycontent:"center",children:[(0,T.jsx)(Ie.$M,{error:X(a).toString(),children:a.name}),(0,T.jsx)(Ie.sg,{children:(0,T.jsx)(be.Z,{type:"link",onClick:function(){return V(o,a)},icon:(0,T.jsx)(Ie.V_,{})})}),(0,T.jsx)(Ie.Ne,{style:{display:n.normalize?"":"none"},id:"hist".concat(r),width:n.width,height:n.height}),(0,T.jsx)(Ie.Ne,{style:{display:n.normalize?"none":""},id:"nostack".concat(r),width:n.width,height:n.height})]})})},Tt=a(72934),Et=function(e){var t=e.selected_plots,a=(0,l.useRouter)().query,n=(0,s.useContext)(Tt.h),r=n.rightSideSize,o=n.customise,i=n.JSROOTmode,u=(0,s.useContext)(Y.h),c=u.normalize,d=u.stats,m=u.error;return(0,T.jsx)(f.dg,{children:t.map((function(e){var t={run_number:a.run_number,dataset_name:a.dataset_name,lumi:a.lumi,folders_path:e.path,overlay:a.overlay,overlay_plot:I(a.overlay_data),height:r.h,width:r.w,customise:o,plot_name:e.name,normalize:c,stats:d,error:m};if(i){var n=(0,K.YO)();return(0,T.jsx)(vt,{selected_plot:e,params_for_api:t,id:n},e.name)}return(0,T.jsx)(_t,{selected_plot:e,params_for_api:t},e.name)}))})},kt=a(72285);function Mt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ot=function(e){var t,a=e.selected_plot,n=e.params_for_api,r=(0,s.useState)(),o=r[0],i=r[1];(0,s.useEffect)((function(){a.draw&&(i(a.draw),le.ZP.info("Plot is already customised"))}),[]);var u=(0,s.useState)(!1),c=u[0],d=u[1],m=(0,s.useState)(!1);m[0],m[1];n.customise=o;var h=(0,at.Rc)(n),y=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(a),!0).forEach((function(t){(0,b.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n);y.height=window.innerHeight,y.width=Math.round(1.33*window.innerHeight);(0,at.Rc)(y);var p=(0,l.useRouter)().query,f=(0,K.Un)(p,a),L=[{label:"Customize",value:"customise",action:function(){return d(!0)},icon:(0,T.jsx)(tt.Z,{})},S.f9.new_back_end.new_back_end&&{label:"Overlay with another plot",value:"overlay",url:f,icon:(0,T.jsx)(kt.Z,{})}];return(0,T.jsxs)(Ie.N6,{space:2,children:[(0,T.jsx)(it.F,{plot_name:a.name,customizationParams:o,open:c,onCancel:function(){return d(!1)},setCustomisationParams:i}),(0,T.jsxs)(Ie.sS,{minheight:n.height,width:null===(t=n.width)||void 0===t?void 0:t.toString(),is_plot_selected:(!0).toString(),nopointer:(!0).toString(),children:[(0,T.jsx)(Ie.$M,{error:X(a).toString(),children:a.name}),(0,T.jsxs)(Ie.sg,{display:"flex",children:[(0,T.jsx)(st,{options:L}),(0,T.jsx)(Ie.V_,{onClick:function(){return V(p,a)}})]}),(0,T.jsx)(Ie.Ne,{alignitems:"center",id:a.name,width:n.width,height:n.height,display:"flex",children:(0,T.jsx)(St,{params_for_api:n,plot:a,plotURL:h,query:p})})]})]})},wt=function(){var e=(0,n.Z)(o().mark((function e(t,a){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!document.getElementById(t)){e.next=5;break}return n=function(){JSROOT.cleanup&&JSROOT.cleanup(t)},e.next=4,n;case 4:JSROOT.draw(t,JSROOT.parse(JSON.stringify(a)),"hist");case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Rt=function(e){var t,a=e.selected_plot,n=e.params_for_api,r=e.id,o=(0,l.useRouter)().query,i=P((0,v.XB)(n),{},[a.name,n.lumi]).data,u=s.useContext($.h).not_older_than,c=ut(u).blink;return(0,s.useEffect)((function(){document.getElementById("".concat(r))&&wt("".concat(r),i)}),[i,n.lumi,u]),(0,T.jsx)(Ie.N6,{space:2,children:(0,T.jsxs)(Ie.sS,{isLoading:c.toString(),animation:("ONLINE"===S.f9.mode).toString(),minheight:n.height,width:null===(t=n.width)||void 0===t?void 0:t.toString(),is_plot_selected:(!0).toString(),nopointer:(!0).toString(),children:[(0,T.jsx)(Ie.$M,{error:X(a).toString(),children:a.name}),(0,T.jsx)(Ie.sg,{children:(0,T.jsx)(be.Z,{type:"link",onClick:function(){return V(o,a)},icon:(0,T.jsx)(Ie.V_,{})})}),(0,T.jsx)(Ie.Ne,{id:"".concat(r),width:n.width,height:n.height})]})})},Gt=function(e){var t=e.selected_plots,a=(0,s.useContext)(Tt.h),n=a.rightSideSize,r=a.customise,o=a.JSROOTmode,i=(0,l.useRouter)().query;return(0,T.jsx)(f.dg,{children:t.map((function(e){var t={run_number:i.run_number,dataset_name:i.dataset_name,lumi:i.lumi,folders_path:e.path,height:n.h,width:n.w,customise:r,plot_name:e.name};if(o){var a=(0,K.YO)();return(0,T.jsx)(Rt,{selected_plot:e,params_for_api:t,id:a},e.name)}return(0,T.jsx)(Ot,{selected_plot:e,params_for_api:t},e.name)}))})},Dt=a(92553),Zt=function(e){var t=e.selected_plots,a=(0,l.useRouter)().query,n=(0,s.useContext)(Dt.h).setImageRefScrollDown,r=(0,s.useRef)(null);(0,s.useEffect)((function(){n(r)}),[]);var o=a.overlay_data;return(0,T.jsx)("div",{style:{width:"100%",height:"100%",overflow:"scroll"},ref:r,children:o?(0,T.jsx)(Et,{selected_plots:t}):(0,T.jsx)(Gt,{selected_plots:t})})},Ht=a(27279),It=a(12028),qt=ge.Z.Option,Ft=function(e){var t=e.overlayPosition,a=e.setOverlaiPosition,n=(0,l.useRouter)().query,r=s.useState(t),o=(0,h.Z)(r,2),i=o[0],u=o[1];return(0,s.useEffect)((function(){a(i)}),[i]),(0,T.jsx)(p.Qr,{onChange:function(e){u(e)},value:n.overlay,children:k.jJ.map((function(e){return(0,T.jsx)(qt,{value:e.value,children:(0,T.jsx)("div",{children:e.label})},e.toString())}))})},Qt=a(49101),Bt=a(1058),Nt=function(e){var t=e.open,a=e.toggleModal,n=e.triples,r=e.setTriples,o=s.useState(""),i=(0,h.Z)(o,2),u=i[0],c=i[1],d=s.useState(""),m=(0,h.Z)(d,2),y=m[0],g=m[1],b=s.useState([]),C=(0,h.Z)(b,2),x=C[0],S=C[1],_=Le(u,y),j=_.results_grouped,P=_.searching,v=_.isLoading,E=_.errors,k=function(e){var t=[];return e.forEach((function(e){t=t.concat(e)})),t}([x,n]),M=(0,l.useRouter)().query;return(0,T.jsx)(p.oA,{title:"Set Runs",visible:t,onCancel:function(){a(!1),S([])},footer:[(0,T.jsx)(f.Sn,{color:L.r.colors.secondary.main,background:"white",onClick:function(){a(!1),S([])},children:"Close"},"Close"),(0,T.jsx)(f.Sn,{onClick:function(){(0,Q.Cg)((0,Q.Eg)({overlay_data:"".concat(A(k))},M)),r(k),a(!1),S([])},children:"OK"},"OK")],children:(0,T.jsxs)("div",{children:[k.length>0&&(0,T.jsxs)(p.fA,{children:[(0,T.jsx)("thead",{children:(0,T.jsxs)(p.w_,{children:[(0,T.jsx)(p.cY,{children:"Nr."}),(0,T.jsx)(p.cY,{children:"Run"}),(0,T.jsx)(p.cY,{children:"Dataset name"}),(0,T.jsx)(p.cY,{children:"Action"})]})}),(0,T.jsx)("tbody",{children:k.map((function(e,t){return(0,T.jsxs)(p.w_,{children:[(0,T.jsxs)(p.EI,{children:[t+1,"."]}),(0,T.jsx)(p.EI,{children:e.run_number}),(0,T.jsx)(p.EI,{children:e.dataset_name}),(0,T.jsx)(p.EI,{children:(0,T.jsx)(f.H7,{onClick:function(){!function(e){var t=(0,fe.Z)(x),a=t.findIndex((function(t){return t.id===e}));-1!==a&&(t.splice(a,1),S(t))}(e.id)},icon:(0,T.jsx)(Bt.Z,{})})})]})}))})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)(De,{handler:function(e,t){c(e),g(t)},setRunNumber:c,setDatasetName:g,type:"overlay"}),t&&P?(0,T.jsx)(p.Xc,{children:(0,T.jsx)(pe,{handler:function(e,t){var a={id:(0,w.Z)(),run_number:e,dataset_name:t,checked:!0,label:""},n=(0,fe.Z)(x);n.length<8&&n.push(a),S(n)},isLoading:v,results_grouped:j,errors:E,alreadySeletected:k})}):(0,T.jsx)(p.Xc,{})]})]})})},At=a(9676),zt=function(e){e.removeRun;var t=e.id,a=e.field_name,n=e.value,r=e.placeholder,o=e.disabled,s=e.defaultValue,i=e.triples,l=e.change_run_details,u=n||s;return(0,T.jsx)(f.jp,{name:"".concat(t,"_").concat(a),children:(0,T.jsx)(f.Fy,{disabled:o,onChange:function(e){F(e.target.value,"label",t,i,l)},value:u,defaultValue:u,placeholder:r})})},Ut=function(e){var t=e.triples,a=e.query,n=e.change_run_details,r=e.remove_runs_to_set_runs_for_overlay;return(0,T.jsx)("table",{children:t.map((function(e,o){return(0,T.jsxs)("tr",{children:[(0,T.jsx)(f.Hc,{spacing:"4",children:(0,T.jsx)(At.Z,{checked:e.checked,onChange:function(a){F(e.cheked?e.cheked:a.target.checked,"checked",e.id,t,n)}})}),(0,T.jsxs)(f.Hc,{spacing:"4",children:[o+1,"."]}),(0,T.jsx)(f.Hc,{spacing:"4",children:(0,T.jsx)(Ue,{query:a,withoutLabel:!0,setCurrentRunNumber:function(a){F(a,"run_number",e.id,t,n)},current_run_number:e.run_number,current_dataset_name:e.dataset_name,withoutArrows:!0})}),(0,T.jsx)(f.Hc,{spacing:"4",children:(0,T.jsx)(Fe,{query:a,selectorWidth:"100%",setCurrentDataset:function(a){F(a,"dataset_name",e.id,t,n)},withoutArrows:!0,current_dataset_name:e.dataset_name,current_run_number:e.run_number})}),(0,T.jsx)(f.Hc,{spacing:"4",children:(0,T.jsx)(zt,{triples:t,change_run_details:n,removeRun:r,id:e.id,field_name:"label",placeholder:"label",defaultValue:e.label,value:e.label})}),(0,T.jsx)(f.Hc,{spacing:"4",children:(0,T.jsx)(f.H7,{onClick:function(){r(e.id)},icon:(0,T.jsx)(Bt.Z,{})})})]})}))})},Vt=function(e){var t,a=e.overlaid_runs,r=e.query,i=(0,s.useContext)(Y.h),l=i.runs_set_for_overlay,u=i.set_runs_set_for_overlay,d=i.setTriples,m=i.triples,h=(0,s.useState)(!1),y=h[0],p=h[1];return(0,T.jsxs)(f.Jf,{style:{overflowX:"auto"},children:[(0,T.jsx)(Nt,{open:y,toggleModal:p,overlaid_runs:a,setTriples:d,triples:m,set_runs_set_for_overlay:u}),(0,T.jsx)(Ut,{triples:m,query:r,change_run_details:function(e){return(t=e,function(){var e=(0,n.Z)(o().mark((function e(a,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.filter((function(e){return e.checked})),e.next=3,(0,Q.Cg)((0,Q.Eg)({overlay_data:"".concat(A(r))},n));case 3:a(t);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())(d,r);var t},setTriples:d,remove_runs_to_set_runs_for_overlay:function(e){return function(e){return function(){var t=(0,n.Z)(o().mark((function t(a,n,r){var s,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=(0,fe.Z)(a),-1!==(i=s.findIndex((function(t){return t.id===e})))&&(s.splice(i,1),(0,Q.Cg)((0,Q.Eg)({overlay_data:"".concat(A(s))},r)),n(s));case 3:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()}(e)(m,d,r)}}),(0,T.jsx)(me.Z,{justify:"space-between",style:{height:48,padding:8},children:(0,T.jsx)(f.Jf,{position:"fixed",display:"flex",children:(0,T.jsx)(f.cj,{space:"2",children:(0,T.jsx)(c.Z,{title:(t=a.length>=4||l.length>=4,t?"Maximum 8 plots could be overlaid":""),children:(0,T.jsx)(f.H7,{disabled:a.length>=8||l.length>=8,onClick:function(){p(!0)},icon:(0,T.jsx)(Qt.Z,{}),children:"SET RUNS"})})})})})]})},Jt=a(40537),Wt=a(74130),Xt=a(90172),Yt=function(e){e.normalize;var t,a=e.setNormalize,n=(e.stats,e.setStats),r=(e.error,e.setError),o=e.overlayPosition,i=e.setOverlaiPosition,c=e.triples,d=(0,l.useRouter)().query,m=[{label:"Normalize",value:"true"===d.normalize},{label:"Stats",value:"true"===d.stats},{label:"Error",value:"true"===d.error}],y=s.useState((t={},(0,b.Z)(t,m[0].label.toLocaleLowerCase(),m[0].value),(0,b.Z)(t,m[1].label.toLocaleLowerCase(),m[1].value),(0,b.Z)(t,m[2].label.toLocaleLowerCase(),m[2].value),t)),p=(0,h.Z)(y,2),L=p[0],g=p[1];return(0,s.useEffect)((function(){a(L[m[0].label.toLocaleLowerCase()]),n(L[m[1].label.toLocaleLowerCase()]),r(L[m[2].label.toLocaleLowerCase()])}),[L[m[0].label.toLocaleLowerCase()],L[m[1].label.toLocaleLowerCase()],L[m[2].label.toLocaleLowerCase()]]),(0,T.jsxs)(f.lx,{children:[(0,T.jsxs)(f.Y0,{children:[(0,T.jsx)(f.cj,{space:"2"}),(0,T.jsx)(f.cj,{space:"2",children:(0,T.jsx)(Jt.Z,{name:"OverlayPosition",label:"Position:",children:(0,T.jsx)(Ft,{setOverlaiPosition:i,overlayPosition:o})})}),m.map((function(e){return(0,T.jsx)(f.cj,{space:"2",children:(0,T.jsx)(Wt.rj,{space:"2",children:(0,T.jsx)(Xt.J,{option:e,setReference:g,reference:L})},e.label)},e.label)})),(0,T.jsx)(u.Z,{})]}),(0,T.jsx)(Vt,{overlaid_runs:c,query:d})]})},$t=function(e){var t=e.setSize,a=e.currentValue,n=e.disabled,r=e.plotsAreaWidth;return(0,s.useEffect)((function(){return function(){return t(a)}}),[]),(0,T.jsx)(Te,{disabled:n,current_value:a,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},action:function(e){if(e.w===k.J7.fill.size.w&&e.h===k.J7.fill.size.h){var a=e.w/e.h,n=Math.floor(r/a)-48;t({h:n,w:r-48})}else t(e)},options:Object.keys(k.J7).map((function(e){return{label:k.J7[e].label,value:k.J7[e].size}}))})},Kt=Ht.Z.Panel,ea=function(e){var t=e.selected_plots,a=e.plotsAreaWidth,n=(0,l.useRouter)().query,r=(0,s.useContext)(Tt.h),o=(0,s.useContext)(Y.h),i=o.size,u=o.setSize,c=o.setTriples,d=o.normalize,m=o.setNormalize,h=o.stats,y=o.setStats,L=o.error,g=o.setError,b=o.overlayPosition,C=o.setOverlaiPosition,x=o.triples,_=r.setJSROOTmode,j=r.JSROOTmode,P=r.rightSideSize,v=r.setRightSideSize;return(0,s.useEffect)((function(){if(n&&n.overlay_data){var e=I(n.overlay_data);c(e)}return function(){c([]),_(!1)}}),[]),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,n=(0,l.useRouter)().query,r=(0,Q.Eg)(e,n),o=se().stringify(r,{}),i="/"!==S.A?"".concat(S.A,"?").concat(o):void 0;s.useEffect((function(){a&&l.default.push({pathname:"",query:r},i)}),t)}({overlay:b,error:L,stats:h,normalize:d},[d,h,L,b],!0),(0,T.jsx)(p.I4,{style:{width:"100%"},children:(0,T.jsx)(Kt,{header:"Options",children:(0,T.jsxs)(ie.Z,{children:[(0,T.jsxs)(f.Jf,{display:"flex",justifycontent:"space-between",width:"100%",children:[(0,T.jsx)(f.Br,{name:"SizeChanger",label:"Left side size",width:"50%",children:(0,T.jsx)($t,{plotsAreaWidth:a,currentValue:i,setSize:u})}),(0,T.jsx)(f.Br,{name:"SizeChanger",label:"Right side size",width:"50%",children:(0,T.jsx)($t,{plotsAreaWidth:a,currentValue:P,setSize:v,disabled:!t})})]}),(0,T.jsx)("hr",{}),(0,T.jsx)(f.Jf,{display:"flex",justifycontent:"flex-end",width:"100%",children:(0,T.jsx)(f.Br,{name:"Jsroot",label:"JSROOT",width:"50%",display:"flex",justifycontent:"flex-end",children:(0,T.jsx)(It.Z,{style:{width:"fit-content"},checkedChildren:"JSROOT enabled",unCheckedChildren:"JSROOT disabled",disabled:!t,checked:j,onChange:function(e){_(e)}})})}),(0,T.jsx)("hr",{}),(0,T.jsx)(f.Br,{name:"Reference",label:"Reference",children:(0,T.jsx)(Yt,{normalize:d,setNormalize:m,stats:h,setStats:y,error:L,setError:g,overlayPosition:b,setOverlaiPosition:C,triples:x})})]})},"1")})},ta=a(94108),aa=function(e){var t=e.viewPlotsPosition,a=e.setViewPlotsPosition,n=e.disabled;return(0,T.jsx)(Te,{options:k.rs,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},current_value:t,action:a,disabled:n})},na=function(e){var t=e.proportion,a=e.setProportion,n=e.disabled;return(0,T.jsx)(Te,{options:k.b,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},current_value:t,disabled:n,action:a})},ra=a(68628),oa=function(e){return e?(0,T.jsx)(c.Z,{title:"At least one plot must be selected",children:(0,T.jsx)(ra.Z,{})}):(0,T.jsx)(T.Fragment,{})},sa=function(e){var t=e.openSettings,a=e.onClose,n=e.isAnyPlotSelected,r=s.useContext(Dt.h),o=r.viewPlotsPosition,i=r.setViewPlotsPosition,l=r.proportion,c=r.setProportion;return(0,T.jsx)(p.oA,{title:"Settings",visible:t,onCancel:a,footer:null,children:(0,T.jsxs)(Pe.ZP,{children:[(0,T.jsx)(f.jp,{name:"position",label:"Plots View Position",labelweight:"bold",children:(0,T.jsxs)(f.Y0,{display:"flex",justifycontent:"space-between",children:[(0,T.jsx)(u.Z,{children:(0,T.jsx)(aa,{viewPlotsPosition:o,setViewPlotsPosition:i,disabled:n})}),(0,T.jsx)(u.Z,{children:oa(n)})]})}),(0,T.jsx)(f.jp,{name:"proportions",label:"Plots View Proportions",labelweight:"bold",children:(0,T.jsxs)(me.Z,{children:[(0,T.jsx)(u.Z,{children:(0,T.jsx)(na,{proportion:l,setProportion:c,disabled:n})}),(0,T.jsx)(u.Z,{children:oa(n)})]})})]})})},ia=function(e){var t=e.me_count,a=e.children;return S.f9.new_back_end.new_back_end?(0,T.jsx)(f.LH,{count:t,children:a}):a},la=function(e){var t=e.directories,a=e.isLoading,n=e.blink,r=(0,l.useRouter)().query;return(0,T.jsx)(T.Fragment,{children:t.map((function(e){return(0,T.jsx)(u.Z,{span:4,children:(0,T.jsx)(Ie.dg,{children:(0,T.jsxs)(f.Jf,{hover:"true",display:"flex",space:"1",alignitems:"center",onClick:function(){return!a&&(0,Q.Cg)((0,Q.Eg)({folder_path:(0,Q.BS)(r.folder_path,e.subdir)},r))},children:[(0,T.jsx)(ia,{me_count:e.me_count?e.me_count:0,children:(0,T.jsx)(Ie.JO,{animation:n.toString(),isLoading:a.toString()})}),(0,T.jsx)(Ie.nB,{children:e.subdir})]})})},e.subdir)}))})};function ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ca(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(a),!0).forEach((function(t){(0,b.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ua(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var da=function(e){var t=e.overlays.map((function(t){var a=t.split("/"),n=a.pop(),r=a.join("/");return{run_number:e.run_number,dataset_name:e.dataset_name,folders_path:r,plot_name:n}}));return(0,v.WG)({overlay_plot:t}).join("")},ma=function(e){var t=e.query,a=e.plot,r=e.onePlotHeight,i=e.onePlotWidth,l=e.selected_plots,u=e.imageRef,d=s.useContext(Dt.h).imageRefScrollDown,m=s.useContext(Y.h),h=z(m,t,encodeURIComponent(a.name),a.path);h.width=i,h.height=r;var y=function(e){if(e.draw&&e.overlays){var t=da(e);return{customise:ca({},e.draw),overlaidWithLayoutsConfig:t}}return!e.draw&&e.overlays?{overlaidWithLayoutsConfig:da(e)}:e.draw&&!e.overlays?{customise:ca({},e.draw)}:{}}(a);Object.keys(y).forEach((function(e){h[e]=y[e]}));var p=(0,at.Rc)(h),f=(0,v.WG)(h),L=(h.overlaidWithLayoutsConfig?[h.overlaidWithLayoutsConfig].concat(f):f).join("");h.joined_overlaied_plots_urls=L;var g=(0,at.SJ)(h);a.dataset_name=t.dataset_name,a.run_number=t.run_number;var b=(0,Q.SO)(l,a),C=a.path+"/"+a.name;return(0,T.jsx)(c.Z,{title:C,color:X(a)?"red":"",children:(0,T.jsx)(mt._p,{height:"".concat(r,"px"),width:"".concat(i,"px"),plotSelected:b,onClick:(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b;case 2:setTimeout((function(){J(u),W(d)}),500);case 3:case"end":return e.stop()}}),e)}))),ref:u,children:t.overlay_data||h.overlaidWithLayoutsConfig?(0,T.jsx)(St,{params_for_api:h,plot:a,plotURL:g,query:t,imageRef:u,isPlotSelected:b}):(0,T.jsx)(St,{params_for_api:h,plot:a,plotURL:p,query:t,imageRef:u,isPlotSelected:b})})})},ha=function(e){var t=e.plots,a=e.layoutName,n=e.query,r=e.selected_plots,o=s.useContext(Y.h).size,i=s.useState(a),l=(0,h.Z)(i,2),u=l[0],d=l[1],m=s.useState(!1),y=(0,h.Z)(m,2),p=y[0],f=y[1],L=s.useState(0),g=(0,h.Z)(L,2),b=g[0],C=g[1],x=s.useRef(null),S=s.useRef(null);s.useEffect((function(){d(a)}),[a]);var _,j=Math.ceil(Math.log(2)/Math.log(t.length))-Math.log(2)/Math.log(t.length)!==0&&1!==t.length?t.length+Math.ceil(Math.sqrt(t.length)):Math.pow(t.length,2),P=o.h*o.w,v=o.w/o.h,E=P/j,k=Math.floor(Math.sqrt(E/v)),M=Math.floor(Math.sqrt(E/v)*v),O=Math.floor(o.w/M),w=[];for(_=0;_<O;_++)w.push("auto");return s.useEffect((function(){C(b+1),x.current&&b<3&&f(x.current.clientHeight>24)}),[x.current&&x.current.clientHeight]),(0,T.jsxs)(mt.qI,{plotsAmount:t.length,size:o,children:[(0,T.jsx)(c.Z,{title:u,children:(0,T.jsx)(mt.t8,{ref:x,children:(0,K.be)(p,u||"")})}),(0,T.jsx)(mt.WB,{auto:w.join(" "),children:t.map((function(e){return(0,T.jsx)(ma,{query:n,plot:e,onePlotHeight:k,onePlotWidth:M,selected_plots:r,imageRef:S})}))})]})},ya=a(22120),pa=a(54458),fa=a(13462),La=a(48066),ga=function(){var e=(0,n.Z)(o().mark((function e(t){var a,n,r,s,i,l,u,c,d,m,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.run_number,n=t.dataset_name,r=t.lumi,s=t.subsystem,i=t.not_older_than,l=t.plots_names,u={run_number:a,dataset_name:n,lumi:r,folders_path:"".concat(s,"/EventInfo"),notOlderThan:i},c=l.map((function(e){return x().get("".concat(S.Jg).concat((0,v.XB)((0,fa.Z)("plot_name",e,u)))).catch((function(){return null}))})),d=x().all(c).catch((function(){console.error("Request failed")})).then(x().spread((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.map((function(e,t){var a=(0,La.Z)("",["config"],e),n=(0,La.Z)("",["url"],a).split("?")[0].split("/").pop(),r=(0,La.Z)("-",["data","fString"],e),o={};return n?o[n]=r:o.noData="-",o}))}))),e.next=6,d;case 6:return m=e.sent,h={},m.forEach((function(e){var t=Object.keys(e)[0],a=Object.values(e)[0];h[t]=a})),e.abrupt("return",h);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ba=function(e){var t=(0,La.Z)({},["header_data"],e);return t.subsystem=e.subsystem,Object.keys(t).forEach((function(e){if("reportSummary"===e){var a=parseFloat(t[e]),n=isNaN(a)?"-":(100*Number(a)).toFixed(1);t.reportSummary=n}else if("processTimeStamp"===e){var r=new Date(1e3*parseInt(t.processTimeStamp)),o=r.getHours(),s=r.getMinutes(),i=r.getSeconds(),l=r.toDateString();t.processTimeStamp="".concat(l,"  ").concat(o,":").concat(s,":").concat(i)}else t[e]=t[e]})),t},Ca=a(36783),xa=a(29163),Sa=(0,xa.ZP)(Ca.Z).withConfig({displayName:"styledComponents__Report_summary_modal",componentId:"sc-1sz1tjf-0"})([".ant-modal-body{height:80vh;overflow:scroll;};.ant-list ant-list-split{height:100%;}"]),_a=(0,xa.ZP)(be.Z).withConfig({displayName:"styledComponents__Report_summary_button",componentId:"sc-1sz1tjf-1"})(["height:30px;color:",";background:",";&:focus{color:",";background:",";};&:hover{color:",";background:",";}"],L.r.colors.common.white,L.r.colors.primary.main,L.r.colors.common.white,L.r.colors.primary.main,L.r.colors.common.white,L.r.colors.secondary.main),ja=ae.Z.Text,Pa=function(e){var t=e.subsystem,a=e.dataset_name,n=e.run_number,r=e.lumi,o=e.plot,i=e.query,l=e.selected_plots,u=(e.set_report_info,e.toggle_modal),c=e.open,d=(e.modal_id,e.set_modal_id),m=s.useState({}),y=(0,h.Z)(m,2),p=y[0],f=y[1],L=s.useRef(null),g=["reportSummary","processTimeStamp"];s.useEffect((function(){ga({run_number:n,dataset_name:a,lumi:r,subsystem:t,plots_names:g}).then((function(e){var a=ba({header_data:e,subsystem:t});f(a)}))}),[]);var b=s.useContext(Y.h).size;return(0,T.jsxs)(mt.qI,{size:{w:b.w+10,h:b.h+60},plotsAmount:1,children:[(0,T.jsxs)(mt.t8,{style:{display:"block"},children:[(0,T.jsxs)("div",{children:[(0,T.jsx)(ja,{strong:!0,children:p.subsystem}),"  ",(0,T.jsx)(ja,{children:p.processTimeStamp})]}),(0,T.jsx)(pa.Z,{percent:parseFloat(p.reportSummary),strokeColor:p.reportSummary<95&&{"0%":"red","100%":"red"}})]}),(0,T.jsx)(mt.WB,{auto:"1",children:(0,T.jsx)(ma,{query:i,plot:o,onePlotHeight:b.h,onePlotWidth:b.w,selected_plots:l,imageRef:L})}),(0,T.jsx)(_a,{onClick:function(){d(t),u(!c)},children:"REPORT"})]})},va=a(38272),Ta=function(e){var t=e.dataSource,a=e.open,n=e.toggleModal,r=e.modal_id,o=e.loading,s=Object.keys(t).map((function(e){var a={};return a[e]=t[e],a}));return(0,T.jsx)(Sa,{title:"Report Summary ".concat(r),visible:a,onCancel:function(){return n(!1)},footer:null,children:o?(0,T.jsx)(de.q$,{children:(0,T.jsx)(de.$j,{})}):(0,T.jsx)(va.ZP,{dataSource:s,renderItem:function(e){return(0,T.jsx)(va.ZP.Item,{children:(0,T.jsx)(va.ZP.Item.Meta,{title:(0,T.jsx)("a",{children:Object.keys(e)[0]}),description:Object.values(e)[0]})})}})})};function Ea(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ka(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(a),!0).forEach((function(t){(0,b.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ea(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ma=function(e){var t=(0,Q.GL)(e);return{folders:(0,Q.$z)(t),plots:function(e,t){var a=e.map((function(e){if(e.path){var t=(0,Q.Nv)(e),a=t.name,n=t.directories;return ka(ka({},e),{},{name:a,path:e.path&&n,layout:e.layout,qteststatuses:S.f9.new_back_end.new_back_end?e.qteststatuses:e.qresults})}}));return O()(a)}(t)}},Oa=function(e){var t,a=(t=e,{run_number:(0,La.Z)("",["run_number"],t),lumi:(0,La.Z)("",["lumi"],t),dataset_name:(0,La.Z)("",["dataset_name"],t),folders_path:(0,La.Z)("",["folder_path"],t),plot_search:(0,La.Z)("",["plot_search"],t),notOlderThan:(0,La.Z)("",["notOlderThan"],t)}),n=(0,Q.Lw)(a);return x().get("".concat(S.Jg).concat(n)).then((function(e){var t=e.data,a=Ma(t);return{folders:a.folders,plots:a.plots}})).catch((function(e){return console.error(e)}))},wa=function(){var e=(0,n.Z)(o().mark((function e(t){var a,n,r,s,i,l,u,c,d,m,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.subsystem,n=t.run_number,r=t.lumi,s=t.dataset_name,i=t.notOlderThan,l="".concat(a,"/EventInfo"),u={folder_path:l,run_number:n,dataset_name:s,notOlderThan:i},e.next=5,Oa(u);case 5:return c=e.sent,d=(0,La.Z)([],["plots"],c),m=d.map((function(e){return e.name})),e.next=10,ga({run_number:n,dataset_name:s,lumi:r,subsystem:a,plots_names:m});case 10:return h=e.sent,e.abrupt("return",h);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ra=ae.Z.Text,Ga=function(e){var t=e.subsystem,a=e.dataset_name,n=e.run_number,r=e.lumi,o=e.plot,i=e.query,l=e.selected_plots,u=(e.set_report_info,e.toggle_modal),c=e.open,d=(e.modal_id,e.set_modal_id),m=s.useState({}),y=(0,h.Z)(m,2),p=y[0],f=y[1],L=s.useContext($.h),g=L.addLoader,b=(L.not_older_than,s.useState(!1)),C=(0,h.Z)(b,2),x=C[0],S=C[1],_=s.useState(),j=(0,h.Z)(_,2),P=j[0],v=j[1],E=s.useRef(null),k=["reportSummary","processTimeStamp"];s.useEffect((function(){var e=(0,K.YO)();v(e)}),[]),s.useEffect((function(){g({value:x,id:P})}),[x]),s.useEffect((function(){S(!0),ga({run_number:n,dataset_name:a,lumi:r,subsystem:t,plots_names:k}).then((function(e){S(!1);var a=ba({header_data:e,subsystem:t});f(a)})).catch((function(){S(!1),console.error("Error occured whyle fetching reportSummary andprocessTimeStamp")}))}),[]);var M=s.useContext(Y.h).size;return(0,T.jsxs)(mt.qI,{size:{w:M.w+10,h:M.h+60},plotsAmount:1,children:[(0,T.jsxs)(mt.t8,{style:{display:"block"},children:[(0,T.jsxs)("div",{children:[(0,T.jsx)(Ra,{strong:!0,children:p.subsystem}),"  ",(0,T.jsx)(Ra,{children:p.processTimeStamp})]}),(0,T.jsx)(pa.Z,{percent:parseFloat(p.reportSummary),strokeColor:p.reportSummary<95&&{"0%":"red","100%":"red"}})]}),(0,T.jsx)(mt.WB,{auto:"1",children:(0,T.jsx)(ma,{query:i,plot:o,onePlotHeight:M.h,onePlotWidth:M.w,selected_plots:l,imageRef:E})}),(0,T.jsx)(_a,{onClick:function(){d(t),u(!c)},children:"REPORT"})]})},Da=function(e){var t=e.plots_grouped_by_layouts,a=e.selected_plots,n=e.query,r=s.useState({}),o=(0,h.Z)(r,2),i=o[0],l=o[1],u=s.useState(!1),c=(0,h.Z)(u,2),d=c[0],y=c[1],p=s.useState(""),f=(0,h.Z)(p,2),L=f[0],g=f[1],b=s.useState(!1),C=(0,h.Z)(b,2),x=C[0],S=C[1];s.useEffect((function(){d&&(S(!0),wa({subsystem:L,run_number:n.run_number,lumi:n.lumi,dataset_name:n.dataset_name}).then((function(e){S(!1),l(e)})).catch((function(e){S(!1),console.error(e)})))}),[d]);var _=(0,ya.Z)(Object.values(t));return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Ta,{loading:x,dataSource:i,open:d,modal_id:L,toggleModal:y}),_.map((function(e){var t=e.path.split("/").shift();return(0,m.oq)({run_number:n.run_number,dataset_name:n.dataset_name})?(0,T.jsx)(Ga,{plot:e,set_report_info:l,toggle_modal:y,open:d,set_modal_id:g,modal_id:L,selected_plots:a,query:n,subsystem:t,lumi:n.lumi,run_number:n.run_number,dataset_name:n.dataset_name},t):(0,T.jsx)(Pa,{plot:e,set_report_info:l,toggle_modal:y,open:d,set_modal_id:g,modal_id:L,selected_plots:a,query:n,subsystem:t,lumi:n.lumi,run_number:n.run_number,dataset_name:n.dataset_name},t)}))]})},Za=function(e){var t=e.plots_grouped_by_layouts,a=e.selected_plots,n=e.query,r=Object.keys(t).sort();return(0,T.jsx)(T.Fragment,{children:r.map((function(e){var r=t[e];return"Summaries"===e?(0,T.jsx)(Da,{plots_grouped_by_layouts:t,selected_plots:a,query:n},e):(0,T.jsx)(ha,{layoutName:e,plots:r,selected_plots:a,query:n},e)}))})},Ha=function(e){var t=e.plot,a=e.selected_plots,r=e.params_for_api,i=(0,l.useRouter)().query,u=(0,s.useRef)(null),d={w:r.width,h:r.height},m=s.useRef(null),y=s.useState(0),p=(0,h.Z)(y,2),f=p[0],L=p[1],g=s.useState(!1),b=(0,h.Z)(g,2),C=b[0],x=b[1],S=(0,at.Rc)(r),_=(0,Q.SO)(a,t),j=(0,s.useContext)(Dt.h).imageRefScrollDown;return(0,s.useEffect)((function(){_&&(J(u),W(j))}),[_,i.selected_plots]),s.useEffect((function(){L(f+1),m.current&&f<3&&x(m.current.clientHeight>24)}),[m.current&&m.current.clientHeight]),t.dataset_name=i.dataset_name,t.run_number=i.run_number,(0,T.jsx)(c.Z,{title:C?decodeURI(r.plot_name):"",children:(0,T.jsxs)(mt.qI,{size:d,isPlotSelected:_.toString(),children:[(0,T.jsx)(mt.t8,{ref:m,isPlotSelected:_.toString(),error:X(t).toString(),children:(0,K.be)(C,r.plot_name?r.plot_name:"")}),(0,T.jsx)(mt.WB,{auto:"auto",children:(0,T.jsx)(mt._p,{plotSelected:_,onClick:(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_;case 2:setTimeout((function(){J(u),W(j)}),500);case 3:case"end":return e.stop()}}),e)}))),ref:u,children:(0,T.jsx)(St,{params_for_api:r,plot:t,plotURL:S,query:i,imageRef:u,isPlotSelected:_})})})]})})};function Ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(a),!0).forEach((function(t){(0,b.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ia(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Fa=function(e){var t=e.plot,a=e.params_for_api,r=e.selected_plots;a.plot_name=t.name;var i=function(e){var t=[],a=qa({},e);return t.push((0,at.Rc)(a)),a.overlay_plot&&a.overlay_plot.map((function(n){a.dataset_name=n.dataset_name?n.dataset_name:e.dataset_name,a.run_number=n.run_number,t.push((0,at.Rc)(a))})),t}(a),u=function(e){var t=[],a=qa({},e),n={name:e.plot_name,dataset_name:e.dataset_name,path:e.folders_path,run_number:e.run_number};return t.push(n),a.overlay_plot&&a.overlay_plot.map((function(a){var n=a.run_number,r=a.dataset_name,o={run_number:n,name:e.plot_name,dataset_name:r,path:e.folders_path};t.push(o)})),t}(a),d={w:a.width,h:a.height},m=(0,s.useContext)(Dt.h).imageRefScrollDown,y=(0,l.useRouter)().query,p=(0,s.useRef)(null),f=s.useRef(null),L=s.useState(0),g=(0,h.Z)(L,2),b=g[0],C=g[1],x=s.useState(!1),_=(0,h.Z)(x,2),j=_[0],P=_[1];return s.useEffect((function(){C(b+1),f.current&&b<3&&P(f.current.clientHeight>24)}),[f.current&&f.current.clientHeight]),t.dataset_name=y.dataset_name,t.run_number=y.run_number,(0,T.jsx)(Ie.yA,{children:i.map((function(e,s){var i=(0,Q.SO)(r,u[s]);return(0,T.jsx)(c.Z,{title:j?decodeURI(a.plot_name):"",children:(0,T.jsxs)(mt.qI,{isPlotSelected:i.toString(),animation:("ONLINE"===S.f9.mode).toString(),size:d,children:[(0,T.jsx)(mt.t8,{ref:f,isPlotSelected:Q.SO.toString(),error:X(t).toString(),children:(0,K.be)(j,a.plot_name?a.plot_name:"")}),(0,T.jsx)(mt.WB,{auto:"auto",children:(0,T.jsx)(mt._p,{plotSelected:i,onClick:(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i;case 2:setTimeout((function(){J(p),W(m)}),500);case 3:case"end":return e.stop()}}),e)}))),ref:p,children:(0,T.jsx)(St,{params_for_api:a,plot:u[s],plotURL:e,query:y,imageRef:p,isPlotSelected:i})})})]})})}))})},Qa=function(e){var t=e.plot,a=e.params_for_api,r=e.selected_plots;a.plot_name=t.name;var i={w:a.width,h:a.height},u=(0,s.useContext)(Dt.h).imageRefScrollDown,d=(0,v.WG)(a),m=(a.overlaidWithLayoutsConfig?[a.overlaidWithLayoutsConfig].concat(d):d).join("");a.joined_overlaied_plots_urls=m;var y=(0,at.SJ)(a),p=(0,l.useRouter)().query,f=(0,s.useRef)(null);t.dataset_name=p.dataset_name,t.run_number=p.run_number;var L=s.useRef(null),g=s.useState(0),b=(0,h.Z)(g,2),C=b[0],x=b[1],S=s.useState(!1),_=(0,h.Z)(S,2),j=_[0],P=_[1];s.useEffect((function(){x(C+1),L.current&&C<3&&P(L.current.clientHeight>24)}),[L.current&&L.current.clientHeight]);var E=(0,Q.SO)(r,t);return(0,T.jsx)(c.Z,{title:j?decodeURI(a.plot_name):"",children:(0,T.jsxs)(mt.qI,{size:i,isPlotSelected:E.toString(),children:[(0,T.jsxs)(mt.t8,{ref:L,error:X(t).toString(),isPlotSelected:E.toString(),children:[" ",(0,K.be)(j,a.plot_name?a.plot_name:"")]}),(0,T.jsx)(mt.WB,{auto:"auto",children:(0,T.jsx)(mt._p,{plotSelected:E,onClick:(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E;case 2:setTimeout((function(){J(f),W(u)}),500);case 3:case"end":return e.stop()}}),e)}))),ref:f,children:(0,T.jsx)(St,{params_for_api:a,plot:t,plotURL:y,query:p,imageRef:f,isPlotSelected:E})})})]})})},Ba=function(e){var t=e.plot,a=e.selected_plots,n=e.params_for_api;return(0,T.jsx)(T.Fragment,{children:"onSide"===n.overlay?(0,T.jsx)(Fa,{params_for_api:n,plot:t,selected_plots:a}):(0,T.jsx)(Qa,{plot:t,params_for_api:n,selected_plots:a})})},Na=function(e){var t=e.plots,a=e.selected_plots,n=e.query,r=(0,s.useContext)(Y.h);return(0,T.jsx)(T.Fragment,{children:t.map((function(e){var t=z(r,n,encodeURIComponent(e.name),e.path);return e?(0,T.jsx)("div",{children:n.overlay_data?(0,T.jsx)(Ba,{plot:e,params_for_api:t,selected_plots:a},e.name):(0,T.jsx)(Ha,{plot:e,params_for_api:t,selected_plots:a},e.name)},e.name):(0,T.jsx)(T.Fragment,{})}))})},Aa=function(e){var t=e.plots,a=e.selected_plots,n=e.plots_grouped_by_layouts,r=(0,l.useRouter)().query;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Za,{plots_grouped_by_layouts:n,selected_plots:a,query:r}),(0,T.jsx)(Na,{plots:t,selected_plots:a,query:r})]})},za=function(e){var t=e.plots,a=e.selected_plots,n=e.plots_grouped_by_layouts,r=e.isLoading,o=e.viewPlotsPosition,s=e.proportion,i=e.errors,l=e.query,u=e.filteredFolders,c=e.plotsAreaRef,d=e.blink,h=(0,m.oq)({run_number:l.run_number,dataset_name:l.dataset_name});return(0,T.jsx)(Ie.im,{ref:c,any_selected_plots:a.length>0&&0===i.length,position:o,proportion:s,children:h&&r&&0===u.length||!h&&r?(0,T.jsx)(de.Zh,{children:(0,T.jsx)(de.$j,{})}):(0,T.jsx)(T.Fragment,{children:r||0!==u.length||0!==t.length||n||0!==i.length?0===i.length?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(f.Y0,{width:"100%",space:"2",children:(0,T.jsx)(la,{blink:d,isLoading:r,directories:u})}),(0,T.jsx)(me.Z,{children:(0,T.jsx)(Aa,{plots:t,selected_plots:a,plots_grouped_by_layouts:n})})]}):!r&&i.length>0&&(0,T.jsx)(de.RY,{message:i,type:"error",showIcon:!0},i):(0,T.jsx)(ye.Q,{})})})},Ua=a(43926),Va=(0,T.jsxs)(Ve.Z,{children:[(0,T.jsx)(Ve.Z.Item,{children:(0,T.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cmsrunregistry.web.cern.ch/online/global?",children:"Run Registry"})}),(0,T.jsx)(Ve.Z.Item,{children:(0,T.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cmsoms.cern.ch/",children:"OMS"})}),(0,T.jsx)(Ve.Z.Item,{children:(0,T.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cmsonline.cern.ch/",children:"CMS online"})})]}),Ja=function(){return(0,T.jsx)(Je.Z,{overlay:Va,placement:"bottomCenter",arrow:!0,children:(0,T.jsx)(f.H7,{icon:(0,T.jsx)(Ua.Z,{}),children:"Useful Links"})})},Wa=a(51752),Xa=[{label:"Summaries",workspaces:[{label:"Summary",foldersPath:["Summary"],quickCollections:[]},{label:"Shift",foldersPath:["00 Shift"],quickCollections:[]},{label:"Info",foldersPath:["Info"],quickCollections:[]},{label:"Everything",foldersPath:[],quickCollections:[]}]},{label:"Trigger",workspaces:[{label:"L1T",foldersPath:["L1T"],quickCollections:[]},{label:"L1TEMU",foldersPath:["L1TEMU"],quickCollections:[]},{label:"HLT",foldersPath:["HLT"],quickCollections:[]}]},{label:"Tracker",workspaces:[{label:"PixelPhase1",foldersPath:["PixelPhase1"],quickCollections:["PixelPhase1/Layouts/000 - PixelPhase1 ReportSummary: Layer or Disk vs subdet","PixelPhase1/Layouts/00a - PixelPhase1 FED Occupancy vs Lumi Block","PixelPhase1/Layouts/00b - PixelPhase1_Error_Summary","PixelPhase1/Layouts/01a - PixelPhase1_Event_Rate","PixelPhase1/Layouts/01b - PixelPhase1 DeadROC Summary","PixelPhase1/Layouts/01c - PixelPhase1 Cluster Size vs Cluster Eta","PixelPhase1/Layouts/02 - PixelPhase1_Digi_ADC_Barrel","PixelPhase1/Layouts/03 - PixelPhase1_Digi_ADC_Endcap","PixelPhase1/Layouts/04 - PixelPhase1_Cluster_Number","PixelPhase1/Layouts/21 - PixelPhase1 Digis: Ladder vs Module barrel summary","PixelPhase1/Layouts/22 - PixelPhase1 Clusters: Ladder vs Module barrel summary","PixelPhase1/Layouts/28 - PixelPhase1 Digis: BladePanel vs Disk endcap summary","PixelPhase1/Layouts/29 - PixelPhase1 Clusters: BladePanel vs Disk endcap summary","PixelPhase1/Layouts/31 - ntracks","PixelPhase1/Layouts/32 - Charge and size","PixelPhase1/Layouts/33a - Cluster on track charge per Inner Ladders","PixelPhase1/Layouts/33b - Cluster on track charge per Outer Ladders","PixelPhase1/Layouts/33c - Cluster charge (on-track) per Disk","PixelPhase1/Layouts/34 -  Ontrack PXLayer","PixelPhase1/Layouts/35 - Ontrack Disk","PixelPhase1/Layouts/38 - PixelPhase1 Residuals","PixelPhase1/Layouts/39a - ClusterSize Vs Eta (OnTrack) inner","PixelPhase1/Layouts/39b - ClusterSize Vs Eta (OnTrack) outer","PixelPhase1/Layouts/40a - Cluster size (on-track) per Ladders","PixelPhase1/Layouts/40b - Cluster size (on-track) per Disk","PixelPhase1/Layouts/41a - Dead Channels per ROC per Barrel Layer","PixelPhase1/Layouts/41b - Dead Channels per ROC per Forward Ring"]},{label:"Pixel",foldersPath:["Pixel"],quickCollections:["Pixel/Layouts/00b - Pixel_Error_Summary","Pixel/Layouts/01 - Pixel_FEDOccupancy_Summary","Pixel/Layouts/02 - Pixel_Cluster_Summary","Pixel/Layouts/03 - Pixel_Track_Summary","Pixel/Layouts/05 - Barrel OnTrack cluster positions","Pixel/Layouts/06 - Endcap OnTrack cluster positions","Pixel/Layouts/07 - Pixel_Digi_Summary","Pixel/Layouts/08 - ROC occupancies","Pixel/Layouts/09 - Pixel Clusters vs LS"]},{label:"SiStrip",foldersPath:["SiStrip"],quickCollections:["SiStrip/Layouts/00 - SiStrip ReportSummary","SiStrip/Layouts/01 - FED-Detected Errors Summary","SiStrip/Layouts/03 - # of Cluster Trend","SiStrip/Layouts/04 - OnTrackCluster (StoN)","SiStrip/Layouts/05 - OffTrackCluster (Total Number)","SiStrip/Layouts/06a - FED Errors vs FED ID","SiStrip/Layouts/29 - Cluster & Digi occupancy per FED"]},{label:"Alignment",foldersPath:null,quickCollections:["OfflinePV/AlignmentValidation/00 - Vertex and vertex tracks quality","OfflinePV/AlignmentValidation/01 - Impact parameters and errors","OfflinePV/AlignmentValidation/02 - Impact parameters projections (pT>1 GeV)","OfflinePV/AlignmentValidation/03 - Impact parameters projections (pT>10 GeV)","PixelPhase1/Layouts/38 - PixelPhase1 Residuals","PixelPhase1/Layouts/38aa - Residuals x per Layer","PixelPhase1/Layouts/38ab - Residuals y per Layer","PixelPhase1/Layouts/38ba - Profile Residuals x PXBarrel","PixelPhase1/Layouts/38bb - Profile Residuals y PXBarrel","PixelPhase1/Layouts/38ca - Mean Residuals x inner Modules per Layer","PixelPhase1/Layouts/38cb - Mean Residuals x outer Modules per Layer","PixelPhase1/Layouts/38cc - Mean Residuals y inner Modules per Layer","PixelPhase1/Layouts/38cd - Mean Residuals y outer Modules per Layer","PixelPhase1/Layouts/38da - Residuals x per Disk","PixelPhase1/Layouts/38db - Residuals y per Disk","PixelPhase1/Layouts/38e - Profile Residuals PXFoward","PixelPhase1/Layouts/38fa - Mean Residuals InnerOuter Modules PXForward","PixelPhase1/Layouts/38fb - Mean Residuals pos.neg. Side PXForward","SiStrip/Layouts/21 - TIB Residuals","SiStrip/Layouts/22 - TOB Residuals","SiStrip/Layouts/23 - TID+ Residuals","SiStrip/Layouts/24 - TID- Residuals","SiStrip/Layouts/25 - TEC+ Residual","SiStrip/Layouts/26 - TEC- Residual"]}]},{label:"Calorimeters",workspaces:[{label:"Ecal",foldersPath:["Ecal","EcalBarrel","EcalEndcap"],quickCollections:["Ecal/Layouts/00 Summary","Ecal/Layouts/01 Occupancy Summary"]},{label:"EcalPreshower",foldersPath:["EcalPreshower"],quickCollections:["EcalPreshower/Layouts/01-IntegritySummary-EcalPreshower","EcalPreshower/Layouts/02-GoodRechitOccupancySummary-EcalPreshower","EcalPreshower/Layouts/03-GoodRechitEnergySummary-EcalPreshower","EcalPreshower/Layouts/04-ESTimingTaskSummary-EcalPreshower","EcalPreshower/Layouts/05-ESGain-EcalPreshower"]},{label:"HCAL",foldersPath:["Hcal","Hcal2"],quickCollections:["Hcal/Layouts/00 Current Summary","Hcal/Layouts/01 RAW Bad Quality","Hcal/Layouts/02 RAW Bad Quality depth","Hcal/Layouts/03 RAW Mismatches","Hcal/Layouts/04 DIGI Missing 1LS","Hcal/Layouts/05 DIGI Occupancy","Hcal/Layouts/06 DIGI Occupancy Total","Hcal/Layouts/07 DIGI Occupancy Cut","Hcal/Layouts/08 DIGI Timing","Hcal/Layouts/09 DIGI Total Charge","Hcal/Layouts/10 DIGI Occupancy vs LS","Hcal/Layouts/11 DIGI Amplitude vs LS","Hcal/Layouts/12 RECO Energy","Hcal/Layouts/13 RECO Occupancy","Hcal/Layouts/14 RECO Occupancy Cut","Hcal/Layouts/15 RECO Timing","Hcal/Layouts/16 RECO HBHEabc Timing","Hcal/Layouts/17 RECO Timing vs Energy","Hcal/Layouts/18 TP Et Correlation","Hcal/Layouts/19 TP Et Correlation Ratio","Hcal/Layouts/20 TP Et Distribution","Hcal/Layouts/21 TP Et Mismatches","Hcal/Layouts/22 TP Et Missing","Hcal/Layouts/23 TP Et Occupancy"]},{label:"HCALcalib",foldersPath:["HcalCalib"],quickCollections:["HcalCalib/Layouts/00 Current Summary","HcalCalib/Layouts/01 Pedestal Mean","HcalCalib/Layouts/02 Pedestal Mean by FED","HcalCalib/Layouts/03 Pedestal RMS","HcalCalib/Layouts/04 Pedestal RMS by FED","HcalCalib/Layouts/05 Pedestal Mean DB Ref","HcalCalib/Layouts/06 Pedestal Mean DB Ref by FED","HcalCalib/Layouts/07 Pedestal RMS DB Ref","HcalCalib/Layouts/08 Pedestal RMS DB Ref by FED","HcalCalib/Layouts/09 Pedestal Mean Bad","HcalCalib/Layouts/10 Pedestal Mean Bad by FED","HcalCalib/Layouts/11 Pedestal RMS Bad","HcalCalib/Layouts/12 Pedestal RMS Bad by FED","HcalCalib/Layouts/13 Pedestal Missing","HcalCalib/Layouts/14 Pedestal Missing by FED","HcalCalib/Layouts/15 Pedestal Occupancy vs LS","HcalCalib/Layouts/16 Missing vs LS","HcalCalib/Layouts/17 Number of Bad Mean vs LS","HcalCalib/Layouts/18 Number of Bad RMS vs LS"]},{label:"Castor",foldersPath:["Castor"],quickCollections:["Castor/Layouts/01 - Map of frontend and readout errors","Castor/Layouts/02 - Channel-wise timing","Castor/Layouts/02b - Channel-wise timing (rms)","Castor/Layouts/Digi/05 - DigiSize"]}]},{label:"Muons",workspaces:[{label:"CSC",foldersPath:["CSC"],quickCollections:["CSC/Layouts/00 Data Integrity/Physics Efficiency 01","CSC/Layouts/00 Data Integrity/Physics Efficiency 02","CSC/Layouts/00 Data Integrity/Physics Efficiency 04 - CSCs Reporting Data and Unpacked","CSC/Layouts/00 Data Integrity/Physics Efficiency 08 - CSCs Occupancy Overal","CSC/Layouts/00 Data Integrity/Physics Efficiency 07 - CSCs Occupancy 2D","CSC/Layouts/00 Data Integrity/Physics Efficiency 09 - RecHits Minus","CSC/Layouts/00 Data Integrity/Physics Efficiency 10 - RecHits Plus","CSC/Layouts/00 Data Integrity/Physics Efficiency 11 - Segments","CSC/Layouts/00 Data Integrity/Physics Efficiency 12 - Timing"]},{label:"DT",foldersPath:["DT"],quickCollections:[]},{label:"RPC",foldersPath:["RPC"],quickCollections:[]},{label:"GEM",foldersPath:["GEM"],quickCollections:["GEM/Layouts/01 - Efficiency vs Chamber","GEM/Layouts/02 - Efficiency vs Muon PT","GEM/Layouts/03 - Efficiency vs Muon Eta","GEM/Layouts/04 - Resolution Summary"]}]},{label:"CTPPS",workspaces:[{label:"TrackingStrip",foldersPath:["CTPPS/TrackingStrip","CTPPS/common","CTPPS/TrackingStrip/Layouts"],quickCollections:[]},{label:"TrackingPixel",foldersPath:["CTPPS/TrackingPixel","CTPPS/common","CTPPS/TrackingPixel/Layouts"],quickCollections:[]},{label:"TimingDiamond",foldersPath:["CTPPS/TimingDiamond","CTPPS/common","CTPPS/TimingDiamond/Layouts"],quickCollections:[]},{label:"TimingFastSilicon",foldersPath:["CTPPS/TimingFastSilicon","CTPPS/common","CTPPS/TimingFastSilicon/Layouts"],quickCollections:[]}]},{label:"POG",workspaces:[{label:"Muons",foldersPath:["Muons"],quickCollections:[]},{label:"JetMet",foldersPath:["JetMet"],quickCollections:[]},{label:"EGamma",foldersPath:["Egamma"],quickCollections:[]},{label:"Btag",foldersPath:["Btag"],quickCollections:["Btag/Layouts/00 - Jet Property","Btag/Layouts/01 - Tracks in Jet","Btag/Layouts/02 - Vertex Property","Btag/Layouts/03 - Flight Distance Summary","Btag/Layouts/04 - Discriminator Summary","Btag/Layouts/05 - 2D-Impact Parameter","Btag/Layouts/06 - 3D-Impact Parameter","Btag/Layouts/07 - ROC Curves"]},{label:"Tracking",foldersPath:["Tracking","AlcaBeamMonitor","OfflinePV"],quickCollections:["Tracking/Layouts/01 - Tracking ReportSummary","Tracking/Layouts/02a - Tracks (pp collisions)","Tracking/Layouts/02b - Total Hits Strip and Pixel (pp collisions)","Tracking/Layouts/03 - Tracks (Cosmic Tracking)","Tracking/Layouts/05 - Number of Seeds (pp collisions)","Tracking/Layouts/06 - Tracks resolution","Tracking/Layouts/06a - Tracks quality","Tracking/Layouts/07 - Vertex reconstruction","Tracking/Layouts/08 - Tracking Efficiency"]},{label:"Tau",foldersPath:["RecoTauV"],quickCollections:["RecoTauV/Layouts/SingleMu/00aa - Fake rate from muons vs pt","RecoTauV/Layouts/SingleMu/00ab - Fake rate from muons vs pt","RecoTauV/Layouts/SingleMu/01a - Muon rejection fake rate vs pt","RecoTauV/Layouts/Jet/00aa - Fake rate from jets vs pt","RecoTauV/Layouts/Jet/00ab - Fake rate from jets vs pt","RecoTauV/Layouts/DoubleElectron_OR_TauPlusX/00aa - Fake rate from electrons vs pt","RecoTauV/Layouts/DoubleElectron_OR_TauPlusX/00ab - Fake rate from electrons vs pt","RecoTauV/Layouts/DoubleElectron_OR_TauPlusX/01a - Electron rejection fake rate vs pt","RecoTauV/Layouts/SingleMu/00ba - Fake rate from muons vs pileup","RecoTauV/Layouts/SingleMu/00bb - Fake rate from muons vs pileup","RecoTauV/Layouts/Jet/00ba - Fake rate from jets vs pileup","RecoTauV/Layouts/Jet/00bb - Fake rate from jets vs pileup","RecoTauV/Layouts/Jet/01e - Distributions of size and sumPt for isolation PF Cands, QCD Jets faking taus","RecoTauV/Layouts/Jet/01f - Distributions of Raw Quantities of Tau Cands, QCD Jets faking taus","RecoTauV/Layouts/Jet/01g - Distributions of Tau Cands Multiplicity, QCD Jets faking taus","RecoTauV/Layouts/Jet/01h - Distributions of Tau Cands pTRatio, QCD Jets faking taus","RecoTauV/Layouts/DoubleElectron_OR_TauPlusX/00ba - Fake rate from electrons vs pileup","RecoTauV/Layouts/DoubleElectron_OR_TauPlusX/00bb - Fake rate from electrons vs pileup"]}]}],Ya=[{label:"Summaries",workspaces:[{label:"Summary",foldersPath:["Summary"],quickCollections:[]},{label:"Shift",foldersPath:["00 Shift"],quickCollections:[]},{label:"Info",foldersPath:["Info"],quickCollections:["Info/Layouts/1 - HV and Beam Status per LumiSection","Info/Layouts/2 - Run key set for DQM","Info/Layouts/3 - HLT menu used","Info/Layouts/4 - Version of CMSSW used","Info/Layouts/5 - Global Tag used"]},{label:"Everything",foldersPath:[],quickCollections:[]}]},{label:"Trigger",workspaces:[{label:"L1T",foldersPath:["L1T"],quickCollections:["L1T/Layouts/Stage2-QuickCollection/00 - Calo Layer1 ECAL Input Occupancy","L1T/Layouts/Stage2-QuickCollection/01 - Calo Layer1 HCAL Input Occupancy","L1T/Layouts/Stage2-QuickCollection/02 - Calo Layer1 Input Link Errors and event mismatches","L1T/Layouts/Stage2-QuickCollection/03 - uGMT MUON BX and Link vs BX","L1T/Layouts/Stage2-QuickCollection/04 - uGMT MUON P_{T}","L1T/Layouts/Stage2-QuickCollection/05 - uGMT MUON ETA","L1T/Layouts/Stage2-QuickCollection/06 - uGMT MUON PHI","L1T/Layouts/Stage2-QuickCollection/07 - uGMT MUON PHI ETA","L1T/Layouts/Stage2-QuickCollection/08 - uGT Algoritm Trigger Bits (before prescale) vs Global BX Number","L1T/Layouts/Stage2-QuickCollection/09 - uGT Algorithm Trigger Bits (after prescale) vs. Global BX Number","L1T/Layouts/Stage2-QuickCollection/10 - uGT Algorithm Trigger Bits (after prescale) vs. BX Number in Event","L1T/Layouts/Stage2-QuickCollection/11 - uGT Algorithm Trigger Bits (after prescale)","L1T/Layouts/Stage2-QuickCollection/12 - Calo Layer2 Bx Occupancy distributions","L1T/Layouts/Stage2-QuickCollection/13 - Calo Layer2 Central Jet Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/14 - Calo Layer2 Central Jets Pt distribution","L1T/Layouts/Stage2-QuickCollection/15 - Calo Layer2 Forward Jet Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/16 - Calo Layer2 Forward Jet Pt distribution","L1T/Layouts/Stage2-QuickCollection/17 - Calo Layer2 Isolated EG Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/18 - Calo Layer2 Isolated EG Pt distribution","L1T/Layouts/Stage2-QuickCollection/19 - Calo Layer2 Non-Isolated EG Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/20 - Calo Layer2 Non-Isolated EG Pt distribution","L1T/Layouts/Stage2-QuickCollection/21 - Calo Layer2 Isolated Tau Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/22 - Calo Layer2 Isolated Tau Pt distribution","L1T/Layouts/Stage2-QuickCollection/23 - Calo Layer2 Non-Isolated Tau Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/24 - Calo Layer2 Non-Isolated Tau Pt distribution","L1T/Layouts/Stage2-QuickCollection/25 - Calo Layer2 EtSum Bx Occupancy distribution","L1T/Layouts/Stage2-QuickCollection/26 - Calo Layer2 ETT Et distribution","L1T/Layouts/Stage2-QuickCollection/27 - Calo Layer2 ETTEM Et distribution","L1T/Layouts/Stage2-QuickCollection/28 - Calo Layer2 HTT Et distribution","L1T/Layouts/Stage2-QuickCollection/29 - Calo Layer2 MET Et distribution","L1T/Layouts/Stage2-QuickCollection/30 - Calo Layer2 MET Phi distribution","L1T/Layouts/Stage2-QuickCollection/31 - Calo Layer2 METHF Et distribution","L1T/Layouts/Stage2-QuickCollection/32 - Calo Layer2 METHF Phi distribution","L1T/Layouts/Stage2-QuickCollection/33 - Calo Layer2 MHT Et distribution","L1T/Layouts/Stage2-QuickCollection/34 - Calo Layer2 MHT Phi distribution","L1T/Layouts/Stage2-QuickCollection/35 - Calo Layer2 MHTHF Et distribution","L1T/Layouts/Stage2-QuickCollection/36 - Calo Layer2 MHTHF Phi distribution","L1T/Layouts/Stage2-QuickCollection/37 - uGMT BMTF BX and Wedge vs BX","L1T/Layouts/Stage2-QuickCollection/38 - BMTF Muon HW p_{T}","L1T/Layouts/Stage2-QuickCollection/39 - uGMT BMTF HW Eta","L1T/Layouts/Stage2-QuickCollection/40 - uGMT BMTF HW Phi","L1T/Layouts/Stage2-QuickCollection/41 - uGMT BMTF HW vs Sign","L1T/Layouts/Stage2-QuickCollection/42 - uGMT OMTF BX and Sector vs. BX","L1T/Layouts/Stage2-QuickCollection/43 - uGMT OMTF HW p_{T}","L1T/Layouts/Stage2-QuickCollection/44 - uGMT OMTF HW Eta","L1T/Layouts/Stage2-QuickCollection/45 - uGMT OMTF HW Phi (top: positive, bottom: negative)","L1T/Layouts/Stage2-QuickCollection/46 - uGMT OMTF HW Sign","L1T/Layouts/Stage2-QuickCollection/47 - uGMT EMTF BX and Track vs BX","L1T/Layouts/Stage2-QuickCollection/48 - uGMT EMTF Phi","L1T/Layouts/Stage2-QuickCollection/49 - EMTF LCT Occupancy","L1T/Layouts/Stage2-QuickCollection/50 - Calo TPG Link Errors and event mismatches (top: ECAL, bottom: HCAL)","L1T/Layouts/Stage2-QuickCollection/51 - uGT CaloLayer2 Inputs Board 2-6 misMatch Ratios","L1T/Layouts/Stage2-QuickCollection/52 - uGT Muon Inputs Board 2-6 misMatch Ratios","L1T/Layouts/Stage2-QuickCollection/53 - uGMT Muon Copy 1-5 misMatch Ratios","L1T/Layouts/Stage2-QuickCollection/54 - Input vs Output misMatch Ratios (clockwise from top left: uGT vs. uGMT, uGT vs. caloL2, uGMT vs. EMTF, uGMT vs. OMTF, uGMT vs. BMTF)","L1T/Layouts/Stage2-QuickCollection/55 - uGMT Zero Suppression misMatch Ratio (left: all events, right: fat events)","L1T/Layouts/Stage2-QuickCollection/56 - BMTF Zero Suppression misMatch Ratio (left: all events, right: fat events)"]},{label:"L1T2016EMU",foldersPath:["L1T2016EMU"],quickCollections:["L1TEMU/Layouts/Stage2-QuickCollection/00 - CaloTower Data-Emulator Status","L1TEMU/Layouts/Stage2-QuickCollection/01 - uGMT Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/02 - BMTF Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/03 - OMTF Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/04 - EMTF Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/05 - Calo Layer2 High Level Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/06 - Calo Layer2 Jet Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/07 - Calo Layer2 EG Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/08 - Calo Layer2 Tau Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/09 - Calo Layer2 Energy Sum Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/10 - Calo Layer2 Problem Summary","L1TEMU/Layouts/Stage2-QuickCollection/11 - uGT Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/12 - uGMT Intermediate Muon Data-Emulator misMatch ratio"]},{label:"L1T2016",foldersPath:["L1T2016"],quickCollections:["L1T/Layouts/Stage2-QuickCollection/00 - Calo Layer1 ECAL Input Occupancy","L1T/Layouts/Stage2-QuickCollection/01 - Calo Layer1 HCAL Input Occupancy","L1T/Layouts/Stage2-QuickCollection/02 - Calo Layer1 Input Link Errors and event mismatches","L1T/Layouts/Stage2-QuickCollection/03 - uGMT MUON BX and Link vs BX","L1T/Layouts/Stage2-QuickCollection/04 - uGMT MUON P_{T}","L1T/Layouts/Stage2-QuickCollection/05 - uGMT MUON ETA","L1T/Layouts/Stage2-QuickCollection/06 - uGMT MUON PHI","L1T/Layouts/Stage2-QuickCollection/07 - uGMT MUON PHI ETA","L1T/Layouts/Stage2-QuickCollection/08 - uGT Algoritm Trigger Bits (before prescale) vs Global BX Number","L1T/Layouts/Stage2-QuickCollection/09 - uGT Algorithm Trigger Bits (after prescale) vs. Global BX Number","L1T/Layouts/Stage2-QuickCollection/10 - uGT Algorithm Trigger Bits (after prescale) vs. BX Number in Event","L1T/Layouts/Stage2-QuickCollection/11 - uGT Algorithm Trigger Bits (after prescale)","L1T/Layouts/Stage2-QuickCollection/12 - Calo Layer2 Bx Occupancy distributions","L1T/Layouts/Stage2-QuickCollection/13 - Calo Layer2 Central Jet Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/14 - Calo Layer2 Central Jets Pt distribution","L1T/Layouts/Stage2-QuickCollection/15 - Calo Layer2 Forward Jet Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/16 - Calo Layer2 Forward Jet Pt distribution","L1T/Layouts/Stage2-QuickCollection/17 - Calo Layer2 Isolated EG Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/18 - Calo Layer2 Isolated EG Pt distribution","L1T/Layouts/Stage2-QuickCollection/19 - Calo Layer2 Non-Isolated EG Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/20 - Calo Layer2 Non-Isolated EG Pt distribution","L1T/Layouts/Stage2-QuickCollection/21 - Calo Layer2 Isolated Tau Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/22 - Calo Layer2 Isolated Tau Pt distribution","L1T/Layouts/Stage2-QuickCollection/23 - Calo Layer2 Non-Isolated Tau Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/24 - Calo Layer2 Non-Isolated Tau Pt distribution","L1T/Layouts/Stage2-QuickCollection/25 - Calo Layer2 EtSum Bx Occupancy distribution","L1T/Layouts/Stage2-QuickCollection/26 - Calo Layer2 ETT Et distribution","L1T/Layouts/Stage2-QuickCollection/27 - Calo Layer2 ETTEM Et distribution","L1T/Layouts/Stage2-QuickCollection/28 - Calo Layer2 HTT Et distribution","L1T/Layouts/Stage2-QuickCollection/29 - Calo Layer2 MET Et distribution","L1T/Layouts/Stage2-QuickCollection/30 - Calo Layer2 MET Phi distribution","L1T/Layouts/Stage2-QuickCollection/31 - Calo Layer2 METHF Et distribution","L1T/Layouts/Stage2-QuickCollection/32 - Calo Layer2 METHF Phi distribution","L1T/Layouts/Stage2-QuickCollection/33 - Calo Layer2 MHT Et distribution","L1T/Layouts/Stage2-QuickCollection/34 - Calo Layer2 MHT Phi distribution","L1T/Layouts/Stage2-QuickCollection/35 - Calo Layer2 MHTHF Et distribution","L1T/Layouts/Stage2-QuickCollection/36 - Calo Layer2 MHTHF Phi distribution","L1T/Layouts/Stage2-QuickCollection/37 - uGMT BMTF BX and Wedge vs BX","L1T/Layouts/Stage2-QuickCollection/38 - BMTF Muon HW p_{T}","L1T/Layouts/Stage2-QuickCollection/39 - uGMT BMTF HW Eta","L1T/Layouts/Stage2-QuickCollection/40 - uGMT BMTF HW Phi","L1T/Layouts/Stage2-QuickCollection/41 - uGMT BMTF HW vs Sign","L1T/Layouts/Stage2-QuickCollection/42 - uGMT OMTF BX and Sector vs. BX","L1T/Layouts/Stage2-QuickCollection/43 - uGMT OMTF HW p_{T}","L1T/Layouts/Stage2-QuickCollection/44 - uGMT OMTF HW Eta","L1T/Layouts/Stage2-QuickCollection/45 - uGMT OMTF HW Phi (top: positive, bottom: negative)","L1T/Layouts/Stage2-QuickCollection/46 - uGMT OMTF HW Sign","L1T/Layouts/Stage2-QuickCollection/47 - uGMT EMTF BX and Track vs BX","L1T/Layouts/Stage2-QuickCollection/48 - uGMT EMTF Phi","L1T/Layouts/Stage2-QuickCollection/49 - EMTF LCT Occupancy","L1T/Layouts/Stage2-QuickCollection/50 - Calo TPG Link Errors and event mismatches (top: ECAL, bottom: HCAL)","L1T/Layouts/Stage2-QuickCollection/51 - uGT CaloLayer2 Inputs Board 2-6 misMatch Ratios","L1T/Layouts/Stage2-QuickCollection/52 - uGT Muon Inputs Board 2-6 misMatch Ratios","L1T/Layouts/Stage2-QuickCollection/53 - uGMT Muon Copy 1-5 misMatch Ratios","L1T/Layouts/Stage2-QuickCollection/54 - Input vs Output misMatch Ratios (clockwise from top left: uGT vs. uGMT, uGT vs. caloL2, uGMT vs. EMTF, uGMT vs. OMTF, uGMT vs. BMTF)","L1T/Layouts/Stage2-QuickCollection/55 - uGMT Zero Suppression misMatch Ratio (left: all events, right: fat events)","L1T/Layouts/Stage2-QuickCollection/56 - BMTF Zero Suppression misMatch Ratio (left: all events, right: fat events)"]},{label:"L1TEMU",foldersPath:["L1TEMU"],quickCollections:["L1TEMU/Layouts/Stage2-QuickCollection/00 - CaloTower Data-Emulator Status","L1TEMU/Layouts/Stage2-QuickCollection/01 - uGMT Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/02 - BMTF Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/03 - OMTF Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/04 - EMTF Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/05 - Calo Layer2 High Level Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/06 - Calo Layer2 Jet Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/07 - Calo Layer2 EG Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/08 - Calo Layer2 Tau Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/09 - Calo Layer2 Energy Sum Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/10 - Calo Layer2 Problem Summary","L1TEMU/Layouts/Stage2-QuickCollection/11 - uGT Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/12 - uGMT Intermediate Muon Data-Emulator misMatch ratio"]},{label:"HLT",foldersPath:["HLT"],quickCollections:["HLT/ObjectMonitor/MainShifter/Photon_pT","HLT/ObjectMonitor/MainShifter/Muon_pT","HLT/ObjectMonitor/MainShifter/Electron_pT","HLT/ObjectMonitor/MainShifter/Jet_pT","HLT/ObjectMonitor/MainShifter/JetAK8_Pt","HLT/ObjectMonitor/MainShifter/JetAK8_mass","HLT/ObjectMonitor/MainShifter/Tau_pT","HLT/ObjectMonitor/MainShifter/Dimuon_LowMass","HLT/ObjectMonitor/MainShifter/diMuon_Mass","HLT/ObjectMonitor/MainShifter/di-Electron_Mass","HLT/ObjectMonitor/MainShifter/alphaT","HLT/ObjectMonitor/MainShifter/CaloMET_pT","HLT/ObjectMonitor/MainShifter/CaloHT_pT","HLT/ObjectMonitor/MainShifter/PFHT_pT","HLT/ObjectMonitor/MainShifter/PFMET_pT","HLT/ObjectMonitor/MainShifter/L2Muon_pT","HLT/ObjectMonitor/MainShifter/L2NoBPTXMuon_pT","HLT/ObjectMonitor/MainShifter/Rsq","HLT/ObjectMonitor/MainShifter/mr","HLT/ObjectMonitor/MainShifter/Muon_dxy","HLT/ObjectMonitor/MainShifter/bJetCSVCalo","HLT/ObjectMonitor/MainShifter/bJetCSVPF","HLT/Tracking/iter2Merged/GeneralProperties/TrackPt_ImpactPoint_GenTk","HLT/Tracking/pixelTracks/GeneralProperties/TrackPt_ImpactPoint_GenTk","HLT/Tracking/iter2Merged/GeneralProperties/NumberOfTracksVsLS_GenTk","HLT/Tracking/pixelTracks/GeneralProperties/NumberOfTracksVsLS_GenTk","HLT/Tracking/iter2Merged/GeneralProperties/NumberOfRecHitsPerTrackVsLS_GenTk","HLT/Tracking/pixelTracks/GeneralProperties/NumberOfRecHitsPerTrackVsLS_GenTk","HLT/SiStrip/MechanicalView/TIB/TotalNumberOfClusterProfile__TIB","HLT/Layouts/highestRate Summary"]}]},{label:"Tracker",workspaces:[{label:"PixelPhase1",foldersPath:["PixelPhase1"],quickCollections:["PixelPhase1/Layouts/000 - PixelPhase1 ReportSummary: Layer or Disk vs subdet","PixelPhase1/Layouts/00a - PixelPhase1 FED Occupancy vs Lumi Sections","PixelPhase1/Layouts/00b - PixelPhase1_Error_Summary","PixelPhase1/Layouts/01c - PixelPhase1 Cluster Size vs Cluster Eta","PixelPhase1/Layouts/02 - PixelPhase1_Digi_ADC_Barrel","PixelPhase1/Layouts/03 - PixelPhase1_Digi_ADC_Endcap","PixelPhase1/Layouts/04 - PixelPhase1_Cluster_Number","PixelPhase1/Layouts/05 - PixelPhase1_Cluster_Charge","PixelPhase1/Layouts/06 - PixelPhase1_Cluster_Size","PixelPhase1/Layouts/19 - PixelPhase1 Digis: Ladder vs Module barrel summary","PixelPhase1/Layouts/20 - PixelPhase1 Clusters: Ladder vs Module barrel summary","PixelPhase1/Layouts/24 - PixelPhase1 Cluster Position: Z vs Phi barrel summary","PixelPhase1/Layouts/27 - PixelPhase1 Digis: BladePanel vs Disk endcap summary","PixelPhase1/Layouts/28 - PixelPhase1 Clusters: BladePanel vs Disk endcap summary","PixelPhase1/Layouts/30 - PixelPhase1 Cluster Position: X vs Y endcap summary","PixelPhase1/Layouts/31 - PixelPhase1 Dead ROC Trends in barrel","PixelPhase1/Layouts/32 - PixelPhase1 Dead ROC Trends in endcap","PixelPhase1/Layouts/33 - ntracks","PixelPhase1/Layouts/34 - Charge and size (on-track)","PixelPhase1/Layouts/35a - Cluster charge (on-track) per Inner Ladders","PixelPhase1/Layouts/35b - Cluster charge (on-track) per Outer Ladders","PixelPhase1/Layouts/35c - Cluster charge (on-track) per Disk","PixelPhase1/Layouts/36 - Cluster position (on-track) per PXLayer","PixelPhase1/Layouts/37 - Cluster position (on-track) per Disk","PixelPhase1/Layouts/40 - PixelPhase1 Residuals","PixelPhase1/Layouts/41a - ClusterSize Vs Eta (on-track) inner","PixelPhase1/Layouts/41b - ClusterSize Vs Eta (on-track) outer","PixelPhase1/Layouts/42a - Cluster size (on-track) per Ladders","PixelPhase1/Layouts/42b - Cluster size (on-track) per Disk","PixelPhase1/Layouts/43a - Dead Channels per ROC per Barrel Layer","PixelPhase1/Layouts/43b - Dead Channels per ROC per Forward Ring"]},{label:"Pixel",foldersPath:["Pixel"],quickCollections:[]},{label:"SiStrip",foldersPath:["SiStrip","Tracking"],quickCollections:["SiStrip/Layouts/00 - SiStrip ReportSummary","SiStrip/Layouts/01 - FED-Detected Errors Summary","SiStrip/Layouts/02 - FED-Detected Errors Trend","SiStrip/Layouts/03 - # of Digi Trend","SiStrip/Layouts/04 - # of Cluster Trend","SiStrip/Layouts/05 - OnTrackCluster (StoN)","SiStrip/Layouts/06 - OffTrackCluster (Total Number)","SiStrip/Layouts/07 - Tracking ReportSummary","SiStrip/Layouts/08 - Tracks (pp collisions)","SiStrip/Layouts/09 - Tracks (Cosmic Tracking)","SiStrip/Layouts/10 - Tracks (HI run)","SiStrip/Layouts/11a - FED Errors vs FED ID","SiStrip/Layouts/33 - Cluster & Digi occupancy per FED","SiStrip/Layouts/34 - FED Errors Vs Id Vs Lumi"]}]},{label:"Calorimeters",workspaces:[{label:"Ecal",foldersPath:["Ecal","EcalBarrel","EcalEndcap","EcalCalibration"],quickCollections:["Ecal/Layouts/00 Summary","Ecal/Layouts/01 Occupancy Summary","Ecal/Layouts/02 Calibration Summary"]},{label:"EcalPreshower",foldersPath:["EcalPreshower"],quickCollections:["EcalPreshower/Layouts/01-IntegritySummary-EcalPreshower","EcalPreshower/Layouts/02-GoodRechitOccupancySummary-EcalPreshower","EcalPreshower/Layouts/03-GoodRechitEnergySummary-EcalPreshower","EcalPreshower/Layouts/04-ESTimingTaskSummary-EcalPreshower","EcalPreshower/Layouts/05-ESGain-EcalPreshower","EcalPreshower/Layouts/06-ES-Fiber-Error-Code"]},{label:"HCAL",foldersPath:["Hcal","Hcal2"],quickCollections:["Hcal/Layouts/00 Current Summary","Hcal/Layouts/01 RAW Bad Quality","Hcal/Layouts/02 RAW Bad Quality depth","Hcal/Layouts/03 RAW Mismatches","Hcal/Layouts/04 DIGI Missing 1LS","Hcal/Layouts/05 DIGI Occupancy","Hcal/Layouts/06 DIGI Occupancy Total","Hcal/Layouts/07 DIGI Occupancy Cut","Hcal/Layouts/08 DIGI Timing","Hcal/Layouts/09 DIGI Total Charge","Hcal/Layouts/10 DIGI Occupancy vs LS","Hcal/Layouts/11 DIGI Amplitude vs LS","Hcal/Layouts/12 RECO Energy","Hcal/Layouts/13 RECO Occupancy","Hcal/Layouts/14 RECO Occupancy Cut","Hcal/Layouts/15 RECO Timing","Hcal/Layouts/16 RECO HBHEabc Timing","Hcal/Layouts/17 RECO Timing vs Energy","Hcal/Layouts/18 TP Et Correlation","Hcal/Layouts/19 TP Et Correlation Ratio","Hcal/Layouts/20 TP Et Distribution","Hcal/Layouts/21 TP Et Mismatches","Hcal/Layouts/22 TP Et Missing","Hcal/Layouts/23 TP Et Occupancy"]},{label:"HCALcalib",foldersPath:["HcalCalib"],quickCollections:["HcalCalib/Layouts/00 Current Summary","HcalCalib/Layouts/01 Pedestal Mean","HcalCalib/Layouts/02 Pedestal Mean by FED","HcalCalib/Layouts/03 Pedestal RMS","HcalCalib/Layouts/04 Pedestal RMS by FED","HcalCalib/Layouts/05 Pedestal Mean DB Ref","HcalCalib/Layouts/06 Pedestal Mean DB Ref by FED","HcalCalib/Layouts/07 Pedestal RMS DB Ref","HcalCalib/Layouts/08 Pedestal RMS DB Ref by FED","HcalCalib/Layouts/09 Pedestal Mean Bad","HcalCalib/Layouts/10 Pedestal Mean Bad by FED","HcalCalib/Layouts/11 Pedestal RMS Bad","HcalCalib/Layouts/12 Pedestal RMS Bad by FED","HcalCalib/Layouts/13 Pedestal Missing","HcalCalib/Layouts/14 Pedestal Missing by FED","HcalCalib/Layouts/15 Pedestal Occupancy vs LS","HcalCalib/Layouts/16 Missing vs LS","HcalCalib/Layouts/17 Number of Bad Mean vs LS","HcalCalib/Layouts/18 Number of Bad RMS vs LS"]},{label:"Castor",foldersPath:["Castor"],quickCollections:["Castor/Layouts/01 - Map of frontend and readout errors","Castor/Layouts/02 - Channel-wise timing","Castor/Layouts/02b - Channel-wise timing (rms)","Castor/Layouts/Digi/05 - DigiSize"]}]},{label:"Muons",workspaces:[{label:"CSC",foldersPath:["CSC"],quickCollections:["CSC/Layouts/00 Top Physics Efficiency","CSC/Layouts/01 Station Physics Efficiency","CSC/Layouts/02 EMU Summary/EMU Test01 - DDUs in Readout","CSC/Layouts/02 EMU Summary/EMU Test03 - DDU Reported Errors","CSC/Layouts/02 EMU Summary/EMU Test04 - DDU Format Errors","CSC/Layouts/02 EMU Summary/EMU Test05 - DDU Inputs Status","CSC/Layouts/02 EMU Summary/EMU Test06 - DDU Inputs in ERROR-WARNING State","CSC/Layouts/02 EMU Summary/EMU Test08 - CSCs Reporting Data and Unpacked","CSC/Layouts/02 EMU Summary/EMU Test10 - CSCs with Errors and Warnings (Fractions)","CSC/Layouts/02 EMU Summary/EMU Test11 - CSCs without Data Blocks","CSC/Layouts/06 Physics Efficiency - RecHits Minus","CSC/Layouts/07 Physics Efficiency - RecHits Plus"]},{label:"DT",foldersPath:["DT"],quickCollections:["DT/Layouts/00-Summary/00-DataIntegritySummary","DT/Layouts/00-Summary/00-ROChannelSummary","DT/Layouts/00-Summary/01-OccupancySummary","DT/Layouts/00-Summary/02-SegmentSummary","DT/Layouts/00-Summary/03-TM_TriggerCorrFractionSummaryIn","DT/Layouts/00-Summary/04-TM_Trigger2ndFractionSummaryIn","DT/Layouts/00-Summary/05-NoiseChannelsSummary","DT/Layouts/00-Summary/06-SynchNoiseSummary"]},{label:"RPC",foldersPath:["RPC"],quickCollections:["RPC/Layouts/01-Fatal_FED_Errors","RPC/Layouts/02-RPC_Events","RPC/Layouts/08-Barrel_Occupancy","RPC/Layouts/09-Endcap_Occupancy"]},{label:"GEM",foldersPath:["GEM"],quickCollections:["GEM/Layouts/Common/00 Summary","GEM/Layouts/Common/01 AMC status positive endcap","GEM/Layouts/Common/02 AMC status negative endcap","GEM/Layouts/Common/03 GE-11L1 GEB input status","GEM/Layouts/Common/04 GE-11L2 GEB input status","GEM/Layouts/Common/05 GE+11L1 GEB input status","GEM/Layouts/Common/06 GE+11L2 GEB input status","GEM/Layouts/Common/07 GE-11L1 VFAT input status","GEM/Layouts/Common/08 GE-11L2 VFAT input status","GEM/Layouts/Common/09 GE+11L1 VFAT input status","GEM/Layouts/Common/10 GE+11L2 VFAT input status","GEM/Layouts/Common/11 GE-11L1 bunch crossing","GEM/Layouts/Common/12 GE-11L2 bunch crossing","GEM/Layouts/Common/13 GE+11L1 bunch crossing","GEM/Layouts/Common/14 GE+11L2 bunch crossing","GEM/Layouts/Common/15 GE-11L1 digi occupancy","GEM/Layouts/Common/16 GE-11L2 digi occupancy","GEM/Layouts/Common/17 GE+11L1 digi occupancy","GEM/Layouts/Common/18 GE+11L2 digi occupancy","GEM/Layouts/Common/19 GE-11L1 digi occupancy vs iEta","GEM/Layouts/Common/20 GE-11L2 digi occupancy vs iEta","GEM/Layouts/Common/21 GE+11L1 digi occupancy vs iEta","GEM/Layouts/Common/22 GE+11L2 digi occupancy vs iEta","GEM/Layouts/Common/23 GE-11L1 digi occupancy vs phi","GEM/Layouts/Common/24 GE-11L2 digi occupancy vs phi","GEM/Layouts/Common/25 GE+11L1 digi occupancy vs phi","GEM/Layouts/Common/26 GE+11L2 digi occupancy vs phi","GEM/Layouts/Common/27 GE-11L1 total number of strips per event","GEM/Layouts/Common/28 GE-11L2 total number of strips per event","GEM/Layouts/Common/29 GE+11L1 total number of strips per event","GEM/Layouts/Common/30 GE+11L2 total number of strips per event","GEM/Layouts/Common/31 GE-11L1 recHit occupancy","GEM/Layouts/Common/32 GE-11L2 recHit occupancy","GEM/Layouts/Common/33 GE+11L1 recHit occupancy","GEM/Layouts/Common/34 GE+11L2 recHit occupancy","GEM/Layouts/Common/35 GE-11L1 recHit occupancy vs iEta","GEM/Layouts/Common/36 GE-11L2 recHit occupancy vs iEta","GEM/Layouts/Common/37 GE+11L1 recHit occupancy vs iEta","GEM/Layouts/Common/38 GE+11L2 recHit occupancy vs iEta","GEM/Layouts/Common/39 GE-11L1 recHit occupancy vs phi","GEM/Layouts/Common/40 GE-11L2 recHit occupancy vs phi","GEM/Layouts/Common/41 GE+11L1 recHit occupancy vs phi","GEM/Layouts/Common/42 GE+11L2 recHit occupancy vs phi","GEM/Layouts/Common/43 GE-11L1 total number of recHits per event","GEM/Layouts/Common/44 GE-11L2 total number of recHits per event","GEM/Layouts/Common/45 GE+11L1 total number of recHits per event","GEM/Layouts/Common/46 GE+11L2 total number of recHits per event","GEM/Layouts/Common/47 GE-11L1 iEta 1 cluster size","GEM/Layouts/Common/48 GE-11L1 iEta 2 cluster size","GEM/Layouts/Common/49 GE-11L1 iEta 3 cluster size","GEM/Layouts/Common/50 GE-11L1 iEta 4 cluster size","GEM/Layouts/Common/51 GE-11L1 iEta 5 cluster size","GEM/Layouts/Common/52 GE-11L1 iEta 6 cluster size","GEM/Layouts/Common/53 GE-11L1 iEta 7 cluster size","GEM/Layouts/Common/54 GE-11L1 iEta 8 cluster size","GEM/Layouts/Common/55 GE-11L2 iEta 1 cluster size","GEM/Layouts/Common/56 GE-11L2 iEta 2 cluster size","GEM/Layouts/Common/57 GE-11L2 iEta 3 cluster size","GEM/Layouts/Common/58 GE-11L2 iEta 4 cluster size","GEM/Layouts/Common/59 GE-11L2 iEta 5 cluster size","GEM/Layouts/Common/60 GE-11L2 iEta 6 cluster size","GEM/Layouts/Common/61 GE-11L2 iEta 7 cluster size","GEM/Layouts/Common/62 GE-11L2 iEta 8 cluster size","GEM/Layouts/Common/63 GE+11L1 iEta 1 cluster size","GEM/Layouts/Common/64 GE+11L1 iEta 2 cluster size","GEM/Layouts/Common/65 GE+11L1 iEta 3 cluster size","GEM/Layouts/Common/66 GE+11L1 iEta 4 cluster size","GEM/Layouts/Common/67 GE+11L1 iEta 5 cluster size","GEM/Layouts/Common/68 GE+11L1 iEta 6 cluster size","GEM/Layouts/Common/69 GE+11L1 iEta 7 cluster size","GEM/Layouts/Common/70 GE+11L1 iEta 8 cluster size","GEM/Layouts/Common/71 GE+11L2 iEta 1 cluster size","GEM/Layouts/Common/72 GE+11L2 iEta 2 cluster size","GEM/Layouts/Common/73 GE+11L2 iEta 3 cluster size","GEM/Layouts/Common/74 GE+11L2 iEta 4 cluster size","GEM/Layouts/Common/75 GE+11L2 iEta 5 cluster size","GEM/Layouts/Common/76 GE+11L2 iEta 6 cluster size","GEM/Layouts/Common/77 GE+11L2 iEta 7 cluster size","GEM/Layouts/Common/78 GE+11L2 iEta 8 cluster size"]}]},{label:"CTPPS",workspaces:[{label:"TrackingStrip",foldersPath:["CTPPS/TrackingStrip","CTPPS/common","CTPPS/TrackingStrip/Layouts"],quickCollections:[]},{label:"TrackingPixel",foldersPath:["CTPPS/TrackingPixel","CTPPS/common","CTPPS/TrackingPixel/Layouts"],quickCollections:[]},{label:"TimingDiamond",foldersPath:["CTPPS/TimingDiamond","CTPPS/common","CTPPS/TimingDiamond/Layouts"],quickCollections:[]},{label:"TimingFastSilicon",foldersPath:["CTPPS/TimingFastSilicon","CTPPS/common","CTPPS/TimingFastSilicon/Layouts"],quickCollections:[]}]}],$a=a(77649),Ka=Wa.Z.TabPane,en=function(){var e=(0,l.useRouter)().query,t=s.useContext(Dt.h),a=t.workspace,r=t.setWorkspace,i="ONLINE"===S.f9.mode?Ya:Xa;s.useEffect((function(){var t=e.workspaces?e.workspaces:i[0].workspaces[3].label;return r(t),function(){return r(t)}}),[]);var u=s.useState(!1),c=(0,h.Z)(u,2),d=c[0],m=c[1];return(0,T.jsx)(Pe.ZP,{children:(0,T.jsxs)(f.jp,{label:"Workspace",children:[(0,T.jsx)(be.Z,{onClick:function(){m(!d)},type:"link",children:a}),(0,T.jsx)(p.oA,{title:"Workspaces",visible:d,onCancel:function(){return m(!1)},footer:null,children:(0,T.jsx)(Wa.Z,{defaultActiveKey:"1",type:"card",children:i.map((function(t){return(0,T.jsx)(Ka,{tab:t.label,children:t.workspaces.map((function(t){return(0,T.jsx)(be.Z,{type:"link",onClick:(0,n.Z)(o().mark((function a(){return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r(t.label),m(!d),t.label!==i[0].workspaces[0].label){a.next=7;break}return a.next=5,(0,$a.P)(e,t.label,"Summary");case 5:a.next=9;break;case 7:return a.next=9,(0,$a.P)(e,t.label);case 9:case"end":return a.stop()}}),a)}))),children:t.label},t.label)}))},t.label)}))})})]})})},tn=function(){var e=(0,l.useRouter)().query,t=s.useState(e.plot_search),a=(0,h.Z)(t,2),n=a[0],r=a[1];return s.useEffect((function(){if(e.plot_search!==n){var t=(0,Q.Eg)({plot_search:n},e);(0,Q.Cg)(t)}}),[n]),s.useMemo((function(){return(0,T.jsx)(Pe.ZP,{onChange:function(e){return r(e.target.value)},children:(0,T.jsx)(f.jp,{children:(0,T.jsx)(f.tg,{defaultValue:e.plot_search,id:"plot_search",placeholder:"Enter plot name"})})})}),[n])},an=function(e,t,a,n){var r=(0,ya.Z)(a).concat(n);return e?0===e.length?{folders:t,plots:r}:{folders:t.filter((function(t){return e.includes(t.subdir)})),plots:r}:{folders:[],plots:r}},nn=a(50048);function rn(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return on(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return on(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==a.return||a.return()}finally{if(i)throw o}}}}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var sn="ONLINE"===S.f9.mode?Ya:Xa,ln=function(e,t){var a,n,r,o=rn(sn);try{for(o.s();!(r=o.n()).done;){var s=r.value.workspaces.filter((function(t){return t.label===e}));if(s.length>0)if("break"===function(){var e=s[0].foldersPath,r=t?t.split("/").length:0;if(a=e?e.map((function(e){var t=e.split("/");return t.length>=r?t[r]:[]})):null,r>=1)n=[];else{var o=s[0].quickCollections;n=o.map((function(e){var t=e.split("/");return{name:t.pop(),path:t.join("/")}}))}return"break"}())break}}catch(i){o.e(i)}finally{o.f()}return{folders:a?(0,nn.Z)(a).filter(Boolean):null,quickCollections:n}},un=function(e){var t=e?e.map((function(e){var t=e.name;return function(e){var t=(0,Se.jA)(e);return x().get("".concat(S.Jg).concat(t)).then((function(t){var a=t.data.data;return a.length>0?a.map((function(t){var a=(0,La.Z)("",["source"],t).split("/");return{name:a.pop(),path:a.join("/"),layout:e,quickCollection:!0}})):[]})).catch((function(e){return console.error(e)}))}(t).then((function(a){return a.length>0?a:{name:t,path:e.path}})).catch((function(e){return console.error(e)}))})):[];return Promise.all(t)},cn=function(){var e=(0,n.Z)(o().mark((function e(t,a,n){var r,s,i,l,u,c,d,m,h,y,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t).notOlderThan=a,e.next=4,Oa(r).then((function(e){return e}));case 4:return s=e.sent,i=(0,La.Z)(null,["folders"],s),l=(0,La.Z)("",["plots"],s),e.next=9,ln(n,r.folder_path);case 9:return u=e.sent,c=(0,La.Z)("",["quickCollections"],u),d=(0,La.Z)(null,["folders"],u),e.next=14,un(c);case 14:return m=e.sent,h=an(d,i,m,l),y=(0,La.Z)([],["folders"],h),p=(0,La.Z)([],["plots"],h),e.abrupt("return",{folders:y,plots:p});case 19:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),dn=function(){var e=s.useState([]),t=(0,h.Z)(e,2),a=t[0],r=t[1],i=s.useState([]),u=(0,h.Z)(i,2),c=u[0],d=u[1],y=s.useState(!1),p=(0,h.Z)(y,2),f=p[0],L=p[1],g=s.useState(""),b=(0,h.Z)(g,2),C=b[0],x=b[1],S=(0,K.YO)(),_=(0,l.useRouter)().query,j=s.useContext(Dt.h).workspace,P=s.useContext($.h),v=P.not_older_than,T=P.addLoader,E=(0,m.oq)({run_number:_.run_number,dataset_name:_.dataset_name}),k=E?[j,_.folder_path,_.plot_search,v]:[j,_.folder_path,_.plot_search],M=ut(v).blink;return s.useEffect((function(){E&&T({value:f,id:S})}),[f]),s.useEffect((function(){r([]),d([])}),[]),s.useEffect((function(){L(!0),cn(_,v,j).then(function(){var e=(0,n.Z)(o().mark((function e(t){var a,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!1),a=t.folders,n=t.plots,e.next=4,r(a);case 4:return e.next=6,d(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){L(!1),x(e),console.error(e)}))}),k),{folders:a,plots:c,isLoading:f,errors:C,blink:M}},mn=function(e){var t=e.folder_path,a=(0,s.useContext)(Dt.h),n=a.viewPlotsPosition,r=a.proportion,o=(0,s.useState)(!1),i=o[0],c=o[1],d=s.useRef(null),m=s.useState(0),y=(0,h.Z)(m,2),p=y[0],L=y[1],g=(0,l.useRouter)().query,b=g.selected_plots,C=dn(),x=C.folders,S=C.plots,_=C.isLoading,j=C.errors,P=C.blink,v=(0,Q.JI)(S),E=v.plots_with_layouts_,k=v.plots_without_layouts_,M=(0,Q.KU)(b,S);return s.useEffect((function(){d.current&&L(d.current.clientWidth)}),[d.current]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(f.Y0,{space:"2",width:"100%",justifycontent:"space-between",children:[(0,T.jsx)(sa,{openSettings:i,onClose:function(){return c(!1)},isAnyPlotSelected:0===M.length}),(0,T.jsx)(u.Z,{style:{padding:8},children:(0,T.jsx)(ta.b,{folder_path:t,changeFolderPathByBreadcrumb:function(e){return(0,Q.Cg)((0,Q.Eg)(e,g))}})}),(0,T.jsxs)(me.Z,{gutter:16,children:[(0,T.jsx)(u.Z,{children:(0,T.jsx)(en,{})}),(0,T.jsx)(u.Z,{children:(0,T.jsx)(tn,{})}),(0,T.jsx)(u.Z,{children:(0,T.jsx)(Ja,{})}),(0,T.jsx)(u.Z,{children:(0,T.jsx)(f.H7,{icon:(0,T.jsx)(tt.Z,{}),onClick:function(){return c(!0)},children:"Settings"})})]})]}),(0,T.jsx)(f.Y0,{width:"100%",children:(0,T.jsx)(ea,{plotsAreaWidth:p,selected_plots:M.length>0})}),(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(Ie.T8,{selectedPlots:M.length>0,position:n,children:[(0,T.jsx)(za,{blink:P,plotsAreaRef:d,plots:k,selected_plots:M,plots_grouped_by_layouts:E,isLoading:_,viewPlotsPosition:n,proportion:r,errors:j,filteredFolders:x,query:g}),M.length>0&&0===j.length&&(0,T.jsx)(Ie.wD,{any_selected_plots:M.length&&0===j.length,proportion:r,position:n,children:(0,T.jsx)(Zt,{selected_plots:M})})]})})]})},hn=function(e,t){var a=s.useState(e),n=(0,h.Z)(a,2),r=n[0],o=n[1];return s.useEffect((function(){o(e)}),[e]),s.useEffect((function(){o(t)}),[t]),r},yn=function(){return(0,T.jsx)(f.Bn,{onClick:function(){!function(e,t){var a={run_number:e,dataset_name:t,folder_path:"Summary",workspaces:Ya[0].workspaces[0].label},n=se().stringify(a,{}),r="/"!==S.A?"".concat(S.A,"?").concat(n):void 0;l.default.push({pathname:"",query:a},r)}("0","/Global/Online/ALL")},children:(0,T.jsx)("a",{children:"Live Mode"})})},pn=["latest_runs","not_older_than"],fn=function(e){var t=e.latest_runs,a=e.not_older_than,n=(0,nt.Z)(e,pn),r=(0,l.useRouter)().query.mode,o=ut(a).blink;return(0,T.jsx)(de.V1,{children:t.map((function(e){return(0,T.jsx)(de.N6,{children:(0,T.jsx)(de.ux,{isLoading:o.toString(),animation:("ONLINE"===n.mode).toString(),hover:"true",onClick:function(){(0,Q.Cg)({search_run_number:e,mode:r})},children:(0,T.jsx)(de.nB,{children:e})})},e.toString())}))})},Ln=function(){var e=s.useContext($.h),t=e.not_older_than,a=e.addLoader,n=s.useState(),r=(0,h.Z)(n,2),o=r[0],i=r[1],l=P((0,Se.fk)(),{},[]),u=P((0,Se.mr)(t),{},[t]),c=hn(l.data,u.data),d=hn(l.errors,u.errors),m=hn(l.isLoading,u.isLoading),y=l.isLoading,p=(0,La.Z)([],["runs"],c),L=p.sort((function(e,t){return t-e}));return s.useEffect((function(){var e=(0,K.YO)();i(e)}),[]),s.useEffect((function(){a({value:m,id:o})}),[m]),(0,T.jsx)(T.Fragment,{children:!y&&d.length>0?d.map((function(e){return(0,T.jsx)(de.RY,{message:e,type:"error",showIcon:!0},e)})):y?(0,T.jsx)(de.Zh,{children:(0,T.jsx)(de.$j,{})}):(0,T.jsxs)(de.zm,{children:[(0,T.jsx)(f.Jf,{display:"flex",justifycontent:"flex-end",width:"auto",children:"ONLINE"===S.f9.mode&&(0,T.jsx)(yn,{})}),(0,T.jsx)(de.U6,{children:"The latest runs"}),y?(0,T.jsx)(de.Zh,{children:(0,T.jsx)(de.$j,{})}):0!==L.length||y||0!==d.length?p&&(0,T.jsx)(fn,{latest_runs:L,mode:S.f9.mode,not_older_than:t}):(0,T.jsx)(ye.Q,{})]})})},gn=function(){var e=(0,l.useRouter)().query,t=Le(e.search_run_number,e.search_dataset_name),a=t.results_grouped,n=t.searching,r=t.isLoading,o=t.errors;return e.dataset_name&&e.run_number?(0,T.jsx)(mn,{folder_path:e.folder_path||""}):n?(0,T.jsx)(pe,{isLoading:r,results_grouped:a,handler:function(t,a,n){n.preventDefault();var r=(0,K.BW)(t.toString()),o=r.parsedRun,s=r.parsedLumi;(0,Q.Cg)((0,Q.Eg)({lumi:s,run_number:o,dataset_name:a,workspaces:"Everything",plot_search:""},e))},errors:o}):!S.f9.new_back_end.latest_runs||e.dataset_name||e.run_number?(0,T.jsx)(de.eB,{children:(0,T.jsxs)(de.C3,{noBorder:!0,children:[(0,T.jsx)(de.Cy,{}),"Welcome to DQM GUI"]})}):(0,T.jsx)(Ln,{})},bn=(0,T.jsx)(Ve.Z,{children:[{name:"Online-new",link:"https://cmsweb.cern.ch/dqm/online-new/"},{name:"Online-playback-new",link:"https://cmsweb.cern.ch/dqm/online-playback-new/"},{name:"Offline-test-new",link:"https://cmsweb-testbed.cern.ch/dqm/offline-test-new/"}].map((function(e){return(0,T.jsx)(Ve.Z.Item,{disabled:S.D$&&S.D$.toUpperCase()===e.name.toUpperCase(),children:(0,T.jsx)(be.Z,{type:"link",disabled:S.D$&&S.D$.toUpperCase()===e.name.toUpperCase(),onClick:function(){return location.href=e.link},children:e.name})},e.name)}))}),Cn=function(e){var t=e.host;return(0,T.jsx)(Je.Z,{overlay:bn,placement:"bottomCenter",arrow:!0,children:(0,T.jsx)(be.Z,{type:"link",style:{color:"white",fontVariant:"all-small-caps",height:"max-content"},children:(0,T.jsxs)("div",{style:{display:"block"},children:[(0,T.jsx)("div",{children:S.D$?S.D$:S.f9.mode+" (development)"}),(0,T.jsx)("div",{style:{fontSize:"smaller"},children:t})]})})})},xn=function(){var e=(0,l.useRouter)().query,t=(0,s.useContext)(Dt.h),a=t.setHost,r=t.host;(0,s.useEffect)((function(){!function(e){x().get("".concat(S.Jg).concat((0,Se.IP)())).then((function(t){var a=t.data.host;e(a)})).catch((function(e){return console.error(e)}))}(a)}),[]);var h=!!e.run_number&&!!e.dataset_name;return window.onload=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("holderStyle").remove();case 1:case"end":return e.stop()}}),e)}))),(0,T.jsxs)(d.lx,{children:[(0,T.jsxs)(i.default,{children:[(0,T.jsx)("style",{id:"holderStyle",dangerouslySetInnerHTML:{__html:"\n      *, *::before, *::after {\n        transition: none!important;\n      }"}}),(0,T.jsx)("script",{crossOrigin:"anonymous",type:"text/javascript",src:"./jsroot-5.8.0/scripts/JSRootCore.js?2d&hist&more2d"}),(0,T.jsx)("script",{src:"https://unpkg.com/react@17/umd/react.production.min.js"}),(0,T.jsx)("script",{src:"https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"})]}),(0,T.jsxs)(d.Rh,{children:[(0,T.jsxs)(d.eb,{children:[(0,T.jsx)(u.Z,{children:(0,T.jsxs)(u.Z,{style:{display:"flex",alignItems:"center"},children:[(0,T.jsx)(c.Z,{title:"Back to main page",placement:"bottomLeft",children:(0,T.jsx)(d.JI,{children:(0,T.jsx)(d.IY,{onClick:function(e){return(0,m.kv)(e)},children:(0,T.jsx)(d.ps,{src:"./images/CMSlogo_white_red_nolabel_1024_May2014.png"})})})}),(0,T.jsx)(Cn,{host:r})]})}),(0,T.jsx)(et,{isDatasetAndRunNumberSelected:h,query:e})]}),(0,T.jsx)(gn,{})]})]})}},45301:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(83044)}])}},function(e){e.O(0,[662,182,881,626,774,888,179],(function(){return t=45301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);