(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{83044:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return gn}});var n=a(85893),r=a(87757),o=a.n(r),s=a(15861),i=a(67294),l=a(9008),u=a(11163),c=a(15746),d=a(31097),m=a(13722),h=a(41094),y=a(20154),p=a(74004),f=a(7653),L=a(41156),g=a(30454),b=a(11382),C=a(4942),x=a(9669),S=a.n(x),_=a(4299);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=(0,i.useState)(null),l=r[0],u=r[1],c=(0,i.useState)(!1),d=c[0],m=c[1],h=(0,i.useRef)(null),y=(0,i.useState)([]),p=y[0],f=y[1];return(0,i.useEffect)((function(){var e;h&&(null===(e=h.current)||void 0===e||e.cancel())}),[]),(0,i.useEffect)((function(){var a=S().CancelToken;return h.current=a.source(),n&&function(){var a=(0,s.Z)(o().mark((function a(){var n,r,s,i,l;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m(!0);case 2:return a.prev=2,setTimeout(null===(n=h.current)||void 0===n?void 0:n.cancel,18e4),a.next=6,S().request(P({url:"".concat(_.Jg).concat(e),method:t.method||"get",cancelToken:null===(r=h.current)||void 0===r?void 0:r.token},t));case 6:s=a.sent,i=s.data,u(i),m(!1),a.next=18;break;case 12:a.prev=12,a.t0=a.catch(2),m(!1),f([a.t0.toString()]),S().isCancel(a.t0)&&(m(!1),f(["Request Timeout"])),null===(l=h.current)||void 0===l||l.cancel();case 18:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(){return a.apply(this,arguments)}}()(),function(){return f([])}}),a),{data:l,isLoading:d,errors:p,cancelSource:h}},T=a(69046),E=function(e){var t=e.query,a=e.info,r=e.not_older_than,o={run_number:t.run_number,dataset_name:t.dataset_name,lumi:t.lumi,folders_path:"HLT/EventInfo",plot_name:a.value,notOlderThan:r},s=v((0,T.XB)(o),{},[t.dataset_name,t.run_number]),i=s.data,l=s.isLoading;return(0,n.jsxs)(L.Y0,{display:"flex",justifycontent:"space-between",children:[(0,n.jsx)(L.cj,{space:"1",children:a.label}),(0,n.jsx)(L.cj,{space:"1",bold:"true",children:l?(0,n.jsx)(b.Z,{size:"small"}):function(e){var t=i?i.fString:null;return"time"===e.type&&t?new Date(1e3*parseInt(t)).toUTCString():t||"No information"}(a)})]})},k=a(253),M=a(7826),O=a.n(M),w=a(50681),R=a(96486),G=a.n(R);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H=function(e){var t=e?e.split("/"):["","",""],a=O()(t);return a.reduce((function(e,t){var n=a.indexOf(t),r="part_".concat(n);return Z(Z({},e),{},(0,C.Z)({},r,t))}),{})},I=function(e){if(e){var t=null===e||void 0===e?void 0:e.split("&");return null===t||void 0===t?void 0:t.map((function(e){var t=(0,w.Z)(),a=e?O()(e.split("/")):void 0,n=a?a.pop():"";return{id:t,checked:!0,run_number:a?a.shift():"",dataset_name:a?"/"+(null===a||void 0===a?void 0:a.join("/")):"",label:n}}))}return[]},q=function(e,t){var a=e.map((function(e){return H(e)}));return G().chain(a).groupBy(t).value()},F=function(e,t,a,n,r){var o=n.filter((function(e){return e.id===a}))[0],s=n.indexOf(o);return o[t]=e,n[s]=o,r(n)},Q=a(18554),B=function(e,t){var a=(e?e.split("&"):[]).map((function(e){var a=encodeURI(t.name);if([t.run_number+t.dataset_name,t.path,a].join("/")!==e)return e}));return O()(a).join("&")},N=function(e,t){var a,n=t.run_number,r=null===(a=t.dataset_name)||void 0===a?void 0:a.substring(1),o=t.path,s=t.name,i=[n,r,o,encodeURI(s)].join("/");return"".concat(e?e+"&":"").concat(i)},A=function(e){var t=e&&e.map((function(e){return"".concat(e.run_number).concat(e.dataset_name,"/").concat(e.label?e.label:e.run_number)}));return null===t||void 0===t?void 0:t.join("&")},z=function(e,t,a,n,r){return O()({run_number:t.run_number?t.run_number:"",dataset_name:t.dataset_name?t.dataset_name:"",folders_path:n,plot_name:a,height:r?e.rightSideSize.h:e.size.h,width:r?e.rightSideSize.w:e.size.w,customise:e.customise,overlay:e.overlayPosition,notOlderThan:e.updated_by_not_older_than?e.updated_by_not_older_than:"",overlay_plot:t.overlay_data?I(t.overlay_data):[],normalize:e.normalize,stats:e.stats,error:e.error,lumi:e.lumisection})},U=function(e,t){return(0,Q.Cg)((0,Q.Eg)({selected_plots:"".concat(N(e.selected_plots,t))},e))},V=function(e,t){(0,Q.Cg)((0,Q.Eg)({selected_plots:"".concat(B(e.selected_plots,t))},e))},J=function(e){e&&e.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},W=function(e){e&&e.current&&(e.current.scrollTop=e.current.scrollHeight)},X=function(e){var t=!1;return _.f9.new_back_end.new_back_end?!(!e.qteststatuses||!e.qteststatuses.find((function(e){return 300===e}))):(e.qteststatuses&&e.qteststatuses.forEach((function(e){if(e.hasOwnProperty("status")&&300===e.status)return t=!0,!0})),t||t)},Y=a(56523),$=a(26964),K=a(67034),ee=function(e){var t=e.query,a=e.toggleModal,r=e.open,o=i.useContext(Y.h),s=i.useContext($.h).not_older_than,l=z(o,t,"iRun","HLT/EventInfo");l.notOlderThan=s;var u=v((0,T.XB)(l),{},[t.dataset_name,t.run_number]).data,c=(0,K.uw)({value:"iRun",label:"Run"},u);return(0,n.jsx)(f.oA,{title:"Run ".concat(c," information"),visible:r,onCancel:function(){return a(!1)},footer:[(0,n.jsx)(L.Sn,{color:g.r.colors.secondary.main,background:"white",onClick:function(){return a(!1)},children:"Close"},"Close")],children:r&&(0,n.jsx)("div",{children:k.RX.map((function(e){return(0,n.jsx)(E,{info:e,query:t,not_older_than:s})}))})})},te=function(e){var t=e.query,a=i.useState(!1),r=(0,y.Z)(a,2),o=r[0],s=r[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ee,{toggleModal:s,open:o,query:t}),(0,n.jsx)(c.Z,{onClick:function(){return s(!o)},style:{width:"min-content"},children:(0,n.jsx)(p.k,{content:"Run info",children:(0,n.jsx)(L.gS,{})})})]})},ae=a(16068),ne=ae.Z.Title,re=function(e){var t=e.query,a=i.useContext($.h),r=a.not_older_than,o=a.addLoader;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(L.yV,{display:"flex",style:{alignItems:"center"},children:k.ih.map((function(e){var a={run_number:t.run_number,dataset_name:t.dataset_name,folders_path:"HLT/EventInfo",lumi:-1,notOlderThan:r,plot_name:e.value},s=v((0,T.XB)(a),{},[t.dataset_name,t.run_number,r]),l=s.data,u=s.isLoading,c=i.useState(),d=(0,y.Z)(c,2),m=d[0],h=d[1];return i.useEffect((function(){var e=(0,K.YO)();h(e)}),[]),i.useEffect((function(){o({value:u,id:m})}),[u]),(0,n.jsx)(L.Br,{space:"8",width:"fit-content",color:g.r.colors.common.white,name:e.label,label:e.label,children:(0,n.jsx)(ne,{level:4,style:{color:"white",display:"content"},children:u?(0,n.jsx)(b.Z,{size:"small"}):(0,K.uw)(e,l)})})}))})})},oe=a(80129),se=a.n(oe),ie=a(64561),le=a(48086),ue=a(72),ce=a(32869),de=a(10925),me=a(71230),he=function(e){var t=e.index,a=e.dataset,r=e.runs,o=e.handler,s=e.alreadySeletected,l=(0,i.useState)(!1),u=l[0],c=l[1],d=!!s&&s.length>=8;return(0,n.jsxs)(de.AF,{expanded:u,index:t,children:[(0,n.jsx)(de.aN,{children:(0,n.jsxs)("div",{children:[a,u&&(0,n.jsx)(de.EN,{children:r.map((function(e){var t=e,r=a,i=s&&s.length>0?s.findIndex((function(e){return e.dataset_name===r&&e.run_number===t})):-1,l=!!d||i>=0;return(0,n.jsx)(de.N6,{children:(0,n.jsx)(de.ux,{onClick:function(t){return!l&&o(e,a,t)},hover:"true",disabled:l.toString(),children:(0,n.jsx)(de.nB,{"aria-disabled":l,children:e})})},e)}))})]})}),(0,n.jsx)(de.LK,{children:(0,n.jsx)(L.H7,{onClick:function(){return c(!u)},children:(0,n.jsxs)(me.Z,{children:[(0,n.jsx)(L.cj,{space:"1",children:r.length}),(0,n.jsx)(L.cj,{space:"1",children:u?(0,n.jsx)(ue.Z,{}):(0,n.jsx)(ce.Z,{})})]})})})]})},ye=a(4838),pe=function(e){var t=e.handler,a=e.results_grouped,r=e.isLoading,o=e.errors,s=e.alreadySeletected,l=!!s&&s.length>=8;(0,i.useEffect)((function(){l&&le.ZP.warning("Maximum can be overlaid 8 plots in total")}),[l]);var u=o&&o.length>0?o:[],c=s?s.map((function(e){return{run_number:e.run_number,dataset_name:e.dataset_name}})):[];return(0,n.jsx)(de.SD,{overflowx:"hidden",children:r?(0,n.jsx)(de.Zh,{children:(0,n.jsx)(de.$j,{})}):(0,n.jsx)(n.Fragment,{children:0!==a.length||r||0!==u.length?r||0!==u.length?!r&&u.length>0&&u.map((function(e){return(0,n.jsx)(de.RY,{message:e,type:"error",showIcon:!0},e)})):(0,n.jsxs)(de.k6,{children:[(0,n.jsx)(de.UT,{children:(0,n.jsxs)(de.AF,{noHover:!0,children:[(0,n.jsx)(de.aN,{children:"Dataset"}),(0,n.jsx)(de.LK,{children:"Runs"})]})}),(0,n.jsx)(de.RM,{children:a.map((function(e,a){var r=e.dataset,o=e.runs;return(0,n.jsx)(he,{alreadySeletected:c,index:a,handler:t,dataset:r,runs:o},r)}))})]}):(0,n.jsx)(ye.Q,{})})})},fe=a(87276),Le=function(e,t){var a=!(!e&&!t),n=e||"",r=t||"",o=(0,Q.Ux)({dataset_name:r,run_number:n,lumi:""}),s=v(o,{},[e,t],a),i=s.data,l=s.isLoading,u=s.errors,c=function(e){if(_.f9.new_back_end.new_back_end)return e&&e.data;if(e){var t=e.samples;return t?t.reduce((function(e,t){var a=t.items;return[].concat((0,fe.Z)(e),(0,fe.Z)(a))}),[]):[]}}(i);return a&&null!==i&&0!==c.lenght?{results_grouped:G().chain(c).sortBy("dataset").groupBy("dataset").map((function(e,t){var a=e.map((function(e){return e.run}));return a.sort((function(e,t){return e-t})),{dataset:t,runs:a}})).value(),searching:a,isLoading:l,errors:u}:{results_grouped:[],searching:a,isLoading:l,errors:u}},ge=a(37531),be=a(71577),Ce=a(13995),xe=a(68002),Se=a(46245),_e=ge.Z.Option,je=function(e){var t=e.color,a=e.currentLumisection,r=e.handler,o=e.currentRunNumber,s=e.currentDataset,l=i.useState([{label:"All",value:0}]),u=(0,y.Z)(l,2),d=u[0],m=u[1],h=v((0,Se.H6)({run_number:o,dataset_name:s,lumi:-1}),{},[o,s]),p=h.data,g=h.isLoading,C=(h.errors,p?p.data:[]);i.useEffect((function(){var e=C.length>0?C.map((function(e){return{label:e.lumi.toString(),value:e.lumi}})):[],t=(0,fe.Z)(d).concat(e);m(t)}),[C]);var x=d.map((function(e){return e.value})),S=-1===x.indexOf(a)?0:x.indexOf(a);return(0,n.jsx)(c.Z,{children:(0,n.jsx)(L.jp,{labelcolor:t,name:"lumi",label:"Lumi",children:(0,n.jsxs)(me.Z,{justify:"center",align:"middle",children:[(0,n.jsx)(c.Z,{children:(0,n.jsx)(be.Z,{disabled:!d[S-1],icon:(0,n.jsx)(Ce.Z,{}),type:"link",onClick:function(){r(x[S-1])}})}),(0,n.jsx)(c.Z,{children:(0,n.jsx)(f.Qr,{dropdownMatchSelectWidth:!1,value:x[S],onChange:function(e){r(parseInt(e))},showSearch:!0,children:d&&d.map((function(e){return(0,n.jsx)(_e,{value:e.value,children:g?(0,n.jsx)(f.hb,{children:(0,n.jsx)(b.Z,{})}):(0,n.jsx)("p",{children:e.label})},e.value.toString())}))})}),(0,n.jsx)(c.Z,{children:(0,n.jsx)(be.Z,{icon:(0,n.jsx)(xe.Z,{}),disabled:!d[S+1],type:"link",onClick:function(){r(x[S+1])}})})]})})})},Pe=a(50963),ve=a(47933),Te=function(e){var t=e.options,a=e.action,r=e.current_value,o=e.getOptionValue,s=e.getOptionLabel,l=e.radioColor,u=e.disabled,c=i.useState(r),d=(0,y.Z)(c,2),m=d[0],h=d[1];return(0,n.jsx)(ve.ZP.Group,{onChange:function(e){a(e.target.value),h(e.target.value)},value:m,disabled:u,children:t.map((function(e){return(0,n.jsx)(L.Ks,{color:l,value:o(e),children:s(e)},e.label)}))})},Ee=[{value:!0,label:"Yes"},{value:!1,label:"No"}],ke=function(e){var t=e.dataset_name,a=e.run_number,r=e.form,o=e.toggleRunInNewTab,s=e.openRunInNewTab,l=i.useContext(Y.h),d=l.lumisection,m=l.setLumisection,h=(0,u.useRouter)().query;return(0,n.jsxs)(Pe.ZP,{form:r,onFinish:function(e){(0,Q.Cg)((0,Q.Eg)(e,h))},fields:[{name:"dataset_name",value:t},{name:"run_number",value:a},{name:"lumi",value:d}],children:[(0,n.jsx)("hr",{}),(0,n.jsx)(me.Z,{children:(0,n.jsx)(L.jp,{name:"dataset_name",label:"Dataset name",children:(0,n.jsx)(L.Vl,{children:t})})}),(0,n.jsx)(me.Z,{children:(0,n.jsx)(L.jp,{name:"run_number",label:"Run number",children:(0,n.jsx)(L.Vl,{children:a})})}),"OFFLINE"===_.f9.mode&&_.f9.new_back_end&&(0,n.jsx)(me.Z,{children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(je,{color:"black",handler:function(e){m(e)},currentLumisection:d,currentDataset:t,currentRunNumber:a})})}),(0,n.jsx)("hr",{}),(0,n.jsx)(me.Z,{children:(0,n.jsx)(L.jp,{name:"open_in_a_new_a_tab",label:"Open in a new tab?",children:(0,n.jsx)(Te,{options:Ee,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},current_value:s,action:function(e){o(e)}})})}),(0,n.jsx)("hr",{})]})},Me=a(76570),Oe=function(e){var t=e.onClick;return(0,n.jsx)(L.Sn,{htmlType:"submit",onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return t()})),shape:"circle",icon:(0,n.jsx)(Me.Z,{})})},we=function(){return(0,n.jsx)(d.Z,{title:"Search can be done by run number or by dataset name, or by both",children:(0,n.jsx)(L.Db,{children:(0,n.jsx)(L.JO,{})})})};function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var De=function(e){var t=e.initial_search_run_number,a=e.initial_search_dataset_name,r=e.setRunNumber,o=e.setDatasetName,s=e.handler,l=e.type,u=e.defaultRunNumber,c=e.defaultDatasetName,d=ie.Z.useForm(),m=(0,y.Z)(d,1)[0],h=(0,i.useState)(t||""),p=h[0],f=h[1],g=(0,i.useState)(a||""),b=g[0],C=g[1];(0,i.useEffect)((function(){m.resetFields(),f(t||""),C(a||"")}),[t,a,m]);return(0,n.jsx)("div",{style:{justifyContent:"center",width:"max-content"},children:(0,n.jsxs)(L.yV,Ge(Ge({form:m,layout:"inline",justifycontent:"center"},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"search_form".concat(l),className:"fieldLabel",initialValues:{run_number:t,dataset_name:a},onFinish:function(){p&&r(p),b&&o(b)},children:[(0,n.jsx)(ie.Z.Item,{children:(0,n.jsx)(we,{})}),(0,n.jsx)(L.jp,{name:"run_number",children:(0,n.jsx)(L.Fy,{id:"run_number",onChange:function(e){return f(e.target.value)},placeholder:"Enter run number",type:"text",name:"run_number",value:u})}),"ONLINE"!==_.f9.mode&&(0,n.jsx)(L.jp,{name:"dataset_name",children:(0,n.jsx)(L.Fy,{id:"dataset_name",placeholder:"Enter dataset name",onChange:function(e){return C(e.target.value)},type:"text",value:c})}),(0,n.jsx)(ie.Z.Item,{children:(0,n.jsx)(Oe,{onClick:function(){return s(p,b)}})})]}))})},Ze=function(e){window.open(e,"_blank")},He=function(e){var t=e.setModalState,a=e.modalState,r=e.search_run_number,l=e.search_dataset_name,c=e.setSearchDatasetName,d=e.setSearchRunNumber,m=(0,u.useRouter)().query,h=m.dataset_name?m.dataset_name:"",p=(0,i.useState)(h),b=p[0],C=p[1],x=(0,i.useState)(!1),S=x[0],_=x[1],j=m.run_number?m.run_number:"",P=(0,i.useState)(j),v=P[0],T=P[1];(0,i.useEffect)((function(){var e=m.run_number?m.run_number:"",t=m.dataset_name?m.dataset_name:"";C(t),T(e)}),[m.dataset_name,m.run_number]);var E=function(){t(!1)},k=Le(r,l),M=k.results_grouped,O=k.searching,w=k.isLoading,R=k.errors,G=function(){var e=(0,s.Z)(o().mark((function e(){var t,a,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=7;break}t=Z.getFieldsValue(),a=se().stringify((0,Q.Eg)(t,m)),n=window.location.href.split("/?")[0],Ze("".concat(n,"/?").concat(a)),e.next=9;break;case 7:return e.next=9,Z.submit();case 9:E();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=ie.Z.useForm(),Z=(0,y.Z)(D,1)[0];return(0,n.jsx)(f.oA,{title:"Search data",visible:a,onCancel:function(){return E()},footer:[(0,n.jsx)(L.Sn,{color:g.r.colors.secondary.main,background:"white",onClick:function(){return E()},children:"Close"},"Close"),(0,n.jsx)(L.Sn,{onClick:G,children:"OK"},"OK")],children:a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(De,{initial_search_run_number:r,initial_search_dataset_name:l,defaultDatasetName:b,defaultRunNumber:v,handler:function(e,t){d(e),c(t)},type:"top"}),(0,n.jsx)(ke,{form:Z,dataset_name:b,run_number:v,toggleRunInNewTab:_,openRunInNewTab:S}),O?(0,n.jsx)(f.Xc,{children:(0,n.jsx)(pe,{handler:function(e,t){C(t),T(e)},isLoading:w,results_grouped:M,errors:R})}):(0,n.jsx)(f.Xc,{})]})})},Ie=a(50298),qe=ge.Z.Option,Fe=function(e){var t=e.withoutArrows,a=e.setCurrentDataset,r=e.selectorWidth,o=e.query,s=e.current_dataset_name,l=e.current_run_number,u=(0,i.useState)(!1),d=u[0],m=u[1],h=(0,i.useState)(0),y=h[0],p=h[1],g=l||o.run_number,C=Le(g,""),x=C.results_grouped,S=C.isLoading,_=x.map((function(e){return e.dataset}));return(0,i.useEffect)((function(){var e=s||o.dataset_name;p(_.indexOf(e))}),[S,_]),(0,n.jsxs)(me.Z,{justify:"center",align:"middle",children:[!t&&(0,n.jsx)(c.Z,{children:(0,n.jsx)(be.Z,{disabled:!_[y-1],type:"link",icon:(0,n.jsx)(Ce.Z,{}),onClick:function(){a(_[y-1])}})}),(0,n.jsx)(L.cj,{width:r,children:(0,n.jsx)("div",{children:(0,n.jsx)(f.Qr,{onChange:function(e){a(e)},value:_[y],dropdownMatchSelectWidth:!1,onClick:function(){return m(!d)},open:d,showSearch:!0,children:x.map((function(e){return(0,n.jsx)(qe,{onClick:function(){m(!1)},value:e.dataset,children:S?(0,n.jsx)(f.hb,{children:(0,n.jsx)(b.Z,{})}):(0,n.jsx)("p",{children:e.dataset})},e.dataset)}))})})}),!t&&(0,n.jsx)(c.Z,{children:(0,n.jsx)(be.Z,{type:"link",disabled:!_[y+1],icon:(0,n.jsx)(xe.Z,{}),onClick:function(){a(_[y+1])}})})]})},Qe=ge.Z.Option,Be=function(e){var t=e.setName,a=e.setGroupBy,r=e.resultsNames,o=e.restParts,s=e.part,l=e.name,u=e.setSelectedParts,c=e.selectedParts,d=e.selectedName,m=(0,i.useState)(l),h=m[0],y=m[1],p=(0,i.useState)(!1),g=p[0],b=p[1];return(0,n.jsxs)(f.Qr,{dropdownMatchSelectWidth:!1,defaultValue:l,selected:d===h?"selected":"",onChange:function(e){c[s]=e,u(c),a(s),y(e),t(e)},onClick:function(){return b(!g)},open:g,children:[r.map((function(e){return(0,n.jsx)(Qe,{value:e,onClick:function(){return b(!1)},children:(0,n.jsx)(L.du,{availability:"available",children:e})},e)})),o.map((function(e){return(0,n.jsx)(Qe,{value:e,children:(0,n.jsx)(L.du,{children:e})},e)}))]})},Ne=function(e,t){var a=H(t),n=Object.keys(a).sort(),r=Le(e,"").results_grouped.map((function(e){return e.dataset})),o=n[0],s=(0,i.useState)(o),l=s[0],u=s[1],c=(0,i.useState)(a[o]),d=c[0],m=c[1],h=(0,i.useState)(H(t)),y=h[0],p=h[1],f=q(r,l),L=Object.values(y);L.unshift("");var g=L.join("/"),b=r.includes(g);return{availableAndNotAvailableDatasetParts:n.map((function(e){var t=function(e,t,a){var n=e[t]?G().uniq(e[t].map((function(e){return e[a]}))):[];return 1===n.length&&n[0]===t?Object.keys(e):n}(f,d,e),a=function(e,t,a){return Object.keys(q(t,a)).filter((function(t){return!e.includes(t)}))}(t,r,e);return(0,C.Z)({},e,{availableChoices:t,notAvailableChoices:a})})),setSelectedParts:p,selectedParts:y,setLastSelectedDatasetPartValue:m,lastSelectedDatasetPartValue:d,setLastSelectedDatasetPartPosition:u,doesCombinationOfSelectedDatasetPartsExists:b,fullDatasetName:g}},Ae=function(e){var t=e.currentDataset,a=e.query,r=e.currentRunNumber,o=Ne(r,t),s=o.availableAndNotAvailableDatasetParts,l=o.setSelectedParts,u=o.selectedParts,d=o.setLastSelectedDatasetPartValue,m=o.lastSelectedDatasetPartValue,h=o.setLastSelectedDatasetPartPosition,y=o.doesCombinationOfSelectedDatasetPartsExists,p=o.fullDatasetName;return(0,i.useEffect)((function(){y&&(0,Q.Cg)((0,Q.Eg)({dataset_name:p},a))}),[p]),(0,n.jsxs)(me.Z,{children:[s.map((function(e){var t=Object.keys(e)[0];return(0,n.jsx)(c.Z,{children:(0,n.jsx)(Be,{restParts:e[t].notAvailableChoices,part:t,resultsNames:e[t].availableChoices,setGroupBy:h,setName:d,selectedName:m,name:u[t],setSelectedParts:l,selectedParts:u})})})),(0,n.jsx)(c.Z,{children:y?(0,n.jsx)(L.vQ,{}):(0,n.jsx)(L.To,{})})]})},ze=ge.Z.Option,Ue=function(e){var t=e.query,a=e.setCurrentRunNumber,r=e.withoutArrows,o=e.withoutLabel,s=e.current_run_number,l=e.current_dataset_name,u=(0,i.useState)(!1),d=u[0],m=u[1],h=(0,i.useState)(0),y=h[0],p=h[1],g=l||t.dataset_name,C=Le("",g),x=C.results_grouped,S=C.isLoading,_=x[0]?x[0].runs.map((function(e){return e.toString()})):[];return(0,i.useEffect)((function(){var e=s?s.toString():t.run_number;p(_.indexOf(e))}),[_,S]),(0,n.jsx)(c.Z,{children:(0,n.jsx)(L.jp,{labelcolor:"white",name:"dataset_name",label:"".concat(o?"":"Run"),children:(0,n.jsxs)(me.Z,{justify:"center",align:"middle",children:[!r&&(0,n.jsx)(c.Z,{children:(0,n.jsx)(be.Z,{disabled:!_[y-1],icon:(0,n.jsx)(Ce.Z,{}),type:"link",onClick:function(){a(_[y-1])}})}),(0,n.jsx)(c.Z,{children:(0,n.jsx)("div",{children:(0,n.jsx)(f.Qr,{width:"100px",onClick:function(){return m(!d)},value:_[y],onChange:function(e){a(e),m(!d)},showSearch:!0,open:d,children:_&&_.map((function(e){return(0,n.jsx)(ze,{onClick:function(){m(!1)},value:e,children:S?(0,n.jsx)(f.hb,{children:(0,n.jsx)(b.Z,{})}):(0,n.jsx)("div",{children:e})},e.toString())}))})})}),!r&&(0,n.jsx)(c.Z,{children:(0,n.jsx)(be.Z,{icon:(0,n.jsx)(xe.Z,{}),disabled:!_[y+1],type:"link",onClick:function(){a(_[y+1])}})})]})})})},Ve=a(99210),Je=a(13013),We=a(57254),Xe=function(e){var t=e.options,a=e.defaultValue,r=e.action,o=(0,i.useState)(a),s=o[0],l=o[1];return(0,n.jsx)(me.Z,{children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(Je.Z,{overlay:function(e,t){return(0,n.jsx)(Ve.Z,{children:e.map((function(e){return(0,n.jsx)(Ve.Z.Item,{onClick:function(){r&&r(e.value),l(e)},children:(0,n.jsx)("div",{children:e.label})},e.value)}))})}(t),trigger:["hover"],children:(0,n.jsxs)("a",{style:{color:"white"},children:[s.label," ",(0,n.jsx)(We.Z,{})," "]})})})})},Ye=function(){var e=(0,i.useState)(k.r_[0].value),t=e[0],a=e[1],r=(0,u.useRouter)().query,o=r.run_number?r.run_number:"",s=r.dataset_name?r.dataset_name:"",l=r.lumi?parseInt(r.lumi):NaN,c=i.useContext(Y.h).setLumisection,d=(0,i.useState)(o),m=d[0],h=d[1],y=(0,i.useState)(s),p=y[0],f=y[1];return(0,i.useEffect)((function(){(0,Q.Cg)((0,Q.Eg)({run_number:m,dataset_name:p},r))}),[m,p]),(0,n.jsx)(Pe.ZP,{children:(0,n.jsxs)(Ie.Kv,{children:[(0,n.jsx)(Ie.Kv,{children:(0,n.jsx)(Ue,{query:r,setCurrentRunNumber:h})}),(0,n.jsx)(Ie.Kv,{children:"OFFLINE"===_.f9.mode&&_.f9.new_back_end&&(0,n.jsx)(je,{currentLumisection:l,currentRunNumber:m,currentDataset:p,handler:function(e){(0,Q.Cg)((0,Q.Eg)({lumi:e},r)),c(e)},color:"white"})}),"ONLINE"!==_.f9.mode&&(0,n.jsx)(L.jp,{labelcolor:"white",label:(0,n.jsx)(Xe,{options:k.r_,action:a,defaultValue:k.r_[0]}),children:t===k.r_[0].value?(0,n.jsx)(Ie.Kv,{children:(0,n.jsx)(Fe,{setCurrentDataset:f,query:r})}):(0,n.jsx)(Ie.Kv,{children:(0,n.jsx)(Ae,{currentRunNumber:m,currentDataset:p,query:r})})})]})})},$e=function(){var e=(0,u.useRouter)().query,t=e.run_number?e.run_number:"",a=i.useState(t),r=(0,y.Z)(a,2),o=r[0],s=r[1],l=i.useState(e.dataset_name),c=(0,y.Z)(l,2),d=c[0],m=c[1],h=i.useState(!1),p=(0,y.Z)(h,2),f=p[0],g=p[1];return i.useEffect((function(){if(f){var t=e.run_number?e.run_number:"";m(e.dataset_name),s(t)}}),[f]),(0,n.jsxs)(L.cj,{display:"flex",alignitems:"center",children:[(0,n.jsx)(He,{modalState:f,setModalState:g,setSearchRunNumber:s,setSearchDatasetName:m,search_run_number:o,search_dataset_name:d}),(0,n.jsxs)(L.Y0,{width:"fit-content",children:[(0,n.jsx)(Ye,{}),(0,n.jsx)(Oe,{onClick:function(){return g(!0)}})]})]})},Ke=function(){var e=(0,u.useRouter)().query,t="0"===e.run_number&&"/Global/Online/ALL"===e.dataset_name;return(0,n.jsx)(L.Y0,{alignitems:"center",children:t?(0,n.jsx)(re,{query:e}):(0,n.jsx)($e,{})})},et=function(e){var t=e.isDatasetAndRunNumberSelected,a=e.query;return(0,n.jsx)(c.Z,{style:{width:"100%"},children:t?(0,n.jsx)(c.Z,{style:{display:"flex",alignItems:"center",width:"100%"},children:(0,n.jsxs)(c.Z,{style:{display:"flex",alignItems:"center",float:"left",padding:8},children:[(0,n.jsx)(te,{query:a}),(0,n.jsx)(Ke,{})]})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(De,{initial_search_run_number:a.search_run_number,initial_search_dataset_name:a.search_dataset_name,handler:h.lu,type:"top"})})})},tt=a(24616),at=a(87562),nt=a(46048),rt=a(41664),ot=function(e){var t=e.options;(0,nt.Z)(e,["options"]);return(0,n.jsx)(me.Z,{children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(Je.Z,{overlay:function(e){return(0,n.jsx)(Ve.Z,{children:e.map((function(e){return"overlay"===e.value?(0,n.jsx)(Ve.Z.Item,{icon:e.icon,children:(0,n.jsx)(rt.default,{href:_.A+e.url,children:(0,n.jsx)("a",{target:"_bank",children:e.label})})}):(0,n.jsx)(Ve.Z.Item,{icon:e.icon,onClick:function(){e.action&&e.action(e.value)},children:e.label},e.value)}))})}(t),trigger:["hover"],children:(0,n.jsxs)(be.Z,{type:"link",children:["More ",(0,n.jsx)(We.Z,{})]})})})})},st=a(49549),it=a(87462),lt=function(e){var t=i.useState(!1),a=(0,y.Z)(t,2),n=a[0],r=a[1];return i.useEffect((function(){setTimeout((function(){r(!0)}),0),setTimeout((function(){r(!1)}),2e3)}),[e]),{blink:n}},ut=ae.Z.Text,ct=function(){return(0,n.jsx)(L.Jf,{width:"100%",height:"100%",display:"flex",justifycontent:"center",children:(0,n.jsx)(ut,{type:"danger",strong:!0,children:"Failed to load"})})},dt=a(19457);function mt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var yt=function(e){var t=e.src,a=e.retryTimes,r=e.setImageError,o=(0,nt.Z)(e,["src","retryTimes","setImageError"]);delete o.onError;var s=(0,i.useState)(t),l=s[0],u=s[1],c=(0,i.useState)(0),d=c[0],m=c[1],h=(0,i.useState)((new Date).getTime()),y=h[0],p=h[1],f=(0,i.useState)(!0),L=f[0],g=f[1];return(0,i.useEffect)((function(){p((new Date).getTime()),u("".concat(t))}),[t]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(dt.mQ,{uploaded:L.toString(),children:(0,n.jsx)("div",{children:(0,i.createElement)("img",ht(ht({src:l},o),{},{key:y,onError:function(){if(!(d+1<a))throw g(!1),r(!0),"Image loading failed after ".concat(a," times");m(d+1),u("".concat(t)),p((new Date).getTime())},onLoad:function(){o.onLoad(),g(!1)}}))})})})},pt=function(e){var t=e.imageRef,a=e.query,r=e.isPlotSelected,l=e.params_for_api,u=e.plotURL,c=e.plot,d=i.useContext($.h),m=d.not_older_than,h=d.addLoader,p=lt(m).blink,f=i.useState(!0),L=(0,y.Z)(f,2),g=L[0],b=L[1],C=i.useState(),x=(0,y.Z)(C,2),S=x[0],j=x[1],P=i.useState("".concat(_.Jg).concat(u,";notOlderThan=").concat(m)),v=(0,y.Z)(P,2),T=v[0],E=v[1],k=i.useState("".concat(_.Jg).concat(u,";notOlderThan=").concat(m)),M=(0,y.Z)(k,2),O=M[0],w=M[1],R=i.useState(!1),G=(0,y.Z)(R,2),D=G[0],Z=G[1];i.useEffect((function(){E("".concat(_.Jg).concat(u,";notOlderThan=").concat(m))}),[m,l.customise,l.height,l.width,l.run_number,l.dataset_name,l.lumi,l.normalize,l.overlay_plot,l.plot_name,l.folders_path,l.overlay_plot,l.joined_overlaied_plots_urls,u]),i.useEffect((function(){var e=(0,K.YO)();j(e)}),[]),i.useEffect((function(){h({value:g,id:S})}),[g]);var H=g?"none":"",I=g?"":"none";return(0,n.jsx)(n.Fragment,{children:D?(0,n.jsx)(ct,{}):(0,n.jsx)("div",{onClick:(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}if(!r){e.next=6;break}return e.next=4,V(a,c);case 4:e.next=8;break;case 6:return e.next=8,U(a,c);case 8:scroll(t);case 9:case"end":return e.stop()}}),e)}))),children:!D&&(0,n.jsxs)(dt.PN,{update:p.toString()||g.toString(),children:[(0,n.jsx)(yt,{retryTimes:3,style:{display:I},onLoad:(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!1),e.next=3,w(T);case 3:case"end":return e.stop()}}),e)}))),alt:c.name,src:T,setImageError:Z,width:l.width,height:l.height}),(0,n.jsx)(yt,{retryTimes:3,style:{display:H},alt:c.name,onLoad:function(){},src:O,setImageError:Z,width:"auto",height:"auto"})]})})})},ft=a(48330),Lt=function(e){var t=e.imageRef,a=e.query,r=e.isPlotSelected,l=e.params_for_api,u=e.plotURL,c=e.plot,d=i.useState("".concat(_.Jg).concat(u)),m=(0,y.Z)(d,2),h=m[0],p=m[1],f=i.useState(!1),L=(0,y.Z)(f,2),g=L[0],b=L[1],C=i.useState(!0),x=(0,y.Z)(C,2),S=x[0],j=x[1];return i.useEffect((function(){p("".concat(_.Jg).concat(u))}),[u]),(0,n.jsx)(n.Fragment,{children:g?(0,n.jsx)(ct,{}):(0,n.jsx)("div",{onClick:(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}if(!r){e.next=6;break}return e.next=4,V(a,c);case 4:e.next=8;break;case 6:return e.next=8,U(a,c);case 8:scroll(t);case 9:case"end":return e.stop()}}),e)}))),children:!g&&(0,n.jsx)(dt.PN,{update:S.toString(),children:(0,n.jsx)(ft.o,{style:{display:""},onLoad:function(){j(!1)},retryTimes:3,alt:c.name,src:h,setImageError:b,width:l.width,height:l.height})})})})};function gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ct=function(e){var t=(0,it.Z)({},e);return"/Global/Online/ALL"===t.query.dataset_name&&"0"===t.query.run_number?(0,n.jsx)(pt,bt({},t)):(0,n.jsx)(Lt,bt({},t))},xt=function(e){var t,a=e.selected_plot,r=e.params_for_api,o=(0,i.useState)(),s=o[0],l=o[1];(0,i.useEffect)((function(){a.draw&&l(a.draw)}),[]);var c=(0,i.useState)(!1),d=c[0],m=c[1];r.customise=s;var h=i.useState(!1),p=(0,y.Z)(h,2),f=(p[0],p[1],(0,u.useRouter)().query),L=((0,K.k4)(f,a),[{label:"Customize",value:"Customize",action:function(){return m(!0)},icon:(0,n.jsx)(tt.Z,{})}]),g=(0,T.WG)(r),b=(r.overlaidWithLayoutsConfig?[r.overlaidWithLayoutsConfig].concat(g):g).join("");r.joined_overlaied_plots_urls=b;var C=function(e){return"onSide"===e.overlay?(0,at.Rc)(e):(0,at.SJ)(e)}(r);return(0,n.jsxs)(Ie.N6,{space:2,children:[(0,n.jsx)(st.F,{plot_name:a.name,open:d,onCancel:function(){return m(!1)},setCustomisationParams:l}),(0,n.jsxs)(Ie.sS,{minheight:r.height,width:null===(t=r.width)||void 0===t?void 0:t.toString(),is_plot_selected:(!0).toString(),nopointer:(!0).toString(),justifycontent:"center",children:[(0,n.jsx)(Ie.$M,{error:X(a).toString(),children:a.name}),(0,n.jsxs)(Ie.sg,{display:"flex",children:[(0,n.jsx)(ot,{options:L}),(0,n.jsx)(Ie.V_,{onClick:function(){return V(f,a)}})]}),(0,n.jsx)(Ie.Ne,{id:a.name,width:r.width,height:r.height,children:(0,n.jsx)(Ct,{params_for_api:r,plot:a,plotURL:C,query:f})})]})]})};function St(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var _t=function(){var e=(0,s.Z)(o().mark((function e(t,a,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSROOT.cleanup("".concat(t).concat(a));case 2:JSROOT.draw("".concat(t).concat(a),JSROOT.parse(JSON.stringify(n)),"".concat(t));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),jt=function(e){var t,a=e.selected_plot,r=e.params_for_api,o=e.id,s=(0,u.useRouter)().query,l=v((0,T.XB)(r),{},[a.name]).data,c=null!==r&&void 0!==r&&r.overlay_plot?r.overlay_plot.map((function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?St(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):St(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r);return e.dataset_name&&(t.dataset_name=e.dataset_name),t.run_number=e.run_number,v((0,T.XB)(t),{},[a.name,s.lumi]).data})):[];c.push(l);var d={};if(0===c.length)return null;if(1===c.length){var m=c[0];d=JSROOT.CreateTHStack(m)}else if(2===c.length){var h=c[0],y=c[1];d=JSROOT.CreateTHStack(h,y)}else if(3===c.length){var p=c[0],f=c[1],L=c[2];d=JSROOT.CreateTHStack(p,f,L)}else if(4===c.length){var g=c[0],b=c[1],x=c[2],S=c[3];d=JSROOT.CreateTHStack(g,b,x,S)}var j=i.useContext($.h).not_older_than,P=lt(j).blink,E=r.normalize?"hist":"nostack";return(0,i.useEffect)((function(){O()(d.fHists.arr).length===d.fHists.arr.length&&_t(E,o,d)}),[j,l,r.lumi,r.overlay_plot,r.dataset_name,r.run_number,r.normalize,d.fHists.arr]),(0,n.jsx)(Ie.N6,{space:2,children:(0,n.jsxs)(Ie.sS,{isLoading:P.toString(),animation:("ONLINE"===_.f9.mode).toString(),minheight:r.height,width:null===(t=r.width)||void 0===t?void 0:t.toString(),is_plot_selected:(!0).toString(),nopointer:(!0).toString(),justifycontent:"center",children:[(0,n.jsx)(Ie.$M,{error:X(a).toString(),children:a.name}),(0,n.jsx)(Ie.sg,{children:(0,n.jsx)(be.Z,{type:"link",onClick:function(){return V(s,a)},icon:(0,n.jsx)(Ie.V_,{})})}),(0,n.jsx)(Ie.Ne,{style:{display:r.normalize?"":"none"},id:"hist".concat(o),width:r.width,height:r.height}),(0,n.jsx)(Ie.Ne,{style:{display:r.normalize?"none":""},id:"nostack".concat(o),width:r.width,height:r.height})]})})},Pt=a(72934),vt=function(e){var t=e.selected_plots,a=(0,u.useRouter)().query,r=(0,i.useContext)(Pt.h),o=r.rightSideSize,s=r.customise,l=r.JSROOTmode,c=(0,i.useContext)(Y.h),d=c.normalize,m=c.stats,h=c.error;return(0,n.jsx)(L.dg,{children:t.map((function(e){var t={run_number:a.run_number,dataset_name:a.dataset_name,lumi:a.lumi,folders_path:e.path,overlay:a.overlay,overlay_plot:I(a.overlay_data),height:o.h,width:o.w,customise:s,plot_name:e.name,normalize:d,stats:m,error:h};if(l){var r=(0,K.YO)();return(0,n.jsx)(jt,{selected_plot:e,params_for_api:t,id:r},e.name)}return(0,n.jsx)(xt,{selected_plot:e,params_for_api:t},e.name)}))})},Tt=a(72285);function Et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var kt=function(e){var t,a=e.selected_plot,r=e.params_for_api,o=(0,i.useState)(),s=o[0],l=o[1];(0,i.useEffect)((function(){a.draw&&(l(a.draw),le.ZP.info("Plot is already customised"))}),[]);var c=(0,i.useState)(!1),d=c[0],m=c[1],h=(0,i.useState)(!1);h[0],h[1];r.customise=s;var y=(0,at.Rc)(r),p=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Et(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r);p.height=window.innerHeight,p.width=Math.round(1.33*window.innerHeight);(0,at.Rc)(p);var f=(0,u.useRouter)().query,L=(0,K.Un)(f,a),g=[{label:"Customize",value:"customise",action:function(){return m(!0)},icon:(0,n.jsx)(tt.Z,{})},_.f9.new_back_end.new_back_end&&{label:"Overlay with another plot",value:"overlay",url:L,icon:(0,n.jsx)(Tt.Z,{})}];return(0,n.jsxs)(Ie.N6,{space:2,children:[(0,n.jsx)(st.F,{plot_name:a.name,customizationParams:s,open:d,onCancel:function(){return m(!1)},setCustomisationParams:l}),(0,n.jsxs)(Ie.sS,{minheight:r.height,width:null===(t=r.width)||void 0===t?void 0:t.toString(),is_plot_selected:(!0).toString(),nopointer:(!0).toString(),children:[(0,n.jsx)(Ie.$M,{error:X(a).toString(),children:a.name}),(0,n.jsxs)(Ie.sg,{display:"flex",children:[(0,n.jsx)(ot,{options:g}),(0,n.jsx)(Ie.V_,{onClick:function(){return V(f,a)}})]}),(0,n.jsx)(Ie.Ne,{alignitems:"center",id:a.name,width:r.width,height:r.height,display:"flex",children:(0,n.jsx)(Ct,{params_for_api:r,plot:a,plotURL:y,query:f})})]})]})},Mt=function(){var e=(0,s.Z)(o().mark((function e(t,a){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!document.getElementById(t)){e.next=5;break}return n=function(){JSROOT.cleanup&&JSROOT.cleanup(t)},e.next=4,n;case 4:JSROOT.draw(t,JSROOT.parse(JSON.stringify(a)),"hist");case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ot=function(e){var t,a=e.selected_plot,r=e.params_for_api,o=e.id,s=(0,u.useRouter)().query,l=v((0,T.XB)(r),{},[a.name,r.lumi]).data,c=i.useContext($.h).not_older_than,d=lt(c).blink;return(0,i.useEffect)((function(){document.getElementById("".concat(o))&&Mt("".concat(o),l)}),[l,r.lumi,c]),(0,n.jsx)(Ie.N6,{space:2,children:(0,n.jsxs)(Ie.sS,{isLoading:d.toString(),animation:("ONLINE"===_.f9.mode).toString(),minheight:r.height,width:null===(t=r.width)||void 0===t?void 0:t.toString(),is_plot_selected:(!0).toString(),nopointer:(!0).toString(),children:[(0,n.jsx)(Ie.$M,{error:X(a).toString(),children:a.name}),(0,n.jsx)(Ie.sg,{children:(0,n.jsx)(be.Z,{type:"link",onClick:function(){return V(s,a)},icon:(0,n.jsx)(Ie.V_,{})})}),(0,n.jsx)(Ie.Ne,{id:"".concat(o),width:r.width,height:r.height})]})})},wt=function(e){var t=e.selected_plots,a=(0,i.useContext)(Pt.h),r=a.rightSideSize,o=a.customise,s=a.JSROOTmode,l=(0,u.useRouter)().query;return(0,n.jsx)(L.dg,{children:t.map((function(e){var t={run_number:l.run_number,dataset_name:l.dataset_name,lumi:l.lumi,folders_path:e.path,height:r.h,width:r.w,customise:o,plot_name:e.name};if(s){var a=(0,K.YO)();return(0,n.jsx)(Ot,{selected_plot:e,params_for_api:t,id:a},e.name)}return(0,n.jsx)(kt,{selected_plot:e,params_for_api:t},e.name)}))})},Rt=a(92553),Gt=function(e){var t=e.selected_plots,a=(0,u.useRouter)().query,r=(0,i.useContext)(Rt.h).setImageRefScrollDown,o=(0,i.useRef)(null);(0,i.useEffect)((function(){r(o)}),[]);var s=a.overlay_data;return(0,n.jsx)("div",{style:{width:"100%",height:"100%",overflow:"scroll"},ref:o,children:s?(0,n.jsx)(vt,{selected_plots:t}):(0,n.jsx)(wt,{selected_plots:t})})},Dt=a(27279),Zt=a(12028),Ht=ge.Z.Option,It=function(e){var t=e.overlayPosition,a=e.setOverlaiPosition,r=(0,u.useRouter)().query,o=i.useState(t),s=(0,y.Z)(o,2),l=s[0],c=s[1];return(0,i.useEffect)((function(){a(l)}),[l]),(0,n.jsx)(f.Qr,{onChange:function(e){c(e)},value:r.overlay,children:k.jJ.map((function(e){return(0,n.jsx)(Ht,{value:e.value,children:(0,n.jsx)("div",{children:e.label})},e.toString())}))})},qt=a(49101),Ft=a(1058),Qt=function(e){var t=e.open,a=e.toggleModal,r=e.triples,o=e.setTriples,s=i.useState(""),l=(0,y.Z)(s,2),c=l[0],d=l[1],m=i.useState(""),h=(0,y.Z)(m,2),p=h[0],b=h[1],C=i.useState([]),x=(0,y.Z)(C,2),S=x[0],_=x[1],j=Le(c,p),P=j.results_grouped,v=j.searching,T=j.isLoading,E=j.errors,k=function(e){var t=[];return e.forEach((function(e){t=t.concat(e)})),t}([S,r]),M=(0,u.useRouter)().query;return(0,n.jsx)(f.oA,{title:"Set Runs",visible:t,onCancel:function(){a(!1),_([])},footer:[(0,n.jsx)(L.Sn,{color:g.r.colors.secondary.main,background:"white",onClick:function(){a(!1),_([])},children:"Close"},"Close"),(0,n.jsx)(L.Sn,{onClick:function(){(0,Q.Cg)((0,Q.Eg)({overlay_data:"".concat(A(k))},M)),o(k),a(!1),_([])},children:"OK"},"OK")],children:(0,n.jsxs)("div",{children:[k.length>0&&(0,n.jsxs)(f.fA,{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)(f.w_,{children:[(0,n.jsx)(f.cY,{children:"Nr."}),(0,n.jsx)(f.cY,{children:"Run"}),(0,n.jsx)(f.cY,{children:"Dataset name"}),(0,n.jsx)(f.cY,{children:"Action"})]})}),(0,n.jsx)("tbody",{children:k.map((function(e,t){return(0,n.jsxs)(f.w_,{children:[(0,n.jsxs)(f.EI,{children:[t+1,"."]}),(0,n.jsx)(f.EI,{children:e.run_number}),(0,n.jsx)(f.EI,{children:e.dataset_name}),(0,n.jsx)(f.EI,{children:(0,n.jsx)(L.H7,{onClick:function(){!function(e){var t=(0,fe.Z)(S),a=t.findIndex((function(t){return t.id===e}));-1!==a&&(t.splice(a,1),_(t))}(e.id)},icon:(0,n.jsx)(Ft.Z,{})})})]})}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(De,{handler:function(e,t){d(e),b(t)},setRunNumber:d,setDatasetName:b,type:"overlay"}),t&&v?(0,n.jsx)(f.Xc,{children:(0,n.jsx)(pe,{handler:function(e,t){var a={id:(0,w.Z)(),run_number:e,dataset_name:t,checked:!0,label:""},n=(0,fe.Z)(S);n.length<8&&n.push(a),_(n)},isLoading:T,results_grouped:P,errors:E,alreadySeletected:k})}):(0,n.jsx)(f.Xc,{})]})]})})},Bt=a(9676),Nt=function(e){e.removeRun;var t=e.id,a=e.field_name,r=e.value,o=e.placeholder,s=e.disabled,i=e.defaultValue,l=e.triples,u=e.change_run_details,c=r||i;return(0,n.jsx)(L.jp,{name:"".concat(t,"_").concat(a),children:(0,n.jsx)(L.Fy,{disabled:s,onChange:function(e){F(e.target.value,"label",t,l,u)},value:c,defaultValue:c,placeholder:o})})},At=function(e){var t=e.triples,a=e.query,r=e.change_run_details,o=e.remove_runs_to_set_runs_for_overlay;return(0,n.jsx)("table",{children:t.map((function(e,s){return(0,n.jsxs)("tr",{children:[(0,n.jsx)(L.Hc,{spacing:"4",children:(0,n.jsx)(Bt.Z,{checked:e.checked,onChange:function(a){F(e.cheked?e.cheked:a.target.checked,"checked",e.id,t,r)}})}),(0,n.jsxs)(L.Hc,{spacing:"4",children:[s+1,"."]}),(0,n.jsx)(L.Hc,{spacing:"4",children:(0,n.jsx)(Ue,{query:a,withoutLabel:!0,setCurrentRunNumber:function(a){F(a,"run_number",e.id,t,r)},current_run_number:e.run_number,current_dataset_name:e.dataset_name,withoutArrows:!0})}),(0,n.jsx)(L.Hc,{spacing:"4",children:(0,n.jsx)(Fe,{query:a,selectorWidth:"100%",setCurrentDataset:function(a){F(a,"dataset_name",e.id,t,r)},withoutArrows:!0,current_dataset_name:e.dataset_name,current_run_number:e.run_number})}),(0,n.jsx)(L.Hc,{spacing:"4",children:(0,n.jsx)(Nt,{triples:t,change_run_details:r,removeRun:o,id:e.id,field_name:"label",placeholder:"label",defaultValue:e.label,value:e.label})}),(0,n.jsx)(L.Hc,{spacing:"4",children:(0,n.jsx)(L.H7,{onClick:function(){o(e.id)},icon:(0,n.jsx)(Ft.Z,{})})})]})}))})},zt=function(e){var t,a=e.overlaid_runs,r=e.query,l=(0,i.useContext)(Y.h),u=l.runs_set_for_overlay,c=l.set_runs_set_for_overlay,m=l.setTriples,h=l.triples,y=(0,i.useState)(!1),p=y[0],f=y[1];return(0,n.jsxs)(L.Jf,{style:{overflowX:"auto"},children:[(0,n.jsx)(Qt,{open:p,toggleModal:f,overlaid_runs:a,setTriples:m,triples:h,set_runs_set_for_overlay:c}),(0,n.jsx)(At,{triples:h,query:r,change_run_details:function(e){return(t=e,function(){var e=(0,s.Z)(o().mark((function e(a,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.filter((function(e){return e.checked})),e.next=3,(0,Q.Cg)((0,Q.Eg)({overlay_data:"".concat(A(r))},n));case 3:a(t);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())(m,r);var t},setTriples:m,remove_runs_to_set_runs_for_overlay:function(e){return function(e){return function(){var t=(0,s.Z)(o().mark((function t(a,n,r){var s,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=(0,fe.Z)(a),-1!==(i=s.findIndex((function(t){return t.id===e})))&&(s.splice(i,1),(0,Q.Cg)((0,Q.Eg)({overlay_data:"".concat(A(s))},r)),n(s));case 3:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()}(e)(h,m,r)}}),(0,n.jsx)(me.Z,{justify:"space-between",style:{height:48,padding:8},children:(0,n.jsx)(L.Jf,{position:"fixed",display:"flex",children:(0,n.jsx)(L.cj,{space:"2",children:(0,n.jsx)(d.Z,{title:(t=a.length>=4||u.length>=4,t?"Maximum 8 plots could be overlaid":""),children:(0,n.jsx)(L.H7,{disabled:a.length>=8||u.length>=8,onClick:function(){f(!0)},icon:(0,n.jsx)(qt.Z,{}),children:"SET RUNS"})})})})})]})},Ut=a(40537),Vt=a(74130),Jt=a(90172),Wt=function(e){e.normalize;var t,a=e.setNormalize,r=(e.stats,e.setStats),o=(e.error,e.setError),s=e.overlayPosition,l=e.setOverlaiPosition,d=e.triples,m=(0,u.useRouter)().query,h=[{label:"Normalize",value:"true"===m.normalize},{label:"Stats",value:"true"===m.stats},{label:"Error",value:"true"===m.error}],p=i.useState((t={},(0,C.Z)(t,h[0].label.toLocaleLowerCase(),h[0].value),(0,C.Z)(t,h[1].label.toLocaleLowerCase(),h[1].value),(0,C.Z)(t,h[2].label.toLocaleLowerCase(),h[2].value),t)),f=(0,y.Z)(p,2),g=f[0],b=f[1];return(0,i.useEffect)((function(){a(g[h[0].label.toLocaleLowerCase()]),r(g[h[1].label.toLocaleLowerCase()]),o(g[h[2].label.toLocaleLowerCase()])}),[g[h[0].label.toLocaleLowerCase()],g[h[1].label.toLocaleLowerCase()],g[h[2].label.toLocaleLowerCase()]]),(0,n.jsxs)(L.lx,{children:[(0,n.jsxs)(L.Y0,{children:[(0,n.jsx)(L.cj,{space:"2"}),(0,n.jsx)(L.cj,{space:"2",children:(0,n.jsx)(Ut.Z,{name:"OverlayPosition",label:"Position:",children:(0,n.jsx)(It,{setOverlaiPosition:l,overlayPosition:s})})}),h.map((function(e){return(0,n.jsx)(L.cj,{space:"2",children:(0,n.jsx)(Vt.rj,{space:"2",children:(0,n.jsx)(Jt.J,{option:e,setReference:b,reference:g})},e.label)},e.label)})),(0,n.jsx)(c.Z,{})]}),(0,n.jsx)(zt,{overlaid_runs:d,query:m})]})},Xt=function(e){var t=e.setSize,a=e.currentValue,r=e.disabled,o=e.plotsAreaWidth;return(0,i.useEffect)((function(){return function(){return t(a)}}),[]),(0,n.jsx)(Te,{disabled:r,current_value:a,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},action:function(e){if(e.w===k.J7.fill.size.w&&e.h===k.J7.fill.size.h){var a=e.w/e.h,n=Math.floor(o/a)-48;t({h:n,w:o-48})}else t(e)},options:Object.keys(k.J7).map((function(e){return{label:k.J7[e].label,value:k.J7[e].size}}))})},Yt=Dt.Z.Panel,$t=function(e){var t=e.selected_plots,a=e.plotsAreaWidth,r=(0,u.useRouter)().query,o=(0,i.useContext)(Pt.h),s=(0,i.useContext)(Y.h),l=s.size,c=s.setSize,d=s.setTriples,m=s.normalize,h=s.setNormalize,y=s.stats,p=s.setStats,g=s.error,b=s.setError,C=s.overlayPosition,x=s.setOverlaiPosition,S=s.triples,j=o.setJSROOTmode,P=o.JSROOTmode,v=o.rightSideSize,T=o.setRightSideSize;return(0,i.useEffect)((function(){if(r&&r.overlay_data){var e=I(r.overlay_data);d(e)}return function(){d([]),j(!1)}}),[]),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,n=(0,u.useRouter)().query,r=(0,Q.Eg)(e,n),o=se().stringify(r,{}),s="/"!==_.A?"".concat(_.A,"?").concat(o):void 0;i.useEffect((function(){a&&u.default.push({pathname:"",query:r},s)}),t)}({overlay:C,error:g,stats:y,normalize:m},[m,y,g,C],!0),(0,n.jsx)(f.I4,{style:{width:"100%"},children:(0,n.jsx)(Yt,{header:"Options",children:(0,n.jsxs)(ie.Z,{children:[(0,n.jsxs)(L.Jf,{display:"flex",justifycontent:"space-between",width:"100%",children:[(0,n.jsx)(L.Br,{name:"SizeChanger",label:"Left side size",width:"50%",children:(0,n.jsx)(Xt,{plotsAreaWidth:a,currentValue:l,setSize:c})}),(0,n.jsx)(L.Br,{name:"SizeChanger",label:"Right side size",width:"50%",children:(0,n.jsx)(Xt,{plotsAreaWidth:a,currentValue:v,setSize:T,disabled:!t})})]}),(0,n.jsx)("hr",{}),(0,n.jsx)(L.Jf,{display:"flex",justifycontent:"flex-end",width:"100%",children:(0,n.jsx)(L.Br,{name:"Jsroot",label:"JSROOT",width:"50%",display:"flex",justifycontent:"flex-end",children:(0,n.jsx)(Zt.Z,{style:{width:"fit-content"},checkedChildren:"JSROOT enabled",unCheckedChildren:"JSROOT disabled",disabled:!t,checked:P,onChange:function(e){j(e)}})})}),(0,n.jsx)("hr",{}),(0,n.jsx)(L.Br,{name:"Reference",label:"Reference",children:(0,n.jsx)(Wt,{normalize:m,setNormalize:h,stats:y,setStats:p,error:g,setError:b,overlayPosition:C,setOverlaiPosition:x,triples:S})})]})},"1")})},Kt=a(94108),ea=function(e){var t=e.viewPlotsPosition,a=e.setViewPlotsPosition,r=e.disabled;return(0,n.jsx)(Te,{options:k.rs,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},current_value:t,action:a,disabled:r})},ta=function(e){var t=e.proportion,a=e.setProportion,r=e.disabled;return(0,n.jsx)(Te,{options:k.b,getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},current_value:t,disabled:r,action:a})},aa=a(68628),na=function(e){return e?(0,n.jsx)(d.Z,{title:"At least one plot must be selected",children:(0,n.jsx)(aa.Z,{})}):(0,n.jsx)(n.Fragment,{})},ra=function(e){var t=e.openSettings,a=e.onClose,r=e.isAnyPlotSelected,o=i.useContext(Rt.h),s=o.viewPlotsPosition,l=o.setViewPlotsPosition,u=o.proportion,d=o.setProportion;return(0,n.jsx)(f.oA,{title:"Settings",visible:t,onCancel:a,footer:null,children:(0,n.jsxs)(Pe.ZP,{children:[(0,n.jsx)(L.jp,{name:"position",label:"Plots View Position",labelweight:"bold",children:(0,n.jsxs)(L.Y0,{display:"flex",justifycontent:"space-between",children:[(0,n.jsx)(c.Z,{children:(0,n.jsx)(ea,{viewPlotsPosition:s,setViewPlotsPosition:l,disabled:r})}),(0,n.jsx)(c.Z,{children:na(r)})]})}),(0,n.jsx)(L.jp,{name:"proportions",label:"Plots View Proportions",labelweight:"bold",children:(0,n.jsxs)(me.Z,{children:[(0,n.jsx)(c.Z,{children:(0,n.jsx)(ta,{proportion:u,setProportion:d,disabled:r})}),(0,n.jsx)(c.Z,{children:na(r)})]})})]})})},oa=function(e){var t=e.me_count,a=e.children;return _.f9.new_back_end.new_back_end?(0,n.jsx)(L.LH,{count:t,children:a}):a},sa=function(e){var t=e.directories,a=e.isLoading,r=e.blink,o=(0,u.useRouter)().query;return(0,n.jsx)(n.Fragment,{children:t.map((function(e){return(0,n.jsx)(c.Z,{span:4,children:(0,n.jsx)(Ie.dg,{children:(0,n.jsxs)(L.Jf,{hover:"true",display:"flex",space:"1",alignitems:"center",onClick:function(){return!a&&(0,Q.Cg)((0,Q.Eg)({folder_path:(0,Q.BS)(o.folder_path,e.subdir)},o))},children:[(0,n.jsx)(oa,{me_count:e.me_count?e.me_count:0,children:(0,n.jsx)(Ie.JO,{animation:r.toString(),isLoading:a.toString()})}),(0,n.jsx)(Ie.nB,{children:e.subdir})]})})},e.subdir)}))})};function ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function la(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ia(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ua=function(e){var t=e.overlays.map((function(t){var a=t.split("/"),n=a.pop(),r=a.join("/");return{run_number:e.run_number,dataset_name:e.dataset_name,folders_path:r,plot_name:n}}));return(0,T.WG)({overlay_plot:t}).join("")},ca=function(e){var t=e.query,a=e.plot,r=e.onePlotHeight,l=e.onePlotWidth,u=e.selected_plots,c=e.imageRef,m=i.useContext(Rt.h).imageRefScrollDown,h=i.useContext(Y.h),y=z(h,t,encodeURIComponent(a.name),a.path);y.width=l,y.height=r;var p=function(e){if(e.draw&&e.overlays){var t=ua(e);return{customise:la({},e.draw),overlaidWithLayoutsConfig:t}}return!e.draw&&e.overlays?{overlaidWithLayoutsConfig:ua(e)}:e.draw&&!e.overlays?{customise:la({},e.draw)}:{}}(a);Object.keys(p).forEach((function(e){y[e]=p[e]}));var f=(0,at.Rc)(y),L=(0,T.WG)(y),g=(y.overlaidWithLayoutsConfig?[y.overlaidWithLayoutsConfig].concat(L):L).join("");y.joined_overlaied_plots_urls=g;var b=(0,at.SJ)(y);a.dataset_name=t.dataset_name,a.run_number=t.run_number;var C=(0,Q.SO)(u,a),x=a.path+"/"+a.name;return(0,n.jsx)(d.Z,{title:x,color:X(a)?"red":"",children:(0,n.jsx)(dt._p,{height:"".concat(r,"px"),width:"".concat(l,"px"),plotSelected:C,onClick:(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C;case 2:setTimeout((function(){J(c),W(m)}),500);case 3:case"end":return e.stop()}}),e)}))),ref:c,children:t.overlay_data||y.overlaidWithLayoutsConfig?(0,n.jsx)(Ct,{params_for_api:y,plot:a,plotURL:b,query:t,imageRef:c,isPlotSelected:C}):(0,n.jsx)(Ct,{params_for_api:y,plot:a,plotURL:f,query:t,imageRef:c,isPlotSelected:C})})})},da=function(e){var t=e.plots,a=e.layoutName,r=e.query,o=e.selected_plots,s=i.useContext(Y.h).size,l=i.useState(a),u=(0,y.Z)(l,2),c=u[0],m=u[1],h=i.useState(!1),p=(0,y.Z)(h,2),f=p[0],L=p[1],g=i.useState(0),b=(0,y.Z)(g,2),C=b[0],x=b[1],S=i.useRef(null),_=i.useRef(null);i.useEffect((function(){m(a)}),[a]);var j,P=Math.ceil(Math.log(2)/Math.log(t.length))-Math.log(2)/Math.log(t.length)!==0&&1!==t.length?t.length+Math.ceil(Math.sqrt(t.length)):Math.pow(t.length,2),v=s.h*s.w,T=s.w/s.h,E=v/P,k=Math.floor(Math.sqrt(E/T)),M=Math.floor(Math.sqrt(E/T)*T),O=Math.floor(s.w/M),w=[];for(j=0;j<O;j++)w.push("auto");return i.useEffect((function(){x(C+1),S.current&&C<3&&L(S.current.clientHeight>24)}),[S.current&&S.current.clientHeight]),(0,n.jsxs)(dt.qI,{plotsAmount:t.length,size:s,children:[(0,n.jsx)(d.Z,{title:c,children:(0,n.jsx)(dt.t8,{ref:S,children:(0,K.be)(f,c||"")})}),(0,n.jsx)(dt.WB,{auto:w.join(" "),children:t.map((function(e){return(0,n.jsx)(ca,{query:r,plot:e,onePlotHeight:k,onePlotWidth:M,selected_plots:o,imageRef:_})}))})]})},ma=a(22120),ha=a(32074),ya=a(13462),pa=a(48066),fa=function(){var e=(0,s.Z)(o().mark((function e(t){var a,n,r,s,i,l,u,c,d,m,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.run_number,n=t.dataset_name,r=t.lumi,s=t.subsystem,i=t.not_older_than,l=t.plots_names,u={run_number:a,dataset_name:n,lumi:r,folders_path:"".concat(s,"/EventInfo"),notOlderThan:i},c=l.map((function(e){return S().get("".concat(_.Jg).concat((0,T.XB)((0,ya.Z)("plot_name",e,u)))).catch((function(){return null}))})),d=S().all(c).catch((function(){console.error("Request failed")})).then(S().spread((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.map((function(e,t){var a=(0,pa.Z)("",["config"],e),n=(0,pa.Z)("",["url"],a).split("?")[0].split("/").pop(),r=(0,pa.Z)("-",["data","fString"],e),o={};return n?o[n]=r:o.noData="-",o}))}))),e.next=6,d;case 6:return m=e.sent,h={},m.forEach((function(e){var t=Object.keys(e)[0],a=Object.values(e)[0];h[t]=a})),e.abrupt("return",h);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),La=function(e){var t=(0,pa.Z)({},["header_data"],e);return t.subsystem=e.subsystem,Object.keys(t).forEach((function(e){if("reportSummary"===e){var a=parseFloat(t[e]),n=isNaN(a)?"-":(100*Number(a)).toFixed(1);t.reportSummary=n}else if("processTimeStamp"===e){var r=new Date(1e3*parseInt(t.processTimeStamp)),o=r.getHours(),s=r.getMinutes(),i=r.getSeconds(),l=r.toDateString();t.processTimeStamp="".concat(l,"  ").concat(o,":").concat(s,":").concat(i)}else t[e]=t[e]})),t},ga=a(38470),ba=a(29163),Ca=(0,ba.ZP)(ga.Z).withConfig({displayName:"styledComponents__Report_summary_modal",componentId:"sc-1sz1tjf-0"})([".ant-modal-body{height:80vh;overflow:scroll;};.ant-list ant-list-split{height:100%;}"]),xa=(0,ba.ZP)(be.Z).withConfig({displayName:"styledComponents__Report_summary_button",componentId:"sc-1sz1tjf-1"})(["height:30px;color:",";background:",";&:focus{color:",";background:",";};&:hover{color:",";background:",";}"],g.r.colors.common.white,g.r.colors.primary.main,g.r.colors.common.white,g.r.colors.primary.main,g.r.colors.common.white,g.r.colors.secondary.main),Sa=ae.Z.Text,_a=function(e){var t=e.subsystem,a=e.dataset_name,r=e.run_number,o=e.lumi,s=e.plot,l=e.query,u=e.selected_plots,c=(e.set_report_info,e.toggle_modal),d=e.open,m=(e.modal_id,e.set_modal_id),h=i.useState({}),p=(0,y.Z)(h,2),f=p[0],L=p[1],g=i.useRef(null),b=["reportSummary","processTimeStamp"];i.useEffect((function(){fa({run_number:r,dataset_name:a,lumi:o,subsystem:t,plots_names:b}).then((function(e){var a=La({header_data:e,subsystem:t});L(a)}))}),[]);var C=i.useContext(Y.h).size;return(0,n.jsxs)(dt.qI,{size:{w:C.w+10,h:C.h+60},plotsAmount:1,children:[(0,n.jsxs)(dt.t8,{style:{display:"block"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(Sa,{strong:!0,children:f.subsystem}),"  ",(0,n.jsx)(Sa,{children:f.processTimeStamp})]}),(0,n.jsx)(ha.Z,{percent:parseFloat(f.reportSummary),strokeColor:f.reportSummary<95&&{"0%":"red","100%":"red"}})]}),(0,n.jsx)(dt.WB,{auto:"1",children:(0,n.jsx)(ca,{query:l,plot:s,onePlotHeight:C.h,onePlotWidth:C.w,selected_plots:u,imageRef:g})}),(0,n.jsx)(xa,{onClick:function(){m(t),c(!d)},children:"REPORT"})]})},ja=a(38272),Pa=function(e){var t=e.dataSource,a=e.open,r=e.toggleModal,o=e.modal_id,s=e.loading,i=Object.keys(t).map((function(e){var a={};return a[e]=t[e],a}));return(0,n.jsx)(Ca,{title:"Report Summary ".concat(o),visible:a,onCancel:function(){return r(!1)},footer:null,children:s?(0,n.jsx)(de.q$,{children:(0,n.jsx)(de.$j,{})}):(0,n.jsx)(ja.ZP,{dataSource:i,renderItem:function(e){return(0,n.jsx)(ja.ZP.Item,{children:(0,n.jsx)(ja.ZP.Item.Meta,{title:(0,n.jsx)("a",{children:Object.keys(e)[0]}),description:Object.values(e)[0]})})}})})};function va(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ta(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?va(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):va(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ea=function(e){var t=(0,Q.GL)(e);return{folders:(0,Q.$z)(t),plots:function(e,t){var a=e.map((function(e){if(e.path){var t=(0,Q.Nv)(e),a=t.name,n=t.directories;return Ta(Ta({},e),{},{name:a,path:e.path&&n,layout:e.layout,qteststatuses:_.f9.new_back_end.new_back_end?e.qteststatuses:e.qresults})}}));return O()(a)}(t)}},ka=function(e){var t,a=(t=e,{run_number:(0,pa.Z)("",["run_number"],t),lumi:(0,pa.Z)("",["lumi"],t),dataset_name:(0,pa.Z)("",["dataset_name"],t),folders_path:(0,pa.Z)("",["folder_path"],t),plot_search:(0,pa.Z)("",["plot_search"],t),notOlderThan:(0,pa.Z)("",["notOlderThan"],t)}),n=(0,Q.Lw)(a);return S().get("".concat(_.Jg).concat(n)).then((function(e){var t=e.data,a=Ea(t);return{folders:a.folders,plots:a.plots}})).catch((function(e){return console.error(e)}))},Ma=function(){var e=(0,s.Z)(o().mark((function e(t){var a,n,r,s,i,l,u,c,d,m,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.subsystem,n=t.run_number,r=t.lumi,s=t.dataset_name,i=t.notOlderThan,l="".concat(a,"/EventInfo"),u={folder_path:l,run_number:n,dataset_name:s,notOlderThan:i},e.next=5,ka(u);case 5:return c=e.sent,d=(0,pa.Z)([],["plots"],c),m=d.map((function(e){return e.name})),e.next=10,fa({run_number:n,dataset_name:s,lumi:r,subsystem:a,plots_names:m});case 10:return h=e.sent,e.abrupt("return",h);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oa=ae.Z.Text,wa=function(e){var t=e.subsystem,a=e.dataset_name,r=e.run_number,o=e.lumi,s=e.plot,l=e.query,u=e.selected_plots,c=(e.set_report_info,e.toggle_modal),d=e.open,m=(e.modal_id,e.set_modal_id),h=i.useState({}),p=(0,y.Z)(h,2),f=p[0],L=p[1],g=i.useContext($.h),b=g.addLoader,C=(g.not_older_than,i.useState(!1)),x=(0,y.Z)(C,2),S=x[0],_=x[1],j=i.useState(),P=(0,y.Z)(j,2),v=P[0],T=P[1],E=i.useRef(null),k=["reportSummary","processTimeStamp"];i.useEffect((function(){var e=(0,K.YO)();T(e)}),[]),i.useEffect((function(){b({value:S,id:v})}),[S]),i.useEffect((function(){_(!0),fa({run_number:r,dataset_name:a,lumi:o,subsystem:t,plots_names:k}).then((function(e){_(!1);var a=La({header_data:e,subsystem:t});L(a)})).catch((function(){_(!1),console.error("Error occured whyle fetching reportSummary andprocessTimeStamp")}))}),[]);var M=i.useContext(Y.h).size;return(0,n.jsxs)(dt.qI,{size:{w:M.w+10,h:M.h+60},plotsAmount:1,children:[(0,n.jsxs)(dt.t8,{style:{display:"block"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(Oa,{strong:!0,children:f.subsystem}),"  ",(0,n.jsx)(Oa,{children:f.processTimeStamp})]}),(0,n.jsx)(ha.Z,{percent:parseFloat(f.reportSummary),strokeColor:f.reportSummary<95&&{"0%":"red","100%":"red"}})]}),(0,n.jsx)(dt.WB,{auto:"1",children:(0,n.jsx)(ca,{query:l,plot:s,onePlotHeight:M.h,onePlotWidth:M.w,selected_plots:u,imageRef:E})}),(0,n.jsx)(xa,{onClick:function(){m(t),c(!d)},children:"REPORT"})]})},Ra=function(e){var t=e.plots_grouped_by_layouts,a=e.selected_plots,r=e.query,o=i.useState({}),s=(0,y.Z)(o,2),l=s[0],u=s[1],c=i.useState(!1),d=(0,y.Z)(c,2),m=d[0],p=d[1],f=i.useState(""),L=(0,y.Z)(f,2),g=L[0],b=L[1],C=i.useState(!1),x=(0,y.Z)(C,2),S=x[0],_=x[1];i.useEffect((function(){m&&(_(!0),Ma({subsystem:g,run_number:r.run_number,lumi:r.lumi,dataset_name:r.dataset_name}).then((function(e){_(!1),u(e)})).catch((function(e){_(!1),console.error(e)})))}),[m]);var j=(0,ma.Z)(Object.values(t));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Pa,{loading:S,dataSource:l,open:m,modal_id:g,toggleModal:p}),j.map((function(e){var t=e.path.split("/").shift();return(0,h.oq)({run_number:r.run_number,dataset_name:r.dataset_name})?(0,n.jsx)(wa,{plot:e,set_report_info:u,toggle_modal:p,open:m,set_modal_id:b,modal_id:g,selected_plots:a,query:r,subsystem:t,lumi:r.lumi,run_number:r.run_number,dataset_name:r.dataset_name},t):(0,n.jsx)(_a,{plot:e,set_report_info:u,toggle_modal:p,open:m,set_modal_id:b,modal_id:g,selected_plots:a,query:r,subsystem:t,lumi:r.lumi,run_number:r.run_number,dataset_name:r.dataset_name},t)}))]})},Ga=function(e){var t=e.plots_grouped_by_layouts,a=e.selected_plots,r=e.query,o=Object.keys(t).sort();return(0,n.jsx)(n.Fragment,{children:o.map((function(e){var o=t[e];return"Summaries"===e?(0,n.jsx)(Ra,{plots_grouped_by_layouts:t,selected_plots:a,query:r},e):(0,n.jsx)(da,{layoutName:e,plots:o,selected_plots:a,query:r},e)}))})},Da=function(e){var t=e.plot,a=e.selected_plots,r=e.params_for_api,l=(0,u.useRouter)().query,c=(0,i.useRef)(null),m={w:r.width,h:r.height},h=i.useRef(null),p=i.useState(0),f=(0,y.Z)(p,2),L=f[0],g=f[1],b=i.useState(!1),C=(0,y.Z)(b,2),x=C[0],S=C[1],_=(0,at.Rc)(r),j=(0,Q.SO)(a,t),P=(0,i.useContext)(Rt.h).imageRefScrollDown;return(0,i.useEffect)((function(){j&&(J(c),W(P))}),[j,l.selected_plots]),i.useEffect((function(){g(L+1),h.current&&L<3&&S(h.current.clientHeight>24)}),[h.current&&h.current.clientHeight]),t.dataset_name=l.dataset_name,t.run_number=l.run_number,(0,n.jsx)(d.Z,{title:x?decodeURI(r.plot_name):"",children:(0,n.jsxs)(dt.qI,{size:m,isPlotSelected:j.toString(),children:[(0,n.jsx)(dt.t8,{ref:h,isPlotSelected:j.toString(),error:X(t).toString(),children:(0,K.be)(x,r.plot_name?r.plot_name:"")}),(0,n.jsx)(dt.WB,{auto:"auto",children:(0,n.jsx)(dt._p,{plotSelected:j,onClick:(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j;case 2:setTimeout((function(){J(c),W(P)}),500);case 3:case"end":return e.stop()}}),e)}))),ref:c,children:(0,n.jsx)(Ct,{params_for_api:r,plot:t,plotURL:_,query:l,imageRef:c,isPlotSelected:j})})})]})})};function Za(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ha(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Za(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ia=function(e){var t=e.plot,a=e.params_for_api,r=e.selected_plots;a.plot_name=t.name;var l=function(e){var t=[],a=Ha({},e);return t.push((0,at.Rc)(a)),a.overlay_plot&&a.overlay_plot.map((function(n){a.dataset_name=n.dataset_name?n.dataset_name:e.dataset_name,a.run_number=n.run_number,t.push((0,at.Rc)(a))})),t}(a),c=function(e){var t=[],a=Ha({},e),n={name:e.plot_name,dataset_name:e.dataset_name,path:e.folders_path,run_number:e.run_number};return t.push(n),a.overlay_plot&&a.overlay_plot.map((function(a){var n=a.run_number,r=a.dataset_name,o={run_number:n,name:e.plot_name,dataset_name:r,path:e.folders_path};t.push(o)})),t}(a),m={w:a.width,h:a.height},h=(0,i.useContext)(Rt.h).imageRefScrollDown,p=(0,u.useRouter)().query,f=(0,i.useRef)(null),L=i.useRef(null),g=i.useState(0),b=(0,y.Z)(g,2),C=b[0],x=b[1],S=i.useState(!1),j=(0,y.Z)(S,2),P=j[0],v=j[1];return i.useEffect((function(){x(C+1),L.current&&C<3&&v(L.current.clientHeight>24)}),[L.current&&L.current.clientHeight]),t.dataset_name=p.dataset_name,t.run_number=p.run_number,(0,n.jsx)(Ie.yA,{children:l.map((function(e,i){var l=(0,Q.SO)(r,c[i]);return(0,n.jsx)(d.Z,{title:P?decodeURI(a.plot_name):"",children:(0,n.jsxs)(dt.qI,{isPlotSelected:l.toString(),animation:("ONLINE"===_.f9.mode).toString(),size:m,children:[(0,n.jsx)(dt.t8,{ref:L,isPlotSelected:Q.SO.toString(),error:X(t).toString(),children:(0,K.be)(P,a.plot_name?a.plot_name:"")}),(0,n.jsx)(dt.WB,{auto:"auto",children:(0,n.jsx)(dt._p,{plotSelected:l,onClick:(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l;case 2:setTimeout((function(){J(f),W(h)}),500);case 3:case"end":return e.stop()}}),e)}))),ref:f,children:(0,n.jsx)(Ct,{params_for_api:a,plot:c[i],plotURL:e,query:p,imageRef:f,isPlotSelected:l})})})]})})}))})},qa=function(e){var t=e.plot,a=e.params_for_api,r=e.selected_plots;a.plot_name=t.name;var l={w:a.width,h:a.height},c=(0,i.useContext)(Rt.h).imageRefScrollDown,m=(0,T.WG)(a),h=(a.overlaidWithLayoutsConfig?[a.overlaidWithLayoutsConfig].concat(m):m).join("");a.joined_overlaied_plots_urls=h;var p=(0,at.SJ)(a),f=(0,u.useRouter)().query,L=(0,i.useRef)(null);t.dataset_name=f.dataset_name,t.run_number=f.run_number;var g=i.useRef(null),b=i.useState(0),C=(0,y.Z)(b,2),x=C[0],S=C[1],_=i.useState(!1),j=(0,y.Z)(_,2),P=j[0],v=j[1];i.useEffect((function(){S(x+1),g.current&&x<3&&v(g.current.clientHeight>24)}),[g.current&&g.current.clientHeight]);var E=(0,Q.SO)(r,t);return(0,n.jsx)(d.Z,{title:P?decodeURI(a.plot_name):"",children:(0,n.jsxs)(dt.qI,{size:l,isPlotSelected:E.toString(),children:[(0,n.jsxs)(dt.t8,{ref:g,error:X(t).toString(),isPlotSelected:E.toString(),children:[" ",(0,K.be)(P,a.plot_name?a.plot_name:"")]}),(0,n.jsx)(dt.WB,{auto:"auto",children:(0,n.jsx)(dt._p,{plotSelected:E,onClick:(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E;case 2:setTimeout((function(){J(L),W(c)}),500);case 3:case"end":return e.stop()}}),e)}))),ref:L,children:(0,n.jsx)(Ct,{params_for_api:a,plot:t,plotURL:p,query:f,imageRef:L,isPlotSelected:E})})})]})})},Fa=function(e){var t=e.plot,a=e.selected_plots,r=e.params_for_api;return(0,n.jsx)(n.Fragment,{children:"onSide"===r.overlay?(0,n.jsx)(Ia,{params_for_api:r,plot:t,selected_plots:a}):(0,n.jsx)(qa,{plot:t,params_for_api:r,selected_plots:a})})},Qa=function(e){var t=e.plots,a=e.selected_plots,r=e.query,o=(0,i.useContext)(Y.h);return(0,n.jsx)(n.Fragment,{children:t.map((function(e){var t=z(o,r,encodeURIComponent(e.name),e.path);return e?(0,n.jsx)("div",{children:r.overlay_data?(0,n.jsx)(Fa,{plot:e,params_for_api:t,selected_plots:a},e.name):(0,n.jsx)(Da,{plot:e,params_for_api:t,selected_plots:a},e.name)},e.name):(0,n.jsx)(n.Fragment,{})}))})},Ba=function(e){var t=e.plots,a=e.selected_plots,r=e.plots_grouped_by_layouts,o=(0,u.useRouter)().query;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ga,{plots_grouped_by_layouts:r,selected_plots:a,query:o}),(0,n.jsx)(Qa,{plots:t,selected_plots:a,query:o})]})},Na=function(e){var t=e.plots,a=e.selected_plots,r=e.plots_grouped_by_layouts,o=e.isLoading,s=e.viewPlotsPosition,i=e.proportion,l=e.errors,u=e.query,c=e.filteredFolders,d=e.plotsAreaRef,m=e.blink,y=(0,h.oq)({run_number:u.run_number,dataset_name:u.dataset_name});return(0,n.jsx)(Ie.im,{ref:d,any_selected_plots:a.length>0&&0===l.length,position:s,proportion:i,children:y&&o&&0===c.length||!y&&o?(0,n.jsx)(de.Zh,{children:(0,n.jsx)(de.$j,{})}):(0,n.jsx)(n.Fragment,{children:o||0!==c.length||0!==t.length||r||0!==l.length?0===l.length?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(L.Y0,{width:"100%",space:"2",children:(0,n.jsx)(sa,{blink:m,isLoading:o,directories:c})}),(0,n.jsx)(me.Z,{children:(0,n.jsx)(Ba,{plots:t,selected_plots:a,plots_grouped_by_layouts:r})})]}):!o&&l.length>0&&(0,n.jsx)(de.RY,{message:l,type:"error",showIcon:!0},l):(0,n.jsx)(ye.Q,{})})})},Aa=a(43926),za=(0,n.jsxs)(Ve.Z,{children:[(0,n.jsx)(Ve.Z.Item,{children:(0,n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cmsrunregistry.web.cern.ch/online/global?",children:"Run Registry"})}),(0,n.jsx)(Ve.Z.Item,{children:(0,n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cmsoms.cern.ch/",children:"OMS"})}),(0,n.jsx)(Ve.Z.Item,{children:(0,n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cmsonline.cern.ch/",children:"CMS online"})})]}),Ua=function(){return(0,n.jsx)(Je.Z,{overlay:za,placement:"bottomCenter",arrow:!0,children:(0,n.jsx)(L.H7,{icon:(0,n.jsx)(Aa.Z,{}),children:"Useful Links"})})},Va=a(51752),Ja=[{label:"Summaries",workspaces:[{label:"Summary",foldersPath:["Summary"],quickCollections:[]},{label:"Shift",foldersPath:["00 Shift"],quickCollections:[]},{label:"Info",foldersPath:["Info"],quickCollections:[]},{label:"Everything",foldersPath:[],quickCollections:[]}]},{label:"Trigger",workspaces:[{label:"L1T",foldersPath:["L1T"],quickCollections:[]},{label:"L1TEMU",foldersPath:["L1TEMU"],quickCollections:[]},{label:"HLT",foldersPath:["HLT"],quickCollections:[]}]},{label:"Tracker",workspaces:[{label:"PixelPhase1",foldersPath:["PixelPhase1"],quickCollections:["PixelPhase1/Layouts/000 - PixelPhase1 ReportSummary: Layer or Disk vs subdet","PixelPhase1/Layouts/00a - PixelPhase1 FED Occupancy vs Lumi Block","PixelPhase1/Layouts/00b - PixelPhase1_Error_Summary","PixelPhase1/Layouts/01a - PixelPhase1_Event_Rate","PixelPhase1/Layouts/01b - PixelPhase1 DeadROC Summary","PixelPhase1/Layouts/01c - PixelPhase1 Cluster Size vs Cluster Eta","PixelPhase1/Layouts/02 - PixelPhase1_Digi_ADC_Barrel","PixelPhase1/Layouts/03 - PixelPhase1_Digi_ADC_Endcap","PixelPhase1/Layouts/04 - PixelPhase1_Cluster_Number","PixelPhase1/Layouts/21 - PixelPhase1 Digis: Ladder vs Module barrel summary","PixelPhase1/Layouts/22 - PixelPhase1 Clusters: Ladder vs Module barrel summary","PixelPhase1/Layouts/28 - PixelPhase1 Digis: BladePanel vs Disk endcap summary","PixelPhase1/Layouts/29 - PixelPhase1 Clusters: BladePanel vs Disk endcap summary","PixelPhase1/Layouts/31 - ntracks","PixelPhase1/Layouts/32 - Charge and size","PixelPhase1/Layouts/33a - Cluster on track charge per Inner Ladders","PixelPhase1/Layouts/33b - Cluster on track charge per Outer Ladders","PixelPhase1/Layouts/33c - Cluster charge (on-track) per Disk","PixelPhase1/Layouts/34 -  Ontrack PXLayer","PixelPhase1/Layouts/35 - Ontrack Disk","PixelPhase1/Layouts/38 - PixelPhase1 Residuals","PixelPhase1/Layouts/39a - ClusterSize Vs Eta (OnTrack) inner","PixelPhase1/Layouts/39b - ClusterSize Vs Eta (OnTrack) outer","PixelPhase1/Layouts/40a - Cluster size (on-track) per Ladders","PixelPhase1/Layouts/40b - Cluster size (on-track) per Disk","PixelPhase1/Layouts/41a - Dead Channels per ROC per Barrel Layer","PixelPhase1/Layouts/41b - Dead Channels per ROC per Forward Ring"]},{label:"Pixel",foldersPath:["Pixel"],quickCollections:["Pixel/Layouts/00b - Pixel_Error_Summary","Pixel/Layouts/01 - Pixel_FEDOccupancy_Summary","Pixel/Layouts/02 - Pixel_Cluster_Summary","Pixel/Layouts/03 - Pixel_Track_Summary","Pixel/Layouts/05 - Barrel OnTrack cluster positions","Pixel/Layouts/06 - Endcap OnTrack cluster positions","Pixel/Layouts/07 - Pixel_Digi_Summary","Pixel/Layouts/08 - ROC occupancies","Pixel/Layouts/09 - Pixel Clusters vs LS"]},{label:"SiStrip",foldersPath:["SiStrip"],quickCollections:["SiStrip/Layouts/00 - SiStrip ReportSummary","SiStrip/Layouts/01 - FED-Detected Errors Summary","SiStrip/Layouts/03 - # of Cluster Trend","SiStrip/Layouts/04 - OnTrackCluster (StoN)","SiStrip/Layouts/05 - OffTrackCluster (Total Number)","SiStrip/Layouts/06a - FED Errors vs FED ID","SiStrip/Layouts/29 - Cluster & Digi occupancy per FED"]},{label:"Alignment",foldersPath:null,quickCollections:["OfflinePV/AlignmentValidation/00 - Vertex and vertex tracks quality","OfflinePV/AlignmentValidation/01 - Impact parameters and errors","OfflinePV/AlignmentValidation/02 - Impact parameters projections (pT>1 GeV)","OfflinePV/AlignmentValidation/03 - Impact parameters projections (pT>10 GeV)","PixelPhase1/Layouts/38 - PixelPhase1 Residuals","PixelPhase1/Layouts/38aa - Residuals x per Layer","PixelPhase1/Layouts/38ab - Residuals y per Layer","PixelPhase1/Layouts/38ba - Profile Residuals x PXBarrel","PixelPhase1/Layouts/38bb - Profile Residuals y PXBarrel","PixelPhase1/Layouts/38ca - Mean Residuals x inner Modules per Layer","PixelPhase1/Layouts/38cb - Mean Residuals x outer Modules per Layer","PixelPhase1/Layouts/38cc - Mean Residuals y inner Modules per Layer","PixelPhase1/Layouts/38cd - Mean Residuals y outer Modules per Layer","PixelPhase1/Layouts/38da - Residuals x per Disk","PixelPhase1/Layouts/38db - Residuals y per Disk","PixelPhase1/Layouts/38e - Profile Residuals PXFoward","PixelPhase1/Layouts/38fa - Mean Residuals InnerOuter Modules PXForward","PixelPhase1/Layouts/38fb - Mean Residuals pos.neg. Side PXForward","SiStrip/Layouts/21 - TIB Residuals","SiStrip/Layouts/22 - TOB Residuals","SiStrip/Layouts/23 - TID+ Residuals","SiStrip/Layouts/24 - TID- Residuals","SiStrip/Layouts/25 - TEC+ Residual","SiStrip/Layouts/26 - TEC- Residual"]}]},{label:"Calorimeters",workspaces:[{label:"Ecal",foldersPath:["Ecal","EcalBarrel","EcalEndcap"],quickCollections:["Ecal/Layouts/00 Summary","Ecal/Layouts/01 Occupancy Summary"]},{label:"EcalPreshower",foldersPath:["EcalPreshower"],quickCollections:["EcalPreshower/Layouts/01-IntegritySummary-EcalPreshower","EcalPreshower/Layouts/02-GoodRechitOccupancySummary-EcalPreshower","EcalPreshower/Layouts/03-GoodRechitEnergySummary-EcalPreshower","EcalPreshower/Layouts/04-ESTimingTaskSummary-EcalPreshower","EcalPreshower/Layouts/05-ESGain-EcalPreshower"]},{label:"HCAL",foldersPath:["Hcal","Hcal2"],quickCollections:["Hcal/Layouts/00 Current Summary","Hcal/Layouts/01 RAW Bad Quality","Hcal/Layouts/02 RAW Bad Quality depth","Hcal/Layouts/03 RAW Mismatches","Hcal/Layouts/04 DIGI Missing 1LS","Hcal/Layouts/05 DIGI Occupancy","Hcal/Layouts/06 DIGI Occupancy Total","Hcal/Layouts/07 DIGI Occupancy Cut","Hcal/Layouts/08 DIGI Timing","Hcal/Layouts/09 DIGI Total Charge","Hcal/Layouts/10 DIGI Occupancy vs LS","Hcal/Layouts/11 DIGI Amplitude vs LS","Hcal/Layouts/12 RECO Energy","Hcal/Layouts/13 RECO Occupancy","Hcal/Layouts/14 RECO Occupancy Cut","Hcal/Layouts/15 RECO Timing","Hcal/Layouts/16 RECO HBHEabc Timing","Hcal/Layouts/17 RECO Timing vs Energy","Hcal/Layouts/18 TP Et Correlation","Hcal/Layouts/19 TP Et Correlation Ratio","Hcal/Layouts/20 TP Et Distribution","Hcal/Layouts/21 TP Et Mismatches","Hcal/Layouts/22 TP Et Missing","Hcal/Layouts/23 TP Et Occupancy"]},{label:"HCALcalib",foldersPath:["HcalCalib"],quickCollections:["HcalCalib/Layouts/00 Current Summary","HcalCalib/Layouts/01 Pedestal Mean","HcalCalib/Layouts/02 Pedestal Mean by FED","HcalCalib/Layouts/03 Pedestal RMS","HcalCalib/Layouts/04 Pedestal RMS by FED","HcalCalib/Layouts/05 Pedestal Mean DB Ref","HcalCalib/Layouts/06 Pedestal Mean DB Ref by FED","HcalCalib/Layouts/07 Pedestal RMS DB Ref","HcalCalib/Layouts/08 Pedestal RMS DB Ref by FED","HcalCalib/Layouts/09 Pedestal Mean Bad","HcalCalib/Layouts/10 Pedestal Mean Bad by FED","HcalCalib/Layouts/11 Pedestal RMS Bad","HcalCalib/Layouts/12 Pedestal RMS Bad by FED","HcalCalib/Layouts/13 Pedestal Missing","HcalCalib/Layouts/14 Pedestal Missing by FED","HcalCalib/Layouts/15 Pedestal Occupancy vs LS","HcalCalib/Layouts/16 Missing vs LS","HcalCalib/Layouts/17 Number of Bad Mean vs LS","HcalCalib/Layouts/18 Number of Bad RMS vs LS"]},{label:"Castor",foldersPath:["Castor"],quickCollections:["Castor/Layouts/01 - Map of frontend and readout errors","Castor/Layouts/02 - Channel-wise timing","Castor/Layouts/02b - Channel-wise timing (rms)","Castor/Layouts/Digi/05 - DigiSize"]}]},{label:"Muons",workspaces:[{label:"CSC",foldersPath:["CSC"],quickCollections:["CSC/Layouts/00 Data Integrity/Physics Efficiency 01","CSC/Layouts/00 Data Integrity/Physics Efficiency 02","CSC/Layouts/00 Data Integrity/Physics Efficiency 04 - CSCs Reporting Data and Unpacked","CSC/Layouts/00 Data Integrity/Physics Efficiency 08 - CSCs Occupancy Overal","CSC/Layouts/00 Data Integrity/Physics Efficiency 07 - CSCs Occupancy 2D","CSC/Layouts/00 Data Integrity/Physics Efficiency 09 - RecHits Minus","CSC/Layouts/00 Data Integrity/Physics Efficiency 10 - RecHits Plus","CSC/Layouts/00 Data Integrity/Physics Efficiency 11 - Segments","CSC/Layouts/00 Data Integrity/Physics Efficiency 12 - Timing"]},{label:"DT",foldersPath:["DT"],quickCollections:[]},{label:"RPC",foldersPath:["RPC"],quickCollections:[]},{label:"GEM",foldersPath:["GEM"],quickCollections:["GEM/Layouts/01 - Efficiency vs Chamber","GEM/Layouts/02 - Efficiency vs Muon PT","GEM/Layouts/03 - Efficiency vs Muon Eta","GEM/Layouts/04 - Resolution Summary"]}]},{label:"CTPPS",workspaces:[{label:"TrackingStrip",foldersPath:["CTPPS/TrackingStrip","CTPPS/common","CTPPS/TrackingStrip/Layouts"],quickCollections:[]},{label:"TrackingPixel",foldersPath:["CTPPS/TrackingPixel","CTPPS/common","CTPPS/TrackingPixel/Layouts"],quickCollections:[]},{label:"TimingDiamond",foldersPath:["CTPPS/TimingDiamond","CTPPS/common","CTPPS/TimingDiamond/Layouts"],quickCollections:[]},{label:"TimingFastSilicon",foldersPath:["CTPPS/TimingFastSilicon","CTPPS/common","CTPPS/TimingFastSilicon/Layouts"],quickCollections:[]}]},{label:"POG",workspaces:[{label:"Muons",foldersPath:["Muons"],quickCollections:[]},{label:"JetMet",foldersPath:["JetMet"],quickCollections:[]},{label:"EGamma",foldersPath:["Egamma"],quickCollections:[]},{label:"Btag",foldersPath:["Btag"],quickCollections:["Btag/Layouts/00 - Jet Property","Btag/Layouts/01 - Tracks in Jet","Btag/Layouts/02 - Vertex Property","Btag/Layouts/03 - Flight Distance Summary","Btag/Layouts/04 - Discriminator Summary","Btag/Layouts/05 - 2D-Impact Parameter","Btag/Layouts/06 - 3D-Impact Parameter","Btag/Layouts/07 - ROC Curves"]},{label:"Tracking",foldersPath:["Tracking","AlcaBeamMonitor","OfflinePV"],quickCollections:["Tracking/Layouts/01 - Tracking ReportSummary","Tracking/Layouts/02a - Tracks (pp collisions)","Tracking/Layouts/02b - Total Hits Strip and Pixel (pp collisions)","Tracking/Layouts/03 - Tracks (Cosmic Tracking)","Tracking/Layouts/05 - Number of Seeds (pp collisions)","Tracking/Layouts/06 - Tracks resolution","Tracking/Layouts/06a - Tracks quality","Tracking/Layouts/07 - Vertex reconstruction","Tracking/Layouts/08 - Tracking Efficiency"]},{label:"Tau",foldersPath:["RecoTauV"],quickCollections:["RecoTauV/Layouts/SingleMu/00aa - Fake rate from muons vs pt","RecoTauV/Layouts/SingleMu/00ab - Fake rate from muons vs pt","RecoTauV/Layouts/SingleMu/01a - Muon rejection fake rate vs pt","RecoTauV/Layouts/Jet/00aa - Fake rate from jets vs pt","RecoTauV/Layouts/Jet/00ab - Fake rate from jets vs pt","RecoTauV/Layouts/DoubleElectron_OR_TauPlusX/00aa - Fake rate from electrons vs pt","RecoTauV/Layouts/DoubleElectron_OR_TauPlusX/00ab - Fake rate from electrons vs pt","RecoTauV/Layouts/DoubleElectron_OR_TauPlusX/01a - Electron rejection fake rate vs pt","RecoTauV/Layouts/SingleMu/00ba - Fake rate from muons vs pileup","RecoTauV/Layouts/SingleMu/00bb - Fake rate from muons vs pileup","RecoTauV/Layouts/Jet/00ba - Fake rate from jets vs pileup","RecoTauV/Layouts/Jet/00bb - Fake rate from jets vs pileup","RecoTauV/Layouts/Jet/01e - Distributions of size and sumPt for isolation PF Cands, QCD Jets faking taus","RecoTauV/Layouts/Jet/01f - Distributions of Raw Quantities of Tau Cands, QCD Jets faking taus","RecoTauV/Layouts/Jet/01g - Distributions of Tau Cands Multiplicity, QCD Jets faking taus","RecoTauV/Layouts/Jet/01h - Distributions of Tau Cands pTRatio, QCD Jets faking taus","RecoTauV/Layouts/DoubleElectron_OR_TauPlusX/00ba - Fake rate from electrons vs pileup","RecoTauV/Layouts/DoubleElectron_OR_TauPlusX/00bb - Fake rate from electrons vs pileup"]}]}],Wa=[{label:"Summaries",workspaces:[{label:"Summary",foldersPath:["Summary"],quickCollections:[]},{label:"Shift",foldersPath:["00 Shift"],quickCollections:[]},{label:"Info",foldersPath:["Info"],quickCollections:["Info/Layouts/1 - HV and Beam Status per LumiSection","Info/Layouts/2 - Run key set for DQM","Info/Layouts/3 - HLT menu used","Info/Layouts/4 - Version of CMSSW used","Info/Layouts/5 - Global Tag used"]},{label:"Everything",foldersPath:[],quickCollections:[]}]},{label:"Trigger",workspaces:[{label:"L1T",foldersPath:["L1T"],quickCollections:["L1T/Layouts/Stage2-QuickCollection/00 - Calo Layer1 ECAL Input Occupancy","L1T/Layouts/Stage2-QuickCollection/01 - Calo Layer1 HCAL Input Occupancy","L1T/Layouts/Stage2-QuickCollection/02 - Calo Layer1 Input Link Errors and event mismatches","L1T/Layouts/Stage2-QuickCollection/03 - uGMT MUON BX and Link vs BX","L1T/Layouts/Stage2-QuickCollection/04 - uGMT MUON P_{T}","L1T/Layouts/Stage2-QuickCollection/05 - uGMT MUON ETA","L1T/Layouts/Stage2-QuickCollection/06 - uGMT MUON PHI","L1T/Layouts/Stage2-QuickCollection/07 - uGMT MUON PHI ETA","L1T/Layouts/Stage2-QuickCollection/08 - uGT Algoritm Trigger Bits (before prescale) vs Global BX Number","L1T/Layouts/Stage2-QuickCollection/09 - uGT Algorithm Trigger Bits (after prescale) vs. Global BX Number","L1T/Layouts/Stage2-QuickCollection/10 - uGT Algorithm Trigger Bits (after prescale) vs. BX Number in Event","L1T/Layouts/Stage2-QuickCollection/11 - uGT Algorithm Trigger Bits (after prescale)","L1T/Layouts/Stage2-QuickCollection/12 - Calo Layer2 Bx Occupancy distributions","L1T/Layouts/Stage2-QuickCollection/13 - Calo Layer2 Central Jet Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/14 - Calo Layer2 Central Jets Pt distribution","L1T/Layouts/Stage2-QuickCollection/15 - Calo Layer2 Forward Jet Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/16 - Calo Layer2 Forward Jet Pt distribution","L1T/Layouts/Stage2-QuickCollection/17 - Calo Layer2 Isolated EG Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/18 - Calo Layer2 Isolated EG Pt distribution","L1T/Layouts/Stage2-QuickCollection/19 - Calo Layer2 Non-Isolated EG Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/20 - Calo Layer2 Non-Isolated EG Pt distribution","L1T/Layouts/Stage2-QuickCollection/21 - Calo Layer2 Isolated Tau Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/22 - Calo Layer2 Isolated Tau Pt distribution","L1T/Layouts/Stage2-QuickCollection/23 - Calo Layer2 Non-Isolated Tau Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/24 - Calo Layer2 Non-Isolated Tau Pt distribution","L1T/Layouts/Stage2-QuickCollection/25 - Calo Layer2 EtSum Bx Occupancy distribution","L1T/Layouts/Stage2-QuickCollection/26 - Calo Layer2 ETT Et distribution","L1T/Layouts/Stage2-QuickCollection/27 - Calo Layer2 ETTEM Et distribution","L1T/Layouts/Stage2-QuickCollection/28 - Calo Layer2 HTT Et distribution","L1T/Layouts/Stage2-QuickCollection/29 - Calo Layer2 MET Et distribution","L1T/Layouts/Stage2-QuickCollection/30 - Calo Layer2 MET Phi distribution","L1T/Layouts/Stage2-QuickCollection/31 - Calo Layer2 METHF Et distribution","L1T/Layouts/Stage2-QuickCollection/32 - Calo Layer2 METHF Phi distribution","L1T/Layouts/Stage2-QuickCollection/33 - Calo Layer2 MHT Et distribution","L1T/Layouts/Stage2-QuickCollection/34 - Calo Layer2 MHT Phi distribution","L1T/Layouts/Stage2-QuickCollection/35 - Calo Layer2 MHTHF Et distribution","L1T/Layouts/Stage2-QuickCollection/36 - Calo Layer2 MHTHF Phi distribution","L1T/Layouts/Stage2-QuickCollection/37 - uGMT BMTF BX and Wedge vs BX","L1T/Layouts/Stage2-QuickCollection/38 - BMTF Muon HW p_{T}","L1T/Layouts/Stage2-QuickCollection/39 - uGMT BMTF HW Eta","L1T/Layouts/Stage2-QuickCollection/40 - uGMT BMTF HW Phi","L1T/Layouts/Stage2-QuickCollection/41 - uGMT BMTF HW vs Sign","L1T/Layouts/Stage2-QuickCollection/42 - uGMT OMTF BX and Sector vs. BX","L1T/Layouts/Stage2-QuickCollection/43 - uGMT OMTF HW p_{T}","L1T/Layouts/Stage2-QuickCollection/44 - uGMT OMTF HW Eta","L1T/Layouts/Stage2-QuickCollection/45 - uGMT OMTF HW Phi (top: positive, bottom: negative)","L1T/Layouts/Stage2-QuickCollection/46 - uGMT OMTF HW Sign","L1T/Layouts/Stage2-QuickCollection/47 - uGMT EMTF BX and Track vs BX","L1T/Layouts/Stage2-QuickCollection/48 - uGMT EMTF Phi","L1T/Layouts/Stage2-QuickCollection/49 - EMTF LCT Occupancy","L1T/Layouts/Stage2-QuickCollection/50 - Calo TPG Link Errors and event mismatches (top: ECAL, bottom: HCAL)","L1T/Layouts/Stage2-QuickCollection/51 - uGT CaloLayer2 Inputs Board 2-6 misMatch Ratios","L1T/Layouts/Stage2-QuickCollection/52 - uGT Muon Inputs Board 2-6 misMatch Ratios","L1T/Layouts/Stage2-QuickCollection/53 - uGMT Muon Copy 1-5 misMatch Ratios","L1T/Layouts/Stage2-QuickCollection/54 - Input vs Output misMatch Ratios (clockwise from top left: uGT vs. uGMT, uGT vs. caloL2, uGMT vs. EMTF, uGMT vs. OMTF, uGMT vs. BMTF)","L1T/Layouts/Stage2-QuickCollection/55 - uGMT Zero Suppression misMatch Ratio (left: all events, right: fat events)","L1T/Layouts/Stage2-QuickCollection/56 - BMTF Zero Suppression misMatch Ratio (left: all events, right: fat events)"]},{label:"L1T2016EMU",foldersPath:["L1T2016EMU"],quickCollections:["L1TEMU/Layouts/Stage2-QuickCollection/00 - CaloTower Data-Emulator Status","L1TEMU/Layouts/Stage2-QuickCollection/01 - uGMT Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/02 - BMTF Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/03 - OMTF Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/04 - EMTF Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/05 - Calo Layer2 High Level Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/06 - Calo Layer2 Jet Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/07 - Calo Layer2 EG Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/08 - Calo Layer2 Tau Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/09 - Calo Layer2 Energy Sum Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/10 - Calo Layer2 Problem Summary","L1TEMU/Layouts/Stage2-QuickCollection/11 - uGT Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/12 - uGMT Intermediate Muon Data-Emulator misMatch ratio"]},{label:"L1T2016",foldersPath:["L1T2016"],quickCollections:["L1T/Layouts/Stage2-QuickCollection/00 - Calo Layer1 ECAL Input Occupancy","L1T/Layouts/Stage2-QuickCollection/01 - Calo Layer1 HCAL Input Occupancy","L1T/Layouts/Stage2-QuickCollection/02 - Calo Layer1 Input Link Errors and event mismatches","L1T/Layouts/Stage2-QuickCollection/03 - uGMT MUON BX and Link vs BX","L1T/Layouts/Stage2-QuickCollection/04 - uGMT MUON P_{T}","L1T/Layouts/Stage2-QuickCollection/05 - uGMT MUON ETA","L1T/Layouts/Stage2-QuickCollection/06 - uGMT MUON PHI","L1T/Layouts/Stage2-QuickCollection/07 - uGMT MUON PHI ETA","L1T/Layouts/Stage2-QuickCollection/08 - uGT Algoritm Trigger Bits (before prescale) vs Global BX Number","L1T/Layouts/Stage2-QuickCollection/09 - uGT Algorithm Trigger Bits (after prescale) vs. Global BX Number","L1T/Layouts/Stage2-QuickCollection/10 - uGT Algorithm Trigger Bits (after prescale) vs. BX Number in Event","L1T/Layouts/Stage2-QuickCollection/11 - uGT Algorithm Trigger Bits (after prescale)","L1T/Layouts/Stage2-QuickCollection/12 - Calo Layer2 Bx Occupancy distributions","L1T/Layouts/Stage2-QuickCollection/13 - Calo Layer2 Central Jet Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/14 - Calo Layer2 Central Jets Pt distribution","L1T/Layouts/Stage2-QuickCollection/15 - Calo Layer2 Forward Jet Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/16 - Calo Layer2 Forward Jet Pt distribution","L1T/Layouts/Stage2-QuickCollection/17 - Calo Layer2 Isolated EG Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/18 - Calo Layer2 Isolated EG Pt distribution","L1T/Layouts/Stage2-QuickCollection/19 - Calo Layer2 Non-Isolated EG Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/20 - Calo Layer2 Non-Isolated EG Pt distribution","L1T/Layouts/Stage2-QuickCollection/21 - Calo Layer2 Isolated Tau Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/22 - Calo Layer2 Isolated Tau Pt distribution","L1T/Layouts/Stage2-QuickCollection/23 - Calo Layer2 Non-Isolated Tau Et Eta vs Phi distribution","L1T/Layouts/Stage2-QuickCollection/24 - Calo Layer2 Non-Isolated Tau Pt distribution","L1T/Layouts/Stage2-QuickCollection/25 - Calo Layer2 EtSum Bx Occupancy distribution","L1T/Layouts/Stage2-QuickCollection/26 - Calo Layer2 ETT Et distribution","L1T/Layouts/Stage2-QuickCollection/27 - Calo Layer2 ETTEM Et distribution","L1T/Layouts/Stage2-QuickCollection/28 - Calo Layer2 HTT Et distribution","L1T/Layouts/Stage2-QuickCollection/29 - Calo Layer2 MET Et distribution","L1T/Layouts/Stage2-QuickCollection/30 - Calo Layer2 MET Phi distribution","L1T/Layouts/Stage2-QuickCollection/31 - Calo Layer2 METHF Et distribution","L1T/Layouts/Stage2-QuickCollection/32 - Calo Layer2 METHF Phi distribution","L1T/Layouts/Stage2-QuickCollection/33 - Calo Layer2 MHT Et distribution","L1T/Layouts/Stage2-QuickCollection/34 - Calo Layer2 MHT Phi distribution","L1T/Layouts/Stage2-QuickCollection/35 - Calo Layer2 MHTHF Et distribution","L1T/Layouts/Stage2-QuickCollection/36 - Calo Layer2 MHTHF Phi distribution","L1T/Layouts/Stage2-QuickCollection/37 - uGMT BMTF BX and Wedge vs BX","L1T/Layouts/Stage2-QuickCollection/38 - BMTF Muon HW p_{T}","L1T/Layouts/Stage2-QuickCollection/39 - uGMT BMTF HW Eta","L1T/Layouts/Stage2-QuickCollection/40 - uGMT BMTF HW Phi","L1T/Layouts/Stage2-QuickCollection/41 - uGMT BMTF HW vs Sign","L1T/Layouts/Stage2-QuickCollection/42 - uGMT OMTF BX and Sector vs. BX","L1T/Layouts/Stage2-QuickCollection/43 - uGMT OMTF HW p_{T}","L1T/Layouts/Stage2-QuickCollection/44 - uGMT OMTF HW Eta","L1T/Layouts/Stage2-QuickCollection/45 - uGMT OMTF HW Phi (top: positive, bottom: negative)","L1T/Layouts/Stage2-QuickCollection/46 - uGMT OMTF HW Sign","L1T/Layouts/Stage2-QuickCollection/47 - uGMT EMTF BX and Track vs BX","L1T/Layouts/Stage2-QuickCollection/48 - uGMT EMTF Phi","L1T/Layouts/Stage2-QuickCollection/49 - EMTF LCT Occupancy","L1T/Layouts/Stage2-QuickCollection/50 - Calo TPG Link Errors and event mismatches (top: ECAL, bottom: HCAL)","L1T/Layouts/Stage2-QuickCollection/51 - uGT CaloLayer2 Inputs Board 2-6 misMatch Ratios","L1T/Layouts/Stage2-QuickCollection/52 - uGT Muon Inputs Board 2-6 misMatch Ratios","L1T/Layouts/Stage2-QuickCollection/53 - uGMT Muon Copy 1-5 misMatch Ratios","L1T/Layouts/Stage2-QuickCollection/54 - Input vs Output misMatch Ratios (clockwise from top left: uGT vs. uGMT, uGT vs. caloL2, uGMT vs. EMTF, uGMT vs. OMTF, uGMT vs. BMTF)","L1T/Layouts/Stage2-QuickCollection/55 - uGMT Zero Suppression misMatch Ratio (left: all events, right: fat events)","L1T/Layouts/Stage2-QuickCollection/56 - BMTF Zero Suppression misMatch Ratio (left: all events, right: fat events)"]},{label:"L1TEMU",foldersPath:["L1TEMU"],quickCollections:["L1TEMU/Layouts/Stage2-QuickCollection/00 - CaloTower Data-Emulator Status","L1TEMU/Layouts/Stage2-QuickCollection/01 - uGMT Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/02 - BMTF Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/03 - OMTF Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/04 - EMTF Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/05 - Calo Layer2 High Level Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/06 - Calo Layer2 Jet Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/07 - Calo Layer2 EG Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/08 - Calo Layer2 Tau Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/09 - Calo Layer2 Energy Sum Data-Emulator Agreement Summary","L1TEMU/Layouts/Stage2-QuickCollection/10 - Calo Layer2 Problem Summary","L1TEMU/Layouts/Stage2-QuickCollection/11 - uGT Data-Emulator misMatch ratio","L1TEMU/Layouts/Stage2-QuickCollection/12 - uGMT Intermediate Muon Data-Emulator misMatch ratio"]},{label:"HLT",foldersPath:["HLT"],quickCollections:["HLT/ObjectMonitor/MainShifter/Photon_pT","HLT/ObjectMonitor/MainShifter/Muon_pT","HLT/ObjectMonitor/MainShifter/Electron_pT","HLT/ObjectMonitor/MainShifter/Jet_pT","HLT/ObjectMonitor/MainShifter/JetAK8_Pt","HLT/ObjectMonitor/MainShifter/JetAK8_mass","HLT/ObjectMonitor/MainShifter/Tau_pT","HLT/ObjectMonitor/MainShifter/Dimuon_LowMass","HLT/ObjectMonitor/MainShifter/diMuon_Mass","HLT/ObjectMonitor/MainShifter/di-Electron_Mass","HLT/ObjectMonitor/MainShifter/alphaT","HLT/ObjectMonitor/MainShifter/CaloMET_pT","HLT/ObjectMonitor/MainShifter/CaloHT_pT","HLT/ObjectMonitor/MainShifter/PFHT_pT","HLT/ObjectMonitor/MainShifter/PFMET_pT","HLT/ObjectMonitor/MainShifter/L2Muon_pT","HLT/ObjectMonitor/MainShifter/L2NoBPTXMuon_pT","HLT/ObjectMonitor/MainShifter/Rsq","HLT/ObjectMonitor/MainShifter/mr","HLT/ObjectMonitor/MainShifter/Muon_dxy","HLT/ObjectMonitor/MainShifter/bJetCSVCalo","HLT/ObjectMonitor/MainShifter/bJetCSVPF","HLT/Tracking/iter2Merged/GeneralProperties/TrackPt_ImpactPoint_GenTk","HLT/Tracking/pixelTracks/GeneralProperties/TrackPt_ImpactPoint_GenTk","HLT/Tracking/iter2Merged/GeneralProperties/NumberOfTracksVsLS_GenTk","HLT/Tracking/pixelTracks/GeneralProperties/NumberOfTracksVsLS_GenTk","HLT/Tracking/iter2Merged/GeneralProperties/NumberOfRecHitsPerTrackVsLS_GenTk","HLT/Tracking/pixelTracks/GeneralProperties/NumberOfRecHitsPerTrackVsLS_GenTk","HLT/SiStrip/MechanicalView/TIB/TotalNumberOfClusterProfile__TIB","HLT/Layouts/highestRate Summary"]}]},{label:"Tracker",workspaces:[{label:"PixelPhase1",foldersPath:["PixelPhase1"],quickCollections:["PixelPhase1/Layouts/000 - PixelPhase1 ReportSummary: Layer or Disk vs subdet","PixelPhase1/Layouts/00a - PixelPhase1 FED Occupancy vs Lumi Sections","PixelPhase1/Layouts/00b - PixelPhase1_Error_Summary","PixelPhase1/Layouts/01c - PixelPhase1 Cluster Size vs Cluster Eta","PixelPhase1/Layouts/02 - PixelPhase1_Digi_ADC_Barrel","PixelPhase1/Layouts/03 - PixelPhase1_Digi_ADC_Endcap","PixelPhase1/Layouts/04 - PixelPhase1_Cluster_Number","PixelPhase1/Layouts/05 - PixelPhase1_Cluster_Charge","PixelPhase1/Layouts/06 - PixelPhase1_Cluster_Size","PixelPhase1/Layouts/19 - PixelPhase1 Digis: Ladder vs Module barrel summary","PixelPhase1/Layouts/20 - PixelPhase1 Clusters: Ladder vs Module barrel summary","PixelPhase1/Layouts/24 - PixelPhase1 Cluster Position: Z vs Phi barrel summary","PixelPhase1/Layouts/27 - PixelPhase1 Digis: BladePanel vs Disk endcap summary","PixelPhase1/Layouts/28 - PixelPhase1 Clusters: BladePanel vs Disk endcap summary","PixelPhase1/Layouts/30 - PixelPhase1 Cluster Position: X vs Y endcap summary","PixelPhase1/Layouts/31 - PixelPhase1 Dead ROC Trends in barrel","PixelPhase1/Layouts/32 - PixelPhase1 Dead ROC Trends in endcap","PixelPhase1/Layouts/33 - ntracks","PixelPhase1/Layouts/34 - Charge and size (on-track)","PixelPhase1/Layouts/35a - Cluster charge (on-track) per Inner Ladders","PixelPhase1/Layouts/35b - Cluster charge (on-track) per Outer Ladders","PixelPhase1/Layouts/35c - Cluster charge (on-track) per Disk","PixelPhase1/Layouts/36 - Cluster position (on-track) per PXLayer","PixelPhase1/Layouts/37 - Cluster position (on-track) per Disk","PixelPhase1/Layouts/40 - PixelPhase1 Residuals","PixelPhase1/Layouts/41a - ClusterSize Vs Eta (on-track) inner","PixelPhase1/Layouts/41b - ClusterSize Vs Eta (on-track) outer","PixelPhase1/Layouts/42a - Cluster size (on-track) per Ladders","PixelPhase1/Layouts/42b - Cluster size (on-track) per Disk","PixelPhase1/Layouts/43a - Dead Channels per ROC per Barrel Layer","PixelPhase1/Layouts/43b - Dead Channels per ROC per Forward Ring"]},{label:"Pixel",foldersPath:["Pixel"],quickCollections:[]},{label:"SiStrip",foldersPath:["SiStrip","Tracking"],quickCollections:["SiStrip/Layouts/00 - SiStrip ReportSummary","SiStrip/Layouts/01 - FED-Detected Errors Summary","SiStrip/Layouts/02 - FED-Detected Errors Trend","SiStrip/Layouts/03 - # of Digi Trend","SiStrip/Layouts/04 - # of Cluster Trend","SiStrip/Layouts/05 - OnTrackCluster (StoN)","SiStrip/Layouts/06 - OffTrackCluster (Total Number)","SiStrip/Layouts/07 - Tracking ReportSummary","SiStrip/Layouts/08 - Tracks (pp collisions)","SiStrip/Layouts/09 - Tracks (Cosmic Tracking)","SiStrip/Layouts/10 - Tracks (HI run)","SiStrip/Layouts/11a - FED Errors vs FED ID","SiStrip/Layouts/33 - Cluster & Digi occupancy per FED","SiStrip/Layouts/34 - FED Errors Vs Id Vs Lumi"]}]},{label:"Calorimeters",workspaces:[{label:"Ecal",foldersPath:["Ecal","EcalBarrel","EcalEndcap","EcalCalibration"],quickCollections:["Ecal/Layouts/00 Summary","Ecal/Layouts/01 Occupancy Summary","Ecal/Layouts/02 Calibration Summary"]},{label:"EcalPreshower",foldersPath:["EcalPreshower"],quickCollections:["EcalPreshower/Layouts/01-IntegritySummary-EcalPreshower","EcalPreshower/Layouts/02-GoodRechitOccupancySummary-EcalPreshower","EcalPreshower/Layouts/03-GoodRechitEnergySummary-EcalPreshower","EcalPreshower/Layouts/04-ESTimingTaskSummary-EcalPreshower","EcalPreshower/Layouts/05-ESGain-EcalPreshower","EcalPreshower/Layouts/06-ES-Fiber-Error-Code"]},{label:"HCAL",foldersPath:["Hcal","Hcal2"],quickCollections:["Hcal/Layouts/00 Current Summary","Hcal/Layouts/01 RAW Bad Quality","Hcal/Layouts/02 RAW Bad Quality depth","Hcal/Layouts/03 RAW Mismatches","Hcal/Layouts/04 DIGI Missing 1LS","Hcal/Layouts/05 DIGI Occupancy","Hcal/Layouts/06 DIGI Occupancy Total","Hcal/Layouts/07 DIGI Occupancy Cut","Hcal/Layouts/08 DIGI Timing","Hcal/Layouts/09 DIGI Total Charge","Hcal/Layouts/10 DIGI Occupancy vs LS","Hcal/Layouts/11 DIGI Amplitude vs LS","Hcal/Layouts/12 RECO Energy","Hcal/Layouts/13 RECO Occupancy","Hcal/Layouts/14 RECO Occupancy Cut","Hcal/Layouts/15 RECO Timing","Hcal/Layouts/16 RECO HBHEabc Timing","Hcal/Layouts/17 RECO Timing vs Energy","Hcal/Layouts/18 TP Et Correlation","Hcal/Layouts/19 TP Et Correlation Ratio","Hcal/Layouts/20 TP Et Distribution","Hcal/Layouts/21 TP Et Mismatches","Hcal/Layouts/22 TP Et Missing","Hcal/Layouts/23 TP Et Occupancy"]},{label:"HCALcalib",foldersPath:["HcalCalib"],quickCollections:["HcalCalib/Layouts/00 Current Summary","HcalCalib/Layouts/01 Pedestal Mean","HcalCalib/Layouts/02 Pedestal Mean by FED","HcalCalib/Layouts/03 Pedestal RMS","HcalCalib/Layouts/04 Pedestal RMS by FED","HcalCalib/Layouts/05 Pedestal Mean DB Ref","HcalCalib/Layouts/06 Pedestal Mean DB Ref by FED","HcalCalib/Layouts/07 Pedestal RMS DB Ref","HcalCalib/Layouts/08 Pedestal RMS DB Ref by FED","HcalCalib/Layouts/09 Pedestal Mean Bad","HcalCalib/Layouts/10 Pedestal Mean Bad by FED","HcalCalib/Layouts/11 Pedestal RMS Bad","HcalCalib/Layouts/12 Pedestal RMS Bad by FED","HcalCalib/Layouts/13 Pedestal Missing","HcalCalib/Layouts/14 Pedestal Missing by FED","HcalCalib/Layouts/15 Pedestal Occupancy vs LS","HcalCalib/Layouts/16 Missing vs LS","HcalCalib/Layouts/17 Number of Bad Mean vs LS","HcalCalib/Layouts/18 Number of Bad RMS vs LS"]},{label:"Castor",foldersPath:["Castor"],quickCollections:["Castor/Layouts/01 - Map of frontend and readout errors","Castor/Layouts/02 - Channel-wise timing","Castor/Layouts/02b - Channel-wise timing (rms)","Castor/Layouts/Digi/05 - DigiSize"]}]},{label:"Muons",workspaces:[{label:"CSC",foldersPath:["CSC"],quickCollections:["CSC/Layouts/00 Top Physics Efficiency","CSC/Layouts/01 Station Physics Efficiency","CSC/Layouts/02 EMU Summary/EMU Test01 - DDUs in Readout","CSC/Layouts/02 EMU Summary/EMU Test03 - DDU Reported Errors","CSC/Layouts/02 EMU Summary/EMU Test04 - DDU Format Errors","CSC/Layouts/02 EMU Summary/EMU Test05 - DDU Inputs Status","CSC/Layouts/02 EMU Summary/EMU Test06 - DDU Inputs in ERROR-WARNING State","CSC/Layouts/02 EMU Summary/EMU Test08 - CSCs Reporting Data and Unpacked","CSC/Layouts/02 EMU Summary/EMU Test10 - CSCs with Errors and Warnings (Fractions)","CSC/Layouts/02 EMU Summary/EMU Test11 - CSCs without Data Blocks","CSC/Layouts/06 Physics Efficiency - RecHits Minus","CSC/Layouts/07 Physics Efficiency - RecHits Plus"]},{label:"DT",foldersPath:["DT"],quickCollections:["DT/Layouts/00-Summary/00-DataIntegritySummary","DT/Layouts/00-Summary/00-ROChannelSummary","DT/Layouts/00-Summary/01-OccupancySummary","DT/Layouts/00-Summary/02-SegmentSummary","DT/Layouts/00-Summary/03-TM_TriggerCorrFractionSummaryIn","DT/Layouts/00-Summary/04-TM_Trigger2ndFractionSummaryIn","DT/Layouts/00-Summary/05-NoiseChannelsSummary","DT/Layouts/00-Summary/06-SynchNoiseSummary"]},{label:"RPC",foldersPath:["RPC"],quickCollections:["RPC/Layouts/01-Fatal_FED_Errors","RPC/Layouts/02-RPC_Events","RPC/Layouts/08-Barrel_Occupancy","RPC/Layouts/09-Endcap_Occupancy"]},{label:"GEM",foldersPath:["GEM"],quickCollections:["GEM/Layouts/Common/00 Summary","GEM/Layouts/Common/01 AMC status positive endcap","GEM/Layouts/Common/02 AMC status negative endcap","GEM/Layouts/Common/03 GE-11L1 GEB input status","GEM/Layouts/Common/04 GE-11L2 GEB input status","GEM/Layouts/Common/05 GE+11L1 GEB input status","GEM/Layouts/Common/06 GE+11L2 GEB input status","GEM/Layouts/Common/07 GE-11L1 VFAT input status","GEM/Layouts/Common/08 GE-11L2 VFAT input status","GEM/Layouts/Common/09 GE+11L1 VFAT input status","GEM/Layouts/Common/10 GE+11L2 VFAT input status","GEM/Layouts/Common/11 GE-11L1 bunch crossing","GEM/Layouts/Common/12 GE-11L2 bunch crossing","GEM/Layouts/Common/13 GE+11L1 bunch crossing","GEM/Layouts/Common/14 GE+11L2 bunch crossing","GEM/Layouts/Common/15 GE-11L1 digi occupancy","GEM/Layouts/Common/16 GE-11L2 digi occupancy","GEM/Layouts/Common/17 GE+11L1 digi occupancy","GEM/Layouts/Common/18 GE+11L2 digi occupancy","GEM/Layouts/Common/19 GE-11L1 digi occupancy vs iEta","GEM/Layouts/Common/20 GE-11L2 digi occupancy vs iEta","GEM/Layouts/Common/21 GE+11L1 digi occupancy vs iEta","GEM/Layouts/Common/22 GE+11L2 digi occupancy vs iEta","GEM/Layouts/Common/23 GE-11L1 digi occupancy vs phi","GEM/Layouts/Common/24 GE-11L2 digi occupancy vs phi","GEM/Layouts/Common/25 GE+11L1 digi occupancy vs phi","GEM/Layouts/Common/26 GE+11L2 digi occupancy vs phi","GEM/Layouts/Common/27 GE-11L1 total number of strips per event","GEM/Layouts/Common/28 GE-11L2 total number of strips per event","GEM/Layouts/Common/29 GE+11L1 total number of strips per event","GEM/Layouts/Common/30 GE+11L2 total number of strips per event","GEM/Layouts/Common/31 GE-11L1 recHit occupancy","GEM/Layouts/Common/32 GE-11L2 recHit occupancy","GEM/Layouts/Common/33 GE+11L1 recHit occupancy","GEM/Layouts/Common/34 GE+11L2 recHit occupancy","GEM/Layouts/Common/35 GE-11L1 recHit occupancy vs iEta","GEM/Layouts/Common/36 GE-11L2 recHit occupancy vs iEta","GEM/Layouts/Common/37 GE+11L1 recHit occupancy vs iEta","GEM/Layouts/Common/38 GE+11L2 recHit occupancy vs iEta","GEM/Layouts/Common/39 GE-11L1 recHit occupancy vs phi","GEM/Layouts/Common/40 GE-11L2 recHit occupancy vs phi","GEM/Layouts/Common/41 GE+11L1 recHit occupancy vs phi","GEM/Layouts/Common/42 GE+11L2 recHit occupancy vs phi","GEM/Layouts/Common/43 GE-11L1 total number of recHits per event","GEM/Layouts/Common/44 GE-11L2 total number of recHits per event","GEM/Layouts/Common/45 GE+11L1 total number of recHits per event","GEM/Layouts/Common/46 GE+11L2 total number of recHits per event","GEM/Layouts/Common/47 GE-11L1 iEta 1 cluster size","GEM/Layouts/Common/48 GE-11L1 iEta 2 cluster size","GEM/Layouts/Common/49 GE-11L1 iEta 3 cluster size","GEM/Layouts/Common/50 GE-11L1 iEta 4 cluster size","GEM/Layouts/Common/51 GE-11L1 iEta 5 cluster size","GEM/Layouts/Common/52 GE-11L1 iEta 6 cluster size","GEM/Layouts/Common/53 GE-11L1 iEta 7 cluster size","GEM/Layouts/Common/54 GE-11L1 iEta 8 cluster size","GEM/Layouts/Common/55 GE-11L2 iEta 1 cluster size","GEM/Layouts/Common/56 GE-11L2 iEta 2 cluster size","GEM/Layouts/Common/57 GE-11L2 iEta 3 cluster size","GEM/Layouts/Common/58 GE-11L2 iEta 4 cluster size","GEM/Layouts/Common/59 GE-11L2 iEta 5 cluster size","GEM/Layouts/Common/60 GE-11L2 iEta 6 cluster size","GEM/Layouts/Common/61 GE-11L2 iEta 7 cluster size","GEM/Layouts/Common/62 GE-11L2 iEta 8 cluster size","GEM/Layouts/Common/63 GE+11L1 iEta 1 cluster size","GEM/Layouts/Common/64 GE+11L1 iEta 2 cluster size","GEM/Layouts/Common/65 GE+11L1 iEta 3 cluster size","GEM/Layouts/Common/66 GE+11L1 iEta 4 cluster size","GEM/Layouts/Common/67 GE+11L1 iEta 5 cluster size","GEM/Layouts/Common/68 GE+11L1 iEta 6 cluster size","GEM/Layouts/Common/69 GE+11L1 iEta 7 cluster size","GEM/Layouts/Common/70 GE+11L1 iEta 8 cluster size","GEM/Layouts/Common/71 GE+11L2 iEta 1 cluster size","GEM/Layouts/Common/72 GE+11L2 iEta 2 cluster size","GEM/Layouts/Common/73 GE+11L2 iEta 3 cluster size","GEM/Layouts/Common/74 GE+11L2 iEta 4 cluster size","GEM/Layouts/Common/75 GE+11L2 iEta 5 cluster size","GEM/Layouts/Common/76 GE+11L2 iEta 6 cluster size","GEM/Layouts/Common/77 GE+11L2 iEta 7 cluster size","GEM/Layouts/Common/78 GE+11L2 iEta 8 cluster size"]}]},{label:"CTPPS",workspaces:[{label:"TrackingStrip",foldersPath:["CTPPS/TrackingStrip","CTPPS/common","CTPPS/TrackingStrip/Layouts"],quickCollections:[]},{label:"TrackingPixel",foldersPath:["CTPPS/TrackingPixel","CTPPS/common","CTPPS/TrackingPixel/Layouts"],quickCollections:[]},{label:"TimingDiamond",foldersPath:["CTPPS/TimingDiamond","CTPPS/common","CTPPS/TimingDiamond/Layouts"],quickCollections:[]},{label:"TimingFastSilicon",foldersPath:["CTPPS/TimingFastSilicon","CTPPS/common","CTPPS/TimingFastSilicon/Layouts"],quickCollections:[]}]}],Xa=a(77649),Ya=Va.Z.TabPane,$a=function(){var e=(0,u.useRouter)().query,t=i.useContext(Rt.h),a=t.workspace,r=t.setWorkspace,l="ONLINE"===_.f9.mode?Wa:Ja;i.useEffect((function(){var t=e.workspaces?e.workspaces:l[0].workspaces[3].label;return r(t),function(){return r(t)}}),[]);var c=i.useState(!1),d=(0,y.Z)(c,2),m=d[0],h=d[1];return(0,n.jsx)(Pe.ZP,{children:(0,n.jsxs)(L.jp,{label:"Workspace",children:[(0,n.jsx)(be.Z,{onClick:function(){h(!m)},type:"link",children:a}),(0,n.jsx)(f.oA,{title:"Workspaces",visible:m,onCancel:function(){return h(!1)},footer:null,children:(0,n.jsx)(Va.Z,{defaultActiveKey:"1",type:"card",children:l.map((function(t){return(0,n.jsx)(Ya,{tab:t.label,children:t.workspaces.map((function(t){return(0,n.jsx)(be.Z,{type:"link",onClick:(0,s.Z)(o().mark((function a(){return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r(t.label),h(!m),t.label!==l[0].workspaces[0].label){a.next=7;break}return a.next=5,(0,Xa.P)(e,t.label,"Summary");case 5:a.next=9;break;case 7:return a.next=9,(0,Xa.P)(e,t.label);case 9:case"end":return a.stop()}}),a)}))),children:t.label},t.label)}))},t.label)}))})})]})})},Ka=function(){var e=(0,u.useRouter)().query,t=i.useState(e.plot_search),a=(0,y.Z)(t,2),r=a[0],o=a[1];return i.useEffect((function(){if(e.plot_search!==r){var t=(0,Q.Eg)({plot_search:r},e);(0,Q.Cg)(t)}}),[r]),i.useMemo((function(){return(0,n.jsx)(Pe.ZP,{onChange:function(e){return o(e.target.value)},children:(0,n.jsx)(L.jp,{children:(0,n.jsx)(L.tg,{defaultValue:e.plot_search,id:"plot_search",placeholder:"Enter plot name"})})})}),[r])},en=function(e,t,a,n){var r=(0,ma.Z)(a).concat(n);return e?0===e.length?{folders:t,plots:r}:{folders:t.filter((function(t){return e.includes(t.subdir)})),plots:r}:{folders:[],plots:r}},tn=a(50048);function an(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return nn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nn(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==a.return||a.return()}finally{if(i)throw o}}}}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var rn="ONLINE"===_.f9.mode?Wa:Ja,on=function(e,t){var a,n,r,o=an(rn);try{for(o.s();!(r=o.n()).done;){var s=r.value.workspaces.filter((function(t){return t.label===e}));if(s.length>0)if("break"===function(){var e=s[0].foldersPath,r=t?t.split("/").length:0;if(a=e?e.map((function(e){var t=e.split("/");return t.length>=r?t[r]:[]})):null,r>=1)n=[];else{var o=s[0].quickCollections;n=o.map((function(e){var t=e.split("/");return{name:t.pop(),path:t.join("/")}}))}return"break"}())break}}catch(i){o.e(i)}finally{o.f()}return{folders:a?(0,tn.Z)(a).filter(Boolean):null,quickCollections:n}},sn=function(e){var t=e?e.map((function(e){var t=e.name;return function(e){var t=(0,Se.jA)(e);return S().get("".concat(_.Jg).concat(t)).then((function(t){var a=t.data.data;return a.length>0?a.map((function(t){var a=(0,pa.Z)("",["source"],t).split("/");return{name:a.pop(),path:a.join("/"),layout:e,quickCollection:!0}})):[]})).catch((function(e){return console.error(e)}))}(t).then((function(a){return a.length>0?a:{name:t,path:e.path}})).catch((function(e){return console.error(e)}))})):[];return Promise.all(t)},ln=function(){var e=(0,s.Z)(o().mark((function e(t,a,n){var r,s,i,l,u,c,d,m,h,y,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t).notOlderThan=a,e.next=4,ka(r).then((function(e){return e}));case 4:return s=e.sent,i=(0,pa.Z)(null,["folders"],s),l=(0,pa.Z)("",["plots"],s),e.next=9,on(n,r.folder_path);case 9:return u=e.sent,c=(0,pa.Z)("",["quickCollections"],u),d=(0,pa.Z)(null,["folders"],u),e.next=14,sn(c);case 14:return m=e.sent,h=en(d,i,m,l),y=(0,pa.Z)([],["folders"],h),p=(0,pa.Z)([],["plots"],h),e.abrupt("return",{folders:y,plots:p});case 19:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),un=function(){var e=i.useState([]),t=(0,y.Z)(e,2),a=t[0],n=t[1],r=i.useState([]),l=(0,y.Z)(r,2),c=l[0],d=l[1],m=i.useState(!1),p=(0,y.Z)(m,2),f=p[0],L=p[1],g=i.useState(""),b=(0,y.Z)(g,2),C=b[0],x=b[1],S=(0,K.YO)(),_=(0,u.useRouter)().query,j=i.useContext(Rt.h).workspace,P=i.useContext($.h),v=P.not_older_than,T=P.addLoader,E=(0,h.oq)({run_number:_.run_number,dataset_name:_.dataset_name}),k=E?[j,_.folder_path,_.plot_search,v]:[j,_.folder_path,_.plot_search],M=lt(v).blink;return i.useEffect((function(){E&&T({value:f,id:S})}),[f]),i.useEffect((function(){n([]),d([])}),[]),i.useEffect((function(){L(!0),ln(_,v,j).then(function(){var e=(0,s.Z)(o().mark((function e(t){var a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!1),a=t.folders,r=t.plots,e.next=4,n(a);case 4:return e.next=6,d(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){L(!1),x(e),console.error(e)}))}),k),{folders:a,plots:c,isLoading:f,errors:C,blink:M}},cn=function(e){var t=e.folder_path,a=(0,i.useContext)(Rt.h),r=a.viewPlotsPosition,o=a.proportion,s=(0,i.useState)(!1),l=s[0],d=s[1],m=i.useRef(null),h=i.useState(0),p=(0,y.Z)(h,2),f=p[0],g=p[1],b=(0,u.useRouter)().query,C=b.selected_plots,x=un(),S=x.folders,_=x.plots,j=x.isLoading,P=x.errors,v=x.blink,T=(0,Q.JI)(_),E=T.plots_with_layouts_,k=T.plots_without_layouts_,M=(0,Q.KU)(C,_);return i.useEffect((function(){m.current&&g(m.current.clientWidth)}),[m.current]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(L.Y0,{space:"2",width:"100%",justifycontent:"space-between",children:[(0,n.jsx)(ra,{openSettings:l,onClose:function(){return d(!1)},isAnyPlotSelected:0===M.length}),(0,n.jsx)(c.Z,{style:{padding:8},children:(0,n.jsx)(Kt.b,{folder_path:t,changeFolderPathByBreadcrumb:function(e){return(0,Q.Cg)((0,Q.Eg)(e,b))}})}),(0,n.jsxs)(me.Z,{gutter:16,children:[(0,n.jsx)(c.Z,{children:(0,n.jsx)($a,{})}),(0,n.jsx)(c.Z,{children:(0,n.jsx)(Ka,{})}),(0,n.jsx)(c.Z,{children:(0,n.jsx)(Ua,{})}),(0,n.jsx)(c.Z,{children:(0,n.jsx)(L.H7,{icon:(0,n.jsx)(tt.Z,{}),onClick:function(){return d(!0)},children:"Settings"})})]})]}),(0,n.jsx)(L.Y0,{width:"100%",children:(0,n.jsx)($t,{plotsAreaWidth:f,selected_plots:M.length>0})}),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(Ie.T8,{selectedPlots:M.length>0,position:r,children:[(0,n.jsx)(Na,{blink:v,plotsAreaRef:m,plots:k,selected_plots:M,plots_grouped_by_layouts:E,isLoading:j,viewPlotsPosition:r,proportion:o,errors:P,filteredFolders:S,query:b}),M.length>0&&0===P.length&&(0,n.jsx)(Ie.wD,{any_selected_plots:M.length&&0===P.length,proportion:o,position:r,children:(0,n.jsx)(Gt,{selected_plots:M})})]})})]})},dn=function(e,t){var a=i.useState(e),n=(0,y.Z)(a,2),r=n[0],o=n[1];return i.useEffect((function(){o(e)}),[e]),i.useEffect((function(){o(t)}),[t]),r},mn=function(){return(0,n.jsx)(L.Bn,{onClick:function(){!function(e,t){var a={run_number:e,dataset_name:t,folder_path:"Summary",workspaces:Wa[0].workspaces[0].label},n=se().stringify(a,{}),r="/"!==_.A?"".concat(_.A,"?").concat(n):void 0;u.default.push({pathname:"",query:a},r)}("0","/Global/Online/ALL")},children:(0,n.jsx)("a",{children:"Live Mode"})})},hn=function(e){var t=e.latest_runs,a=e.not_older_than,r=(0,nt.Z)(e,["latest_runs","not_older_than"]),o=(0,u.useRouter)().query.mode,s=lt(a).blink;return(0,n.jsx)(de.V1,{children:t.map((function(e){return(0,n.jsx)(de.N6,{children:(0,n.jsx)(de.ux,{isLoading:s.toString(),animation:("ONLINE"===r.mode).toString(),hover:"true",onClick:function(){(0,Q.Cg)({search_run_number:e,mode:o})},children:(0,n.jsx)(de.nB,{children:e})})},e.toString())}))})},yn=function(){var e=i.useContext($.h),t=e.not_older_than,a=e.addLoader,r=i.useState(),o=(0,y.Z)(r,2),s=o[0],l=o[1],u=v((0,Se.fk)(),{},[]),c=v((0,Se.mr)(t),{},[t]),d=dn(u.data,c.data),m=dn(u.errors,c.errors),h=dn(u.isLoading,c.isLoading),p=u.isLoading,f=(0,pa.Z)([],["runs"],d),g=f.sort((function(e,t){return t-e}));return i.useEffect((function(){var e=(0,K.YO)();l(e)}),[]),i.useEffect((function(){a({value:h,id:s})}),[h]),(0,n.jsx)(n.Fragment,{children:!p&&m.length>0?m.map((function(e){return(0,n.jsx)(de.RY,{message:e,type:"error",showIcon:!0},e)})):p?(0,n.jsx)(de.Zh,{children:(0,n.jsx)(de.$j,{})}):(0,n.jsxs)(de.zm,{children:[(0,n.jsx)(L.Jf,{display:"flex",justifycontent:"flex-end",width:"auto",children:"ONLINE"===_.f9.mode&&(0,n.jsx)(mn,{})}),(0,n.jsx)(de.U6,{children:"The latest runs"}),p?(0,n.jsx)(de.Zh,{children:(0,n.jsx)(de.$j,{})}):0!==g.length||p||0!==m.length?f&&(0,n.jsx)(hn,{latest_runs:g,mode:_.f9.mode,not_older_than:t}):(0,n.jsx)(ye.Q,{})]})})},pn=function(){var e=(0,u.useRouter)().query,t=Le(e.search_run_number,e.search_dataset_name),a=t.results_grouped,r=t.searching,o=t.isLoading,s=t.errors;return e.dataset_name&&e.run_number?(0,n.jsx)(cn,{folder_path:e.folder_path||""}):r?(0,n.jsx)(pe,{isLoading:o,results_grouped:a,handler:function(t,a,n){n.preventDefault();var r=(0,K.BW)(t.toString()),o=r.parsedRun,s=r.parsedLumi;(0,Q.Cg)((0,Q.Eg)({lumi:s,run_number:o,dataset_name:a,workspaces:"Everything",plot_search:""},e))},errors:s}):!_.f9.new_back_end.latest_runs||e.dataset_name||e.run_number?(0,n.jsx)(de.eB,{children:(0,n.jsxs)(de.C3,{noBorder:!0,children:[(0,n.jsx)(de.Cy,{}),"Welcome to DQM GUI"]})}):(0,n.jsx)(yn,{})},fn=(0,n.jsx)(Ve.Z,{children:[{name:"Online-new",link:"https://cmsweb.cern.ch/dqm/online-new/"},{name:"Online-playback-new",link:"https://cmsweb.cern.ch/dqm/online-playback-new/"},{name:"Offline-test-new",link:"https://cmsweb-testbed.cern.ch/dqm/offline-test-new/"}].map((function(e){return(0,n.jsx)(Ve.Z.Item,{disabled:_.D$&&_.D$.toUpperCase()===e.name.toUpperCase(),children:(0,n.jsx)(be.Z,{type:"link",disabled:_.D$&&_.D$.toUpperCase()===e.name.toUpperCase(),onClick:function(){return location.href=e.link},children:e.name})},e.name)}))}),Ln=function(e){var t=e.host;return(0,n.jsx)(Je.Z,{overlay:fn,placement:"bottomCenter",arrow:!0,children:(0,n.jsx)(be.Z,{type:"link",style:{color:"white",fontVariant:"all-small-caps",height:"max-content"},children:(0,n.jsxs)("div",{style:{display:"block"},children:[(0,n.jsx)("div",{children:_.D$?_.D$:_.f9.mode+" (development)"}),(0,n.jsx)("div",{style:{fontSize:"smaller"},children:t})]})})})},gn=function(){var e=(0,u.useRouter)().query,t=(0,i.useContext)(Rt.h),a=t.setHost,r=t.host;(0,i.useEffect)((function(){!function(e){S().get("".concat(_.Jg).concat((0,Se.IP)())).then((function(t){var a=t.data.host;e(a)})).catch((function(e){return console.error(e)}))}(a)}),[]);var y=!!e.run_number&&!!e.dataset_name;return window.onload=(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("holderStyle").remove();case 1:case"end":return e.stop()}}),e)}))),(0,n.jsxs)(m.lx,{children:[(0,n.jsxs)(l.default,{children:[(0,n.jsx)("style",{id:"holderStyle",dangerouslySetInnerHTML:{__html:"\n      *, *::before, *::after {\n        transition: none!important;\n      }"}}),(0,n.jsx)("script",{crossOrigin:"anonymous",type:"text/javascript",src:"./jsroot-5.8.0/scripts/JSRootCore.js?2d&hist&more2d"}),(0,n.jsx)("script",{src:"https://unpkg.com/react@17/umd/react.production.min.js"}),(0,n.jsx)("script",{src:"https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"})]}),(0,n.jsxs)(m.Rh,{children:[(0,n.jsxs)(m.eb,{children:[(0,n.jsx)(c.Z,{children:(0,n.jsxs)(c.Z,{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(d.Z,{title:"Back to main page",placement:"bottomLeft",children:(0,n.jsx)(m.JI,{children:(0,n.jsx)(m.IY,{onClick:function(e){return(0,h.kv)(e)},children:(0,n.jsx)(m.ps,{src:"./images/CMSlogo_white_red_nolabel_1024_May2014.png"})})})}),(0,n.jsx)(Ln,{host:r})]})}),(0,n.jsx)(et,{isDatasetAndRunNumberSelected:y,query:e})]}),(0,n.jsx)(pn,{})]})]})}},45301:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(83044)}])}},function(e){e.O(0,[662,324,505,122,774,888,179],(function(){return t=45301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);